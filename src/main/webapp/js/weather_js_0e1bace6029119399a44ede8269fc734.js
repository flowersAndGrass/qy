function ajaxlogin(issynclogin,which,filename,callback,type,url,isopen){var _login={DEPS:["../../common/basic/js/require.js"/*tpa=http://common1.qyerstatic.com/place/common/basic/js/require.js*/,"../../common/basic/js/qyerUtil.js"/*tpa=http://common1.qyerstatic.com/place/common/basic/js/qyerUtil.js*/],init:function(){var _this=this;"function"!=typeof requirejs?$.ajax({url:_this.DEPS[0],dataType:"script",cache:!0,success:function(script){eval(script),_this.getQyerUtil()},error:function(t){alert("加载登录模块时发生错误，请重试。")}}):_this.getQyerUtil()},getQyerUtil:function(){var _this=this;qyerUtil&&"function"==typeof qyerUtil.doLogin?_this.doLogin():$.ajax({url:_this.DEPS[1],dataType:"script",cache:!0,success:function(script){eval(script),_this.doLogin()},error:function(t){alert("加载登录模块时发生错误，请重试。")}})},doLogin:function(){if(qyerUtil.isLogin())return!1;var t="reg"===type?"regist":"login";pageType="",redirectURL=url||window.location.href,callback="function"==typeof callback?callback:function(){},allowClose=!0,qyerUtil.doLogin({page:t,pageType:pageType,redirectURL:redirectURL,callback:callback})}};return _login.init()}function pagereload(){location.reload()}function syncAfterLogin(t,e){QYER.uid=t,e=e||"",jQuery.getJSON("http://user.qyer.com/user_action_logininfo?xxcb="+e+"&callback=?")}function isloginjump(t,e){return QYER.uid>0?(location.href=t,!1):(alert(1),t="http://bbs.qyer.com/"+t,void ajaxlogin(0,"","http://common1.qyerstatic.com/place/js/common/bbsajax.php","","",t))}function getAjaxMsg(t){"object"==typeof t&&1==t.status&&(jQuery("body").append(t.script),setTimeout(function(){window.location.href=t.url},2e3))}function ajaxLogout(){tips.show("退出登录中..."),jQuery.ajax({type:"get",dataType:"jsonp",url:"http://login.qyer.com/login.php?action=ajaxLogout&callback=?"})}function islogin(t,e,i){e=e||ajaxlogin;var n="/public.php?action=islogin&rnd="+ +new Date;if(!i)return void jQuery.getJSON(n,function(i){i||e&&e(),"ok"==i.result?("undefined"!=typeof comment&&comment.setUid(i.data.uid),t&&t(i.data)):e&&e(i.data)});var r=!1;return jQuery.ajax({url:n,dataType:"json",async:!1,success:function(i){i||(e&&e(),r=!1),"ok"==i.result?(t&&t(i.data),r=!0):(e&&e(i.data),r=!1)}}),r}function yjbGetCookie(t){for(var e=document.cookie.split("; "),i=0;i<e.length;i++){var n=e[i].split("=");if(n[0]==t)return unescape(n[1])}}function yjbSetCookie(t,e){var i=1,n=new Date;n.setTime(n.getTime()+24*i*60*60*1e3),document.cookie=t+"="+escape(e)+";domain=.qyer.com;expires="+n.toGMTString()}function closeAppPup(){yjbSetCookie("apppopup","1"),jQuery("#apppopup_bg").hide(),pupclose()}function spam_text_filter(){var t=/(http:\/\/)?[\w\.]*\.?(mafengwo\.cn|mafengwo\.com|mafengwo\.net)[a-zA-Z\/0-9&\?\.#\-_]*/gim;jQuery(".qyer_spam_text_filter a").each(function(){(jQuery(this).html()+jQuery(this).attr("href")).indexOf("http://common1.qyerstatic.com/place/js/common/mafengwo.cn")==-1&&(jQuery(this).html()+jQuery(this).attr("href")).indexOf("http://common1.qyerstatic.com/place/js/common/mafengwo.com")==-1&&(jQuery(this).html()+jQuery(this).attr("href")).indexOf("http://common1.qyerstatic.com/place/js/common/mafengwo.net")==-1||jQuery(this).replaceWith(jQuery(this).html())}),jQuery(".qyer_spam_text_filter").each(function(){var e=jQuery(this).html();e=e.replace(/\<script.*?\>document\.write\(AC_FL_RunContent.*?\<\/script\>/gim,"");var i=e.match(/\<img[\s\S]*?\>/gim);if(null!=i)for(var n=0;n<i.length;n++)e=e.replace(i[n],"[imgimg]"+n+"[/imgimg]");if(e=e.replace(t,""),null!=i)for(var n=0;n<i.length;n++)e=e.replace("[imgimg]"+n+"[/imgimg]",i[n]);jQuery(this).html(e)})}function loadjscssfile(t,e){if("js"==e){var i=document.createElement("script");i.setAttribute("type","text/javascript"),i.setAttribute("src",t)}else if("css"==e){var i=document.createElement("link");i.setAttribute("rel","stylesheet"),i.setAttribute("type","text/css"),i.setAttribute("href",t)}"undefined"!=typeof i&&document.getElementsByTagName("head")[0].appendChild(i)}function getCookie(t){var e=document.cookie.match(new RegExp("(^| )"+t+"=([^;]*)(;|$)"));return null!=e?unescape(e[2]):null}function setCookie(t,e){document.cookie=t+"="+escape(e)+"; path=/;domain=ask.qyer.com"}function getABFromGuid(){var t=new RegExp("(^| )_guid=([^;]*)(;|$)","i"),e=document.cookie.match(t),i="";if(null!=e&&e.length>1&&(i=e[2]),""==i)return"b";var n=i.substr(i.length-1,1).toLowerCase(),r=parseInt("0x"+n);return r>7?"b":"a"}function amendUrl(t,e){if(""==e)return t;var i="",n=t.indexOf("#");return n!=-1&&(i=t.substr(n),t=t.substr(0,n)),t=t.indexOf("?")==-1?t+"?"+e:t+"&"+e,t+i}function follow(t){function e(t,e,i){e?(qyerUI.message({msg:"成功取消关注",type:"true"}),i.attr("data-bn-ipg","usercenter-follow")):(qyerUI.message({msg:"成功关注",type:"true"}),i.attr("data-bn-ipg","usercenter-unfollow")),i.attr("data-relate",e),"1"==t?i.hasClass("ui_attent_btn_each")?(i.removeClass("ui_attent_btn_each"),i.hasClass("_js_index_switch_do")&&jQuery("._js_index_switch_do").removeClass("ui_attent_btn_each")):(i.addClass("ui_attent_btn_each"),i.hasClass("_js_index_switch_do")&&jQuery("._js_index_switch_do").addClass("ui_attent_btn_each")):i.hasClass("ui_attent_btn_yes")?(i.removeClass("ui_attent_btn_yes"),i.hasClass("_js_index_switch_do")&&jQuery("._js_index_switch_do").removeClass("ui_attent_btn_yes")):(i.addClass("ui_attent_btn_yes"),i.hasClass("_js_index_switch_do")&&jQuery("._js_index_switch_do").addClass("ui_attent_btn_yes"))}if(QYER.uid<=0)return ajaxlogin(),!1;var i=t.attr("data-uid"),n=t.attr("data-relate"),r=t.attr("data-each"),s="";s=1==n?"action=addfriend&fuid="+i:"action=channelfriend&uid="+i;var a="http://common1.qyerstatic.com/public.php";/^http:\/\/bbs\.qyer\.com\//.test(window.location.href)&&(a="http://common1.qyerstatic.com/bbsajax.php"),jQuery.ajax({type:"POST",url:a,data:s,dataType:"json",beforeSend:function(t){},success:function(i){"ok"==i.result?(n=0==n?1:0,e(r,n,t)):e(r,n,t)}})}function weiboshare(t,e,i){var n=e;i=i||"";var r="http://service.weibo.com/share/share.php?appkey=2254065920&title="+encodeURIComponent(t)+"&url="+encodeURIComponent(n)+"&ralateUid=1721449743";i&&(r+="&pic="+encodeURIComponent(i)),window.open(r,"_blank","scrollbars=no,width=600,height=480,left=75,top=20,status=no,resizable=yes,")}function tracker_request(t){var e=encodeURIComponent(window.location.href),i="http://qt.qyer.com/beacon.gif?type=click&category="+encodeURIComponent(t)+"&campaign=inpage&",n=encodeURIComponent(document.referrer),r=jQuery.cookie("_guid")||"",s=jQuery.cookie("_uid")||"",a=jQuery.cookie("_session")||"";if(i+="referer="+e+"&referer_link="+n+"&guid="+r+"&user_id="+s+"&session="+a,"https:"!==document.location.protocol){var o=new Image;o.src=i}}function flash(t,e,i){if(""==t)return"";e=e?e:590,i=i?i:410;var n="";return n+='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=7,0,19,0" width="'+e+'" height="'+i+'">',n+='<param name="movie" value="'+t+'">',n+='<param name="quality" value="high">',n+='<param name="wmode" value="transparent">',n+='<param name="menu" value="false">',n+='<embed src="'+t+'" quality="high" pluginspage="http://www.macromedia.com/go/getflashplayer" type="application/x-shockwave-flash" width="'+e+'" height="'+i+'" wmode="transparent" ></embed>',n+="</object>"}function showFlash(t,e,i,n){i=i?i:590,n=n?n:410;var r="";r+="<style>",r+=".popup_video_bg{background:url(http://common2.qyerstatic.com/place/project/images/old/plan2/popup_video_bg.png);}",r+="</style>",r+=flash(e,i,n),jQuery("#"+t).html(r),qyerUI.popup.show({id:t,width:i}),jQuery(".ui_popup_bg").addClass("popup_video_bg"),jQuery(".ui_popup_close").css({top:-30,right:-30})}function showJnFlash(t){showFlash(t,"http://tv.sohu.com/upload/swf/20130917/PlayerShell.swf?autoplay=true&skinNum=1&api_key=1b047048287fa2a7ca1370e2f19a3f93&id=60435608&topBar=0&showRecommend=0&shareBtn=1&likeBtn=1&topBarFull=1&topBarNor=1&sogouBtn=0&qq-pf-to=pcqq.discussion&isListPlay=0")}function userover(t){$(t).find("div").show()}function userout(t){var e=$(t);setTimeout(function(){$(e).find("div").hide()},100)}function batchdoingspopup(t,e,i,n){return"undefined"!=typeof t&&("undefined"==typeof e&&(e="city"),"undefined"==typeof i&&(i="beento"),n="undefined"==typeof n?1:n,place_doings_comment_popupmessage.page=n,"undefined"!=typeof place_doings_comment_popupmessage[n]?(popup.showHtml(place_doings_comment_popupmessage[n],"550"),!1):void jQuery.ajax({type:"POST",url:"http://common1.qyerstatic.com/public.php?action=batchdoingspopup",data:{oper:i,typename:e,id:t,page:n,postid:place_doings_batch_data.join(",")},cache:!1,dataType:"html",success:function(t){""!=t&&(place_doings_comment_popupmessage[n]=t,popup.showHtml(t,"550"))}}))}(function(){var t=this,e=t._,i={},n=Array.prototype,r=Object.prototype,s=Function.prototype,a=n.push,o=n.slice,l=n.concat,h=r.toString,c=r.hasOwnProperty,u=n.forEach,d=n.map,p=n.reduce,f=n.reduceRight,g=n.filter,m=n.every,y=n.some,v=n.indexOf,x=n.lastIndexOf,b=Array.isArray,_=Object.keys,k=s.bind,w=function(t){return t instanceof w?t:this instanceof w?void(this._wrapped=t):new w(t)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=w),exports._=w):t._=w,w.VERSION="1.5.2";var D=w.each=w.forEach=function(t,e,n){if(null!=t)if(u&&t.forEach===u)t.forEach(e,n);else if(t.length===+t.length){for(var r=0,s=t.length;s>r;r++)if(e.call(n,t[r],r,t)===i)return}else for(var a=w.keys(t),r=0,s=a.length;s>r;r++)if(e.call(n,t[a[r]],a[r],t)===i)return};w.map=w.collect=function(t,e,i){var n=[];return null==t?n:d&&t.map===d?t.map(e,i):(D(t,function(t,r,s){n.push(e.call(i,t,r,s))}),n)};var C="Reduce of empty array with no initial value";w.reduce=w.foldl=w.inject=function(t,e,i,n){var r=arguments.length>2;if(null==t&&(t=[]),p&&t.reduce===p)return n&&(e=w.bind(e,n)),r?t.reduce(e,i):t.reduce(e);if(D(t,function(t,s,a){r?i=e.call(n,i,t,s,a):(i=t,r=!0)}),!r)throw new TypeError(C);return i},w.reduceRight=w.foldr=function(t,e,i,n){var r=arguments.length>2;if(null==t&&(t=[]),f&&t.reduceRight===f)return n&&(e=w.bind(e,n)),r?t.reduceRight(e,i):t.reduceRight(e);var s=t.length;if(s!==+s){var a=w.keys(t);s=a.length}if(D(t,function(o,l,h){l=a?a[--s]:--s,r?i=e.call(n,i,t[l],l,h):(i=t[l],r=!0)}),!r)throw new TypeError(C);return i},w.find=w.detect=function(t,e,i){var n;return T(t,function(t,r,s){return e.call(i,t,r,s)?(n=t,!0):void 0}),n},w.filter=w.select=function(t,e,i){var n=[];return null==t?n:g&&t.filter===g?t.filter(e,i):(D(t,function(t,r,s){e.call(i,t,r,s)&&n.push(t)}),n)},w.reject=function(t,e,i){return w.filter(t,function(t,n,r){return!e.call(i,t,n,r)},i)},w.every=w.all=function(t,e,n){e||(e=w.identity);var r=!0;return null==t?r:m&&t.every===m?t.every(e,n):(D(t,function(t,s,a){return(r=r&&e.call(n,t,s,a))?void 0:i}),!!r)};var T=w.some=w.any=function(t,e,n){e||(e=w.identity);var r=!1;return null==t?r:y&&t.some===y?t.some(e,n):(D(t,function(t,s,a){return r||(r=e.call(n,t,s,a))?i:void 0}),!!r)};w.contains=w.include=function(t,e){return null!=t&&(v&&t.indexOf===v?t.indexOf(e)!=-1:T(t,function(t){return t===e}))},w.invoke=function(t,e){var i=o.call(arguments,2),n=w.isFunction(e);return w.map(t,function(t){return(n?e:t[e]).apply(t,i)})},w.pluck=function(t,e){return w.map(t,function(t){return t[e]})},w.where=function(t,e,i){return w.isEmpty(e)?i?void 0:[]:w[i?"find":"filter"](t,function(t){for(var i in e)if(e[i]!==t[i])return!1;return!0})},w.findWhere=function(t,e){return w.where(t,e,!0)},w.max=function(t,e,i){if(!e&&w.isArray(t)&&t[0]===+t[0]&&t.length<65535)return Math.max.apply(Math,t);if(!e&&w.isEmpty(t))return-1/0;var n={computed:-1/0,value:-1/0};return D(t,function(t,r,s){var a=e?e.call(i,t,r,s):t;a>n.computed&&(n={value:t,computed:a})}),n.value},w.min=function(t,e,i){if(!e&&w.isArray(t)&&t[0]===+t[0]&&t.length<65535)return Math.min.apply(Math,t);if(!e&&w.isEmpty(t))return 1/0;var n={computed:1/0,value:1/0};return D(t,function(t,r,s){var a=e?e.call(i,t,r,s):t;a<n.computed&&(n={value:t,computed:a})}),n.value},w.shuffle=function(t){var e,i=0,n=[];return D(t,function(t){e=w.random(i++),n[i-1]=n[e],n[e]=t}),n},w.sample=function(t,e,i){return arguments.length<2||i?t[w.random(t.length-1)]:w.shuffle(t).slice(0,Math.max(0,e))};var S=function(t){return w.isFunction(t)?t:function(e){return e[t]}};w.sortBy=function(t,e,i){var n=S(e);return w.pluck(w.map(t,function(t,e,r){return{value:t,index:e,criteria:n.call(i,t,e,r)}}).sort(function(t,e){var i=t.criteria,n=e.criteria;if(i!==n){if(i>n||void 0===i)return 1;if(n>i||void 0===n)return-1}return t.index-e.index}),"value")};var M=function(t){return function(e,i,n){var r={},s=null==i?w.identity:S(i);return D(e,function(i,a){var o=s.call(n,i,a,e);t(r,o,i)}),r}};w.groupBy=M(function(t,e,i){(w.has(t,e)?t[e]:t[e]=[]).push(i)}),w.indexBy=M(function(t,e,i){t[e]=i}),w.countBy=M(function(t,e){w.has(t,e)?t[e]++:t[e]=1}),w.sortedIndex=function(t,e,i,n){i=null==i?w.identity:S(i);for(var r=i.call(n,e),s=0,a=t.length;a>s;){var o=s+a>>>1;i.call(n,t[o])<r?s=o+1:a=o}return s},w.toArray=function(t){return t?w.isArray(t)?o.call(t):t.length===+t.length?w.map(t,w.identity):w.values(t):[]},w.size=function(t){return null==t?0:t.length===+t.length?t.length:w.keys(t).length},w.first=w.head=w.take=function(t,e,i){return null==t?void 0:null==e||i?t[0]:o.call(t,0,e)},w.initial=function(t,e,i){return o.call(t,0,t.length-(null==e||i?1:e))},w.last=function(t,e,i){return null==t?void 0:null==e||i?t[t.length-1]:o.call(t,Math.max(t.length-e,0))},w.rest=w.tail=w.drop=function(t,e,i){return o.call(t,null==e||i?1:e)},w.compact=function(t){return w.filter(t,w.identity)};var A=function(t,e,i){return e&&w.every(t,w.isArray)?l.apply(i,t):(D(t,function(t){w.isArray(t)||w.isArguments(t)?e?a.apply(i,t):A(t,e,i):i.push(t)}),i)};w.flatten=function(t,e){return A(t,e,[])},w.without=function(t){return w.difference(t,o.call(arguments,1))},w.uniq=w.unique=function(t,e,i,n){w.isFunction(e)&&(n=i,i=e,e=!1);var r=i?w.map(t,i,n):t,s=[],a=[];return D(r,function(i,n){(e?n&&a[a.length-1]===i:w.contains(a,i))||(a.push(i),s.push(t[n]))}),s},w.union=function(){return w.uniq(w.flatten(arguments,!0))},w.intersection=function(t){var e=o.call(arguments,1);return w.filter(w.uniq(t),function(t){return w.every(e,function(e){return w.indexOf(e,t)>=0})})},w.difference=function(t){var e=l.apply(n,o.call(arguments,1));return w.filter(t,function(t){return!w.contains(e,t)})},w.zip=function(){for(var t=w.max(w.pluck(arguments,"length").concat(0)),e=new Array(t),i=0;t>i;i++)e[i]=w.pluck(arguments,""+i);return e},w.object=function(t,e){if(null==t)return{};for(var i={},n=0,r=t.length;r>n;n++)e?i[t[n]]=e[n]:i[t[n][0]]=t[n][1];return i},w.indexOf=function(t,e,i){if(null==t)return-1;var n=0,r=t.length;if(i){if("number"!=typeof i)return n=w.sortedIndex(t,e),t[n]===e?n:-1;n=0>i?Math.max(0,r+i):i}if(v&&t.indexOf===v)return t.indexOf(e,i);for(;r>n;n++)if(t[n]===e)return n;return-1},w.lastIndexOf=function(t,e,i){if(null==t)return-1;var n=null!=i;if(x&&t.lastIndexOf===x)return n?t.lastIndexOf(e,i):t.lastIndexOf(e);for(var r=n?i:t.length;r--;)if(t[r]===e)return r;return-1},w.range=function(t,e,i){arguments.length<=1&&(e=t||0,t=0),i=arguments[2]||1;for(var n=Math.max(Math.ceil((e-t)/i),0),r=0,s=new Array(n);n>r;)s[r++]=t,t+=i;return s};var j=function(){};w.bind=function(t,e){var i,n;if(k&&t.bind===k)return k.apply(t,o.call(arguments,1));if(!w.isFunction(t))throw new TypeError;return i=o.call(arguments,2),n=function(){if(!(this instanceof n))return t.apply(e,i.concat(o.call(arguments)));j.prototype=t.prototype;var r=new j;j.prototype=null;var s=t.apply(r,i.concat(o.call(arguments)));return Object(s)===s?s:r}},w.partial=function(t){var e=o.call(arguments,1);return function(){return t.apply(this,e.concat(o.call(arguments)))}},w.bindAll=function(t){var e=o.call(arguments,1);if(0===e.length)throw new Error("bindAll must be passed function names");return D(e,function(e){t[e]=w.bind(t[e],t)}),t},w.memoize=function(t,e){var i={};return e||(e=w.identity),function(){var n=e.apply(this,arguments);return w.has(i,n)?i[n]:i[n]=t.apply(this,arguments)}},w.delay=function(t,e){var i=o.call(arguments,2);return setTimeout(function(){return t.apply(null,i)},e)},w.defer=function(t){return w.delay.apply(w,[t,1].concat(o.call(arguments,1)))},w.throttle=function(t,e,i){var n,r,s,a=null,o=0;i||(i={});var l=function(){o=i.leading===!1?0:new Date,a=null,s=t.apply(n,r)};return function(){var h=new Date;o||i.leading!==!1||(o=h);var c=e-(h-o);return n=this,r=arguments,0>=c?(clearTimeout(a),a=null,o=h,s=t.apply(n,r)):a||i.trailing===!1||(a=setTimeout(l,c)),s}},w.debounce=function(t,e,i){var n,r,s,a,o;return function(){s=this,r=arguments,a=new Date;var l=function(){var h=new Date-a;e>h?n=setTimeout(l,e-h):(n=null,i||(o=t.apply(s,r)))},h=i&&!n;return n||(n=setTimeout(l,e)),h&&(o=t.apply(s,r)),o}},w.once=function(t){var e,i=!1;return function(){return i?e:(i=!0,e=t.apply(this,arguments),t=null,e)}},w.wrap=function(t,e){return function(){var i=[t];return a.apply(i,arguments),e.apply(this,i)}},w.compose=function(){var t=arguments;return function(){for(var e=arguments,i=t.length-1;i>=0;i--)e=[t[i].apply(this,e)];return e[0]}},w.after=function(t,e){return function(){return--t<1?e.apply(this,arguments):void 0}},w.keys=_||function(t){if(t!==Object(t))throw new TypeError("Invalid object");var e=[];for(var i in t)w.has(t,i)&&e.push(i);return e},w.values=function(t){for(var e=w.keys(t),i=e.length,n=new Array(i),r=0;i>r;r++)n[r]=t[e[r]];return n},w.pairs=function(t){for(var e=w.keys(t),i=e.length,n=new Array(i),r=0;i>r;r++)n[r]=[e[r],t[e[r]]];return n},w.invert=function(t){for(var e={},i=w.keys(t),n=0,r=i.length;r>n;n++)e[t[i[n]]]=i[n];return e},w.functions=w.methods=function(t){var e=[];for(var i in t)w.isFunction(t[i])&&e.push(i);return e.sort()},w.extend=function(t){return D(o.call(arguments,1),function(e){if(e)for(var i in e)t[i]=e[i]}),t},w.pick=function(t){var e={},i=l.apply(n,o.call(arguments,1));return D(i,function(i){i in t&&(e[i]=t[i])}),e},w.omit=function(t){var e={},i=l.apply(n,o.call(arguments,1));for(var r in t)w.contains(i,r)||(e[r]=t[r]);return e},w.defaults=function(t){return D(o.call(arguments,1),function(e){if(e)for(var i in e)void 0===t[i]&&(t[i]=e[i])}),t},w.clone=function(t){return w.isObject(t)?w.isArray(t)?t.slice():w.extend({},t):t},w.tap=function(t,e){return e(t),t};var P=function(t,e,i,n){if(t===e)return 0!==t||1/t==1/e;if(null==t||null==e)return t===e;t instanceof w&&(t=t._wrapped),e instanceof w&&(e=e._wrapped);var r=h.call(t);if(r!=h.call(e))return!1;switch(r){case"[object String]":return t==String(e);case"[object Number]":return t!=+t?e!=+e:0==t?1/t==1/e:t==+e;case"[object Date]":case"[object Boolean]":return+t==+e;case"[object RegExp]":return t.source==e.source&&t.global==e.global&&t.multiline==e.multiline&&t.ignoreCase==e.ignoreCase}if("object"!=typeof t||"object"!=typeof e)return!1;for(var s=i.length;s--;)if(i[s]==t)return n[s]==e;var a=t.constructor,o=e.constructor;if(a!==o&&!(w.isFunction(a)&&a instanceof a&&w.isFunction(o)&&o instanceof o))return!1;i.push(t),n.push(e);var l=0,c=!0;if("[object Array]"==r){if(l=t.length,c=l==e.length)for(;l--&&(c=P(t[l],e[l],i,n)););}else{for(var u in t)if(w.has(t,u)&&(l++,!(c=w.has(e,u)&&P(t[u],e[u],i,n))))break;if(c){for(u in e)if(w.has(e,u)&&!l--)break;c=!l}}return i.pop(),n.pop(),c};w.isEqual=function(t,e){return P(t,e,[],[])},w.isEmpty=function(t){if(null==t)return!0;if(w.isArray(t)||w.isString(t))return 0===t.length;for(var e in t)if(w.has(t,e))return!1;return!0},w.isElement=function(t){return!(!t||1!==t.nodeType)},w.isArray=b||function(t){return"[object Array]"==h.call(t)},w.isObject=function(t){return t===Object(t)},D(["Arguments","Function","String","Number","Date","RegExp"],function(t){w["is"+t]=function(e){return h.call(e)=="[object "+t+"]"}}),w.isArguments(arguments)||(w.isArguments=function(t){return!(!t||!w.has(t,"callee"))}),"function"!=typeof/./&&(w.isFunction=function(t){return"function"==typeof t}),w.isFinite=function(t){return isFinite(t)&&!isNaN(parseFloat(t))},w.isNaN=function(t){return w.isNumber(t)&&t!=+t},w.isBoolean=function(t){return t===!0||t===!1||"[object Boolean]"==h.call(t)},w.isNull=function(t){return null===t},w.isUndefined=function(t){return void 0===t},w.has=function(t,e){return c.call(t,e)},w.noConflict=function(){return t._=e,this},w.identity=function(t){return t},w.times=function(t,e,i){for(var n=Array(Math.max(0,t)),r=0;t>r;r++)n[r]=e.call(i,r);return n},w.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))};var I={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}};I.unescape=w.invert(I.escape);var L={escape:new RegExp("["+w.keys(I.escape).join("")+"]","g"),unescape:new RegExp("("+w.keys(I.unescape).join("|")+")","g")};w.each(["escape","unescape"],function(t){w[t]=function(e){return null==e?"":(""+e).replace(L[t],function(e){return I[t][e]})}}),w.result=function(t,e){if(null!=t){var i=t[e];return w.isFunction(i)?i.call(t):i}},w.mixin=function(t){D(w.functions(t),function(e){var i=w[e]=t[e];w.prototype[e]=function(){var t=[this._wrapped];return a.apply(t,arguments),B.call(this,i.apply(w,t))}})};var $=0;w.uniqueId=function(t){var e=++$+"";return t?t+e:e},w.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var O=/(.)^/,N={"'":"'","\\":"\\","\r":"r","\n":"n","        ":"t","\u2028":"u2028","\u2029":"u2029"},E=/\\|'|\r|\n|\t|\u2028|\u2029/g;w.template=function(t,e,i){var n;i=w.defaults({},i,w.templateSettings);var r=new RegExp([(i.escape||O).source,(i.interpolate||O).source,(i.evaluate||O).source].join("|")+"|$","g"),s=0,a="__p+='";t.replace(r,function(e,i,n,r,o){return a+=t.slice(s,o).replace(E,function(t){return"\\"+N[t]}),i&&(a+="'+\n((__t=("+i+"))==null?'':_.escape(__t))+\n'"),n&&(a+="'+\n((__t=("+n+"))==null?'':__t)+\n'"),r&&(a+="';\n"+r+"\n__p+='"),s=o+e.length,e}),a+="';\n",i.variable||(a="with(obj||{}){\n"+a+"}\n"),a="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+a+"return __p;\n";try{n=new Function(i.variable||"obj","_",a)}catch(o){throw o.source=a,o}if(e)return n(e,w);var l=function(t){return n.call(this,t,w)};return l.source="function("+(i.variable||"obj")+"){\n"+a+"}",l},w.chain=function(t){return w(t).chain()};var B=function(t){return this._chain?w(t).chain():t};w.mixin(w),D(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=n[t];w.prototype[t]=function(){var i=this._wrapped;return e.apply(i,arguments),"shift"!=t&&"splice"!=t||0!==i.length||delete i[0],B.call(this,i)}}),D(["concat","join","slice"],function(t){var e=n[t];w.prototype[t]=function(){return B.call(this,e.apply(this._wrapped,arguments))}}),w.extend(w.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}).call(this);var util={getwordlen:function(){var t=function(t){if("undefined"==typeof t)return 0;var e=t.match(/[^\x00-\x80]/g);return t.length+(e?e.length:0)},e=function(t){return t.replace(/[^\x00-\xff]/g,"*")};return function(i,n){return n&&(i=e(i)),t(jQuery.trim(i))}}()};jQuery.postJSON=function(t,e,i){return jQuery.ajax({type:"POST",url:t,data:e,dataType:"json",success:i})};var qyerUI={version:"0.1"};!function(t){function e(){i||t("input[placeholder], textarea[placeholder]").each(function(){for(var e=!1,i=0;i<n.length;i++)this==n[i]&&(e=!0);if(!e){n.push(this);var r=t(this).attr("placeholder");""==t(this).val()?t(this).val(r).css("color","#959595"):t(this).val()==r&&t(this).css("color","#959595"),t(this).on("focus",function(){t(this).val()==r&&t(this).val("").css("color","")}),t(this).on("blur",function(){""==t(this).val()&&t(this).val(r).css("color","#959595")})}})}var i="placeholder"in document.createElement("input"),n=[];qyerUI.placeholder=e,window.fixPlaceholder=e}(jQuery),jQuery(function(){qyerUI.placeholder()}),function(t){function e(){return t("html").css({overflow:"",height:""}),t("body").css({overflow:"",height:""}),t(".ui_fullpupBox_bg").hide(),r=!1,!1}function i(e){r&&t("body").append(s),r=!1,t("html").css({overflow:"hidden",height:t(window).height()}),t("body").css({overflow:"hidden",height:t(window).height()}),t(".ui_fullpupBox_bg").css({display:"block",height:t(window).height()}),t(".ui_fullpupBox").css({width:e}),t(".ui_fullpupBox_main").text("")}var n={},r=!0,s="<div class='ui_fullpupBox_bg'><div class='ui_fullpupBox'><div class='ui_fullpupBox_main'></div></div></div>";t(document).on("click",".ui_fullpupBox_close",function(){e()}),n.ajax=function(e){var n=e.url,r=e.width;i(r),t.get(n,function(e){t(".ui_fullpupBox_main").html(e),t(".ui_fullpupBox_head").css({width:r})})},n.show=function(e){var n=e.id,r=e.width;i(r);var s=t("#"+n).html();t(".ui_fullpupBox_main").html(s),t(".ui_fullpupBox_head").css({width:r})},qyerUI.fullpup=n}(jQuery),function(t){function e(){t(".ui_popup_bg").fadeOut(300)}function i(i,n){s&&(t("body").append(a),t(".ui_popup_close").on("click",function(){e()})),s=!1,i=parseInt(i,10),t(".ui_popup_bg").css({height:t(document).height()}).stop(!0,!0).fadeIn(300),t(".ui_popup").css({width:i,top:t(document).scrollTop()}),t(".ui_popup_main").text(""),t(".ui_popup_close").hide(),"show"==n&&t(".ui_popup_close").show()}function n(){var e=t(window).height(),i=t(".ui_popup").height(),n=(e-i)/2;n=n<20?20:n,t(".ui_popup").css("margin-top",n)}var r={},s=!0,a='<div class="ui_popup_bg"><div class="ui_popup"><p class="ui_popup_close" title="关闭"></p><div class="ui_popup_main"></div></div></div>';r.pupclose=e,r.start=i,r.ajax=function(e){if("object"==typeof e)var r=e.url,s=e.width||500,a=e.isclose||"show",o=e.callback||!1;i(s,a),t.get(r,function(e){t(".ui_popup_main").html(e),"function"==typeof o&&o(),n()})},r.show=function(e){if("object"==typeof e)var r=e.id,s=e.width||500,a=e.isclose||"show";i(s,a);var o=t("#"+r).html();t(".ui_popup_main").html(o),n()},r.showHtml=function(e){if("object"==typeof e)var r=e.html,s=e.width||500,a=e.isclose||"show";i(s,a),t(".ui_popup_main").html(r),n()},qyerUI.popup=r}(jQuery),function(){function t(){return jQuery(".ui_pupBox_bg").hide(),n=!1,!1}function e(t){n&&jQuery("body").append(r),n=!1,t=parseInt(t,10),jQuery(".ui_pupBox_bg").css({display:"block",height:jQuery(document).height()}),jQuery(".ui_pupBox").css({width:t+2,top:jQuery(document).scrollTop()}),jQuery(".ui_pupBox_main").text(""),jQuery(".ui_pupBox_close").show()}var i={},n=!0,r="<div class='ui_pupBox_bg'><div class='ui_pupBox'><div class='ui_pupBox_close'></div><div class='ui_pupBox_main'></div></div></div>";window.pupclose=t,i.start=e,i.ajax=function(i,n,r){var s="show",a=typeof i;"object"==a?(url=i.url,n=i.width,s=i.closebtn,r=i.cb):url=i,e(n),jQuery.get(url,function(t){if(jQuery(".ui_pupBox_main").html(t),"function"==typeof r)try{r()}catch(e){}}),jQuery(".ui_pupBox_close").bind("click",function(){t()}),"hide"==s&&jQuery(".ui_pupBox_close").hide()},i.show=function(i,n){var r="show",s=typeof i;"object"==s?(id=i.id,n=i.width,r=i.closebtn):id=i,e(n);var a=jQuery("#"+id).html();jQuery(".ui_pupBox_main").html(a),jQuery(".ui_pupBox_close").bind("click",function(){t()}),"hide"==r&&jQuery(".ui_pupBox_close").hide()},i.showHtml=function(i,n){var r="show",s=typeof i;"object"==s?(html=i.html,n=i.width,r=i.closebtn):html=i,e(n),jQuery(".ui_pupBox_main").html(html),jQuery(".ui_pupBox_close").bind("click",function(){t()}),"hide"==r&&jQuery(".ui_pupBox_close").hide()},window.popup=i}(),function(t){function e(e,n){i&&(t("body").append("<textarea id='js_autoheight_clone'></textarea>"),i=!1);var r=t("#js_autoheight_clone");r.width(t(e).width()),r.val(t(e).val()),r.css("font-size",n.fontSize),r.css("line-height",n.lineHeight),setTimeout(function(){var i=r.get(0).scrollHeight;t(e).height(i)},1)}var i=!0;qyerUI.autoheight=e}(jQuery),function(t){function e(e){if("object"==typeof e){var n=e.msg||"操作已成功！",r=e.type||"true",s=e.timeout||2e3;clearTimeout(i);var a=document.getElementById("mod_message"),o=document.getElementById("mod_message_cont");if(!a){var l=document.createElement("div");l.id="mod_message";var h=document.createElement("p");h.id="mod_message_cont",l.appendChild(h),document.body.appendChild(l),a=document.getElementById("mod_message"),o=document.getElementById("mod_message_cont")}o.className=r,o.innerHTML=n,a.style.display="block";var c=a.offsetWidth,u=document.body.offsetWidth,d=(u-c)/2;a.style.left=d+"px","stop"!=s&&(i=setTimeout(function(){t(a).slideUp()},s))}}var i;qyerUI.message=e}(jQuery);var process_submit=function(){var t=function(){this.id=null,this.rmclass=null,this.addclass=null,this.isval=!0,this.before=function(t,e,i,n,r){this.id=t,this.rmclass=e,this.addclass=i,n=n||"提交中...","html"==r&&(this.isval=!1),this.isval?jQuery("#"+t).removeClass(e).addClass(i).val(n):jQuery("#"+t).removeClass(e).addClass(i).html(n)},this.after=function(t){this.isval?jQuery("#"+this.id).removeClass(this.addclass).addClass(this.rmclass).val(t):jQuery("#"+this.id).removeClass(this.addclass).addClass(this.rmclass).html(t)}};return new t}();popup.coast=function(t,e,i,n){function r(){jQuery(".ui_coast").fadeOut(500),jQuery(".ui_coast").remove()}t=t||400,i.text=i.text||"感谢你的分享，让其他穷游er看到了你在这里留下的回忆。";var s='<div class="ui_coast"><p class="ui_coast_cnt"><img src="../../../../common2.qyerstatic.com/place/common/basic/old/images/tpl/icon_true.png"/*tpa=http://common2.qyerstatic.com/place/common/basic/old/images/tpl/icon_true.png*/ width="34" height="34" alt="" class="ui_coast_img" />'+i.text+'</p><ul class="ui_coast_num clearfix">';if(void 0!=i.credits1&&(s=s+"<li>经验值<span>"+i.credits1+"</span></li>"),void 0!=i.credits2&&(s=s+"<li>贡献<span>"+i.credits2+"</span></li>"),"undefined"!=typeof n)switch(n){case"warn":s=s.replace(/icon_true.png/,"icon_warn.png"/*tpa=http://common1.qyerstatic.com/place/js/common/icon_warn.png*/);break;case"error":s=s.replace(/icon_true.png/,"icon_error32.png"/*tpa=http://common1.qyerstatic.com/place/js/common/icon_error32.png*/)}s+="</ul></div>",jQuery("body").append(s);var a=jQuery(window).width(),o=jQuery(window).height(),l=jQuery(".ui_coast").outerHeight(),h=t+42,c=(a-h)/2,u=(o-l)/2+jQuery(document).scrollTop(),d=10;if(e)if(e=jQuery("#"+e),e.size()>0){var p=e.offset(),f=e.outerWidth(),g=e.outerHeight(),m=p.top-l-d,y=p.left-(h-f)/2;a-f-y+d<h?(y=a-h-d,p.top-jQuery(document).scrollTop()<l?(m=p.top+g+d,jQuery(".ui_coast").css({width:t,left:y,top:m}).show()):jQuery(".ui_coast").css({width:t,left:y,top:m}).show()):p.top-jQuery(document).scrollTop()<l?(m=p.top+g+d,y<10&&(y=10),jQuery(".ui_coast").css({width:t,left:y,top:m}).show()):(y<10&&(y=10),jQuery(".ui_coast").css({width:t,left:y,top:m}).show())}else jQuery(".ui_coast").css({width:t,left:c,top:u}).show();else jQuery(".ui_coast").css({width:t,left:c,top:u}).show();window.setTimeout(r,2e3)},jQuery(function(t){window.uitab=function(){t(".ui_tab").each(function(){t(this).children(".ui_tab_trigger").find(".ui_tab_trigger_item").each(function(e){t(this).on("click",function(){0==t(this).hasClass("ui_tab_trigger_item_disabled")&&(t(this).addClass("ui_tab_trigger_item_current").siblings(".ui_tab_trigger_item").removeClass("ui_tab_trigger_item_current"),t(this).parents(".ui_tab_trigger").siblings(".ui_tab_cnt").children(".ui_tab_cnt_item:eq("+e+")").addClass("ui_tab_cnt_item_current").siblings(".ui_tab_cnt_item").removeClass("ui_tab_cnt_item_current"))})})})},window.uitab()});var tips=function(){var t=function(){this.isshow=!1,this.html=["<div class='ui_message __XXtipsXX_' >","","</div>"],this.scroll_show=function(){},this.show=function(t,e){t=t||"",e=e||2e3;var i=this.getobj();return this.isshow?(jQuery(i).css({left:jQuery(document).width()/2-200}),void i.html(t)):(this.html[1]=t,jQuery("body").append(this.html.join("")),i=this.getobj(),jQuery(i).css({left:jQuery(document).width()/2-200}),i.show(),this.isshow=!0,void setTimeout(function(){jQuery(i).slideUp(),tips.isshow=!1},e))},this.hide=function(){this.getobj().fadeOut(),this.isshow=!1},this.getobj=function(){return jQuery(".__XXtipsXX_")}};t.prototype.confirm=function(t,e,i){void 0==i&&(i="您确定要删除吗？");var n=t.clientX,r=t.clientY,s="jsdelconfirm",a=['<div class="ui_delete" id="'+s+'">','<div class="ui_delete_box">','<div><span class="icon_doubt">'+i+"</span></div>",'<div class="ui_delete_btns">','<input type="button" value="取消" class="ui_button_cancel" id="jsconfirmcancel" /><input type="button" id="jsconfirmok" value="确定" class="ui_button" />',"</div>","</div>","</div>"],o=jQuery("#"+s);o.size()<=0?(jQuery("body").append(a.join("")),o=jQuery("#"+s)):jQuery(o).find(".icon_doubt").html(i);var l=91,h=jQuery(document).scrollTop()+r-100;jQuery(o).css("top",h+"px");var c=jQuery(".ui_delete").width(),u=n,d=jQuery(document).scrollLeft();
n-d<c||(u=n-c/2);var p=jQuery(document).width();u+c>p&&(u=p-c-20),u<=0&&(u=20),jQuery(o).hide(),jQuery(o).css({left:u,top:h+l}).animate({height:"show",opacity:"show",top:h},200),jQuery("#jsconfirmcancel").unbind("click").click(function(){jQuery(o).animate({height:"hide",opacity:"hide",top:h+l},200)}),jQuery("#jsconfirmok").unbind("click").click(function(t){e(),jQuery(o).animate({height:"hide",opacity:"hide",top:h+l},200)})};var e=new t;return jQuery(document).scroll(function(){e.scroll_show()}),e}(),_ajax={ajaxurl:"http://common1.qyerstatic.com/ajax.php",get:function(t,e,i){var n=+new Date;jQuery.get(_ajax.ajaxurl+"?action="+t+"&rnd="+n,e,i)},getJSON:function(t,e,i){var n=+new Date;jQuery.getJSON(_ajax.ajaxurl+"?action="+t+"&rnd="+n,e,i)},post:function(t,e,i){e=jQuery.merge(e,{type:"POST"}),jQuery.post(_ajax.ajaxurl+"?action="+t,e,i)}};String.prototype.gbtrim=function(t,e){for(var i="",n=e||"",r=0,s=0;s<this.length;s++)this.charCodeAt(s)>127||94==this.charCodeAt(s)?r+=2:r++;if(r<=t)return this;r=0,t=t>n.length?t-n.length:t;for(var s=0;s<this.length;s++){if(this.charCodeAt(s)>127||94==this.charCodeAt(s)?r+=2:r++,r>t){i+=n;break}i+=this.charAt(s)}return i},jQuery(function(){var t=jQuery(".auto_text").size()>0,e=function(){jQuery("body").append("<textarea id='auto_text_shadow' style='display:block;'></textarea>")};t&&e();var i=function(t){jQuery(".auto_text").size()&&e();var i=t||jQuery(".auto_text"),n="auto_text_shadow",r=jQuery("#"+n);if(n!=jQuery(i).attr("id")){jQuery(r).width(jQuery(i).width());var s=jQuery(i).css("font-size"),a=jQuery(i).css("line-height"),o=jQuery(i).css("text-indent"),l=parseInt(jQuery(i).css("min-height").replace(/px/,""));l=a,jQuery(r).css({height:"18px","font-size":s,"text-indent":o});var h=jQuery(i).val()+"穷游";jQuery(r).val(h),setTimeout(function(){var t=jQuery(r).get(0).scrollHeight;t<=l&&(t=l),jQuery(i).height(t)},1)}};jQuery(document).on("change",".auto_text",function(){i(this)}),jQuery(document).on("keydown",".auto_text",function(){i(this)}),jQuery(document).on("keyup",".auto_text",function(){i(this)}),window.resizeTextareaHeight=i});var thiswin=this;jQuery(function(){if(top==thiswin){var t=window.location.href;if(t.indexOf("http://common1.qyerstatic.com/place/js/common/m.qyer.com")==-1&&"1"!=yjbGetCookie("_surveyed")&&"1"!=yjbGetCookie("surveyed")){var e=Math.random();65==parseInt(100*e)&&(jQuery.getJSON("http://feed.qyer.com/index/survey?callback=?",function(t){if(t.show){var e='<div style="width:520px;"><div class="ui_pupBox_head">欢迎参与穷游调查</div><div class="ui_pupBox_content" style="background:url(http://common2.qyerstatic.com/place/common/basic/old/images/wenjuan/qyer_wenjuan_bg.png) no-repeat;padding-left:160px;"><div class="f14 p10 pb20">'+t.survey_content+'</div><div class="ui_pupBox_foot clearfix" style="padding:0;"><a class="ui_button fr" target="_blank" id="to_survey" href="'+t.survey_url+'">参与调查</a><input type="button" onclick="javascript:pupclose();" class="ui_button_cancel fr mr10" value="不参与"></div></div></div>';popup.showHtml(e,520)}}),jQuery(document).on("click","#to_survey",function(){var t=new Date;return t.setTime(t.getTime()+31536e6),document.cookie="surveyed=1;domain=.qyer.com;expires="+t.toGMTString(),pupclose(),!0}))}}}),jQuery(function(){function t(t){var e=new RegExp("(^|&)"+t+"=([^&]*)(&|$)","i"),i=window.location.search.substr(1).match(e);return null!=i?unescape(i[2]):null}var e=t("targetobj");null!=e&&("login"==e&&"reg"==e||(e="reg"),/^http:\/\/bbs\.qyer\.com\//.test(window.location.href)?ajaxlogin(0,"","http://common1.qyerstatic.com/place/js/common/bbsajax.php","reload",e,window.location.href):ajaxlogin(0,"","http://common1.qyerstatic.com/place/js/common/ajax.php","reload",e,window.location.href))}),loadjscssfile(("https:"==document.location.protocol?"//https":"//")+"static.qyer.com/js/common/jquery.cookie.js","js");var jiathis_config={boldNum:0,siteNum:5,showClose:!1,title:"",summary:" ",pic:"",data_track_clickback:!1,appkey:{tsina:"2254065920",tqq:"fae7e432cbfd4ae378f0e501ebb4feed",renren:"d5ecb574cf7e4ef7a3840898aab6fe4f",qzone:"fae7e432cbfd4ae378f0e501ebb4feed",douban:"0239fb1e9a36072606adf15bcea21572"},ralateuid:{tsina:"1721449743"},evt:{}};jQuery(function(){function t(){n.hide()}jQuery("._js_jiathis_style_share a").mouseover(function(){jiathis_config.title="",jiathis_config.summary="",jiathis_config.pic="",jiathis_config.url="";var t=jQuery(this),e=t.attr("data-title"),i=t.attr("data-summary"),n=t.attr("data-pic"),r=t.attr("data-url")||"";e&&(e=e.replace(/&gt;/g,">"),e=e.replace(/&lt;/g,"<")),i&&(i=i.replace(/&gt;/g,">"),i=i.replace(/&lt;/g,"<")),e&&(jiathis_config.title=e),i&&(jiathis_config.summary=i),n&&(jiathis_config.pic=n),r&&(jiathis_config.url=r)}),jQuery("._js_jiathis_style_share").mouseover(function(){var t=jQuery(this),e=t.attr("data-title"),i=t.attr("data-summary"),n=t.attr("data-pic"),r=t.attr("data-url")||"";e&&(e=e.replace(/&gt;/g,">"),e=e.replace(/&lt;/g,"<")),i&&(i=i.replace(/&gt;/g,">"),i=i.replace(/&lt;/g,"<")),jiathis_config.title||(jiathis_config.title=e),jiathis_config.summary||(jiathis_config.summary=i),jiathis_config.pic||(jiathis_config.pic=n),jiathis_config.url||(jiathis_config.url=amendUrl(window.location.href,r))});var e,i=jQuery(".photo_end_share_btn"),n=jQuery(".bbs_tools_sharelay");i.hover(function(){window.clearTimeout(e),n.show()},function(){e=window.setTimeout(function(){t()},200)}),n.hover(function(){window.clearTimeout(e),jQuery(this).show()},function(){e=window.setTimeout(function(){t()},200)}),"https:"!=document.location.protocol&&window.setTimeout(function(){loadjscssfile("http://v3.jiathis.com/code/jia.js?uid=1346345347004722","js")},500)}),jQuery(document).on("click","._js_jiathis_style_share a",function(){var t=jQuery(this).attr("class");if("jiathis_button_tsina"!=t){var e=jQuery(this).attr("data-url");e&&(jiathis_config.url=amendUrl(jiathis_config.url,e))}}),jQuery(function(){function t(){e=0,clearTimeout(n),window.setTimeout(function(){0==e&&jQuery(".ui_usercard").fadeOut(50)},500)}var e=0,i=0;jQuery(document).on("click","._js_follow_func",function(){follow(jQuery(this))}),jQuery(document).on("click","._jsaddmsg",function(){if(QYER.uid<=0)return ajaxlogin(),!1;var t=jQuery(this).attr("data-uid"),e=jQuery(this).attr("data-relate");popup.ajax("/api.php?action=addmsg&oper=form&uid="+t+"&relate="+e,510)});var n=0;jQuery(document).on("mouseover","._js_face_usercard,.ui_headPort",function(t){if(!i){var r=document.createElement("link");r.type="text/css",r.rel="stylesheet",r.href="../../../../static.qyer.com/css/user2/medal.css"/*tpa=http://static.qyer.com/css/user2/medal.css*/,document.body.appendChild(r),i=1}var s=jQuery(this).attr("data-uid");if(void 0==s&&(s=jQuery(this).attr("alt")),e=1,jQuery(".ui_usercard").remove(),void 0==s)return!1;thiz=this;var a=t.pageX;t.pageX+300>jQuery(window).width()&&(a=jQuery(window).width()-300);var o="http://common1.qyerstatic.com/ajax.php";/^http:\/\/bbs\.qyer\.com\//.test(window.location.href)&&(o="http://common1.qyerstatic.com/bbsajax.php"),clearTimeout(n),n=setTimeout(function(){jQuery.get(o+"?action=usercard&uid="+s,function(e){""!=e&&(jQuery("body").append(e),jQuery(".ui_usercard").css({width:298,height:"auto",position:"absolute",left:a,top:t.pageY+10,zIndex:99}).show())})},300)}),jQuery(document).on("mouseover",".ui_usercard",function(){e=1}),jQuery(document).on("mouseleave",".ui_usercard",function(){t()}),jQuery("._js_face_usercard,.ui_headPort").mouseleave(function(){t()})}),jQuery(document).on("click",".ui_popup_close",function(){jQuery(".ui_popup_bg").removeClass("popup_video_bg")}),!function(t){qyerUI=window.qyerUI||{},qyerUI.SNS=qyerUI.SNS||{},qyerUI.SNS.share={_init:function(){this._bindBtnEvent()},_bindBtnEvent:function(){t(document).on("click","._jsclose",function(){pupclose()}),t(document).on("click","._jsgettoken",function(){var e,i,n;e=t(this),i=e.attr("url")+"&refer="+window.location.href,n=e.attr("notoken"),window.open(i,"newwindow","height=450px,width=600px,top=0,left=0,toolbar=no,menubar=no,scrollbars=no, resizable=no,location=no, status=no"),pupclose(),e=i=n=null})},create:function(t){document.write(this.getHTML(t))},getHTML:function(t){var e=[],t=t||{},i=t.weibopublish||{},n=t.qqpublish||{};return e.push('<p class="ui_textboxShare fr '+("min"==t.iconSize?"ui_textboxShareSmall":"")+'">'),e.push('    <em class="title">'+(t.text?t.text:"同时转发到：")+"</em>"),e.push('    <label class="weibo">'),e.push('        <input type="checkbox" name="weibopublish" class="weibopublish" flag="0" weibo="weibo" value="" onclick="qyerUI.SNS.share.onSelect(this)" id="'+(i.id||"weibopublish")+'"  notoken="'+("0"==i.notoken?"0":"1")+'" '),"0"==i.notoken&&i.checked&&e.push(' checked="checked" '),e.push(" />"),e.push('        <span class="icon '+("0"==i.notoken?"":"iconnull")+'"></span>'),e.push("    </label>"),e.push('    <label class="qzone">'),e.push('        <input type="checkbox" name="qqpublish" class="qqpublish" flag="0" value="" weibo="qq"  onclick="qyerUI.SNS.share.onSelect(this)" id="'+(n.id||"qqpublish")+'" notoken="'+("0"==n.notoken?"0":"1")+'"'),"0"==n.notoken&&n.checked&&e.push(' checked="checked" '),e.push(" />"),e.push('        <span class="icon '+("0"==n.notoken?"":"iconnull")+'"></span>'),e.push("    </label>"),e.push("</p>"),e.join("")},onSelect:function(e){if(!QYER.uid)return e.checked=!1,void ajaxlogin();var i=t(e);if(i.is(":checked")){if("1"==i.attr("notoken"))return void this._showpopup(i);if("0"==i.attr("flag")){var n=i.attr("weibo"),r=i.attr("id"),s=i.attr("notoken");t.getJSON("/api.php?action=checkweibo&type="+n,function(t){if("ok"!=t.result){var e='<div style="width:440px;"><div class="ui_pupBox_head">提示</div><div class="ui_pupBox_content">您在我们网站的token已经过期，是否重新授权完成同步？</div><div class="ui_pupBox_foot clearfix"><input notoken="'+s+'" weibo="'+n+'" type="button" url="http://login.qyer.com/login.php?action='+n+'&bind=1&publish=1" class="ui_button fr _jsgettoken" value="确定"><input type="button" class="ui_button_cancel fr mr10 _jsclose" flag="'+r+'" value="取消"></div></div>';popup.showHtml(e,440)}}),i.attr("flag",1)}}},_showpopup:function(t){var e,i,n,r;e=t.attr("weibo"),i=t.attr("id"),n=t.attr("notoken"),r='<div style="width:440px;"><div class="ui_pupBox_head">提示</div><div class="ui_pupBox_content">使用此功能需绑定到穷游，现在就绑定吗？</div><div class="ui_pupBox_foot clearfix"><input notoken="'+n+'" weibo="'+e+'" type="button" url="http://login.qyer.com/login.php?action='+e+'&bind=1&publish=1" class="ui_button fr _jsgettoken" value="确定"><input type="button" class="ui_button_cancel fr mr10 _jsclose" flag="'+i+'" value="取消"></div></div>',t.attr("checked",!1),popup.showHtml(r,440),e=i=n=r=null},refresh:function(e){var i;t.each(e.list,function(){i=t("."+this.className),i.attr({notoken:this.notoken,checked:"0"==this.notoken&&this.checked,flag:"1"}),i.next()["1"==this.notoken?"addClass":"removeClass"]("iconnull")})}},window.qyerUI.SNS.share._init()}(jQuery),function(t){window.qyerUtil||(window.qyerUtil={_head:null,_getHead:function(){return this._head||(this._head=document.getElementsByTagName("head")[0]),this._head},insertStyle:function(t){var e=document.createElement("style");e.type="text/css",e.styleSheet?e.styleSheet.cssText=t:e.innerHTML=t,this._getHead().appendChild(e),e=null},ajaxFillter:function(t,e,i){if("object"==typeof t&&t.extra&&t.extra.code)switch(0|t.extra.code){case 1:window.qyerUtil.showAntiSpam(t.extra.msg)}},_showAntiSpam_isLoadCss_:!1,showAntiSpam:function(e){function i(t){return['<div class="qui-antiSpam">',"<div>",'<div class="qui-antiSpam-dt">','<div class="qui-antiSpam-content">','<img src="../../../../common2.qyerstatic.com/place/common/component/antiSpam/icon.png"/*tpa=http://common2.qyerstatic.com/place/common/component/antiSpam/icon.png*/ />','<p class="antiSpamP1">'+(t||"由于敏感词限制，你刚刚发布的内容需要编辑审核后才能被他人访问")+"</p>",'<p class="antiSpamP2 js_antiSpam_close">我知道了 > </p>',"</div>","</div>","</div>","</div>"].join("")}window.qyerUtil._showAntiSpam_isLoadCss_||(window.qyerUtil.insertStyle([".qui-antiSpam{position: fixed; top: 0px; left: 0px; width: 100%; height: 100%; background-image:url(http://common2.qyerstatic.com/place/common/basic/images/bg_255_255_255_0.7.png); z-index: 110000; overflow-y: auto; }",".qui-antiSpam >div{display: table; height: 100%; margin: 0 auto; }",".qui-antiSpam-dt{display: table-cell; vertical-align:middle; text-align: center; }",".qui-antiSpam-content{border: 1px solid #ccc; width: 575px; background-color: #f5f5f5; box-shadow: 0px 0px 15px #999; }",".qui-antiSpam-content > img{margin:50px 0px 30px 0px; }",".qui-antiSpam-content .antiSpamP1{font-size:20px; width:337px; margin:0 auto; }",".qui-antiSpam-content .antiSpamP2{font-size:14px; margin:20px 0px 35px 0px; color:#0074b1; cursor:pointer; }"].join("")),window.qyerUtil._showAntiSpam_isLoadCss_=!0),t(i(e)).appendTo(document.body).find(".js_antiSpam_close").one("click",function(e){t(e.currentTarget).parent().parent().parent().parent().remove()})}})}(jQuery),$(document).ready(function(){function t(t){for(var i=0;i<e;i++){$(".selectks").get(i).getAttribute("class");if(i==t){$(".selectks").eq(i).addClass("selectksposition");$(".selectksclass").get(i).style.display="",$(".selectksclass").eq(i).addClass("showthis")}else $($(".selectks").get(i)).removeClass("selectksposition")}}var e=0;$(".selectkstitle").each(function(i){$(this).click(function(e){t(i),e.stopPropagation()}),e++}),$(".selectksclass").each(function(t){$(this).click(function(){$(this).hide(),$(this).find("li").each(function(){"current"==$(this).attr("class")&&($(this).parent().parent().parent().parent().find(".selectkstitle em").html($(this).html()),$(this).parent().parent().parent().parent().find("input").val($(this).attr("v")))})})}),$(document).on("click",".js_create_avatar",function(){var t=$("#x").val(),e=$("#y").val(),i=$("#w").val(),n=$("#h").val(),r=$(".jcrop-holder").find("img").width(),s=$(".jcrop-holder").find("img").height();$.ajax({type:"POST",url:"http://common1.qyerstatic.com/profile.php",data:"action=editavatar&x="+t+"&y="+e+"&w="+i+"&h="+n+"&picw="+r+"&pich="+s+"&strr="+Math.random(),dataType:"json",success:function(t){77==t.error_code?ajaxlogin():"ok"==t.result?(pageupdateavatar(),tips.show(t.data.msg),setTimeout(function(){$(".container").hide(),$(".js_button").hide(),scroll(0,0)},2500)):tips.show(t.data.msg)}})})}),$(".selectlist ul").find("li").mouseover(function(){$(this).addClass("current")}),$(".selectlist ul").find("li").mouseout(function(){$(this).removeClass("current")}),$(".infoform ul li").find("input").bind("focus",function(){$(this).nextAll(".ulayouttag").show(),$(this).nextAll(".txttag").hide(),$(this).addClass("txtfocus"),$(this).removeClass("txterror")}).bind("blur",function(){$(this).nextAll(".ulayouttag").hide(),$(this).removeClass("txtfocus")}).bind("keyup",function(){$(this).nextAll(".ulayouttag").show()}).mouseover(function(){$(this).addClass("txthover")}).mouseout(function(){$(this).removeClass("txthover")}),$(".infoform ul li").find("textarea").bind("focus",function(){$(this).nextAll(".ulayouttag").show(),$(this).nextAll(".txttag").hide(),$(this).addClass("txtfocus"),$(this).removeClass("txterror")}).bind("blur",function(){$(this).nextAll(".ulayouttag").hide(),$(this).removeClass("txtfocus")}).bind("keyup",function(){$(this).nextAll(".ulayouttag").show()}).mouseover(function(){$(this).addClass("txthover")}).mouseout(function(){$(this).removeClass("txthover")}),$(".userlxphlist1 span").find("a").click(function(){$(this).hasClass("current")?$(this).removeClass("current"):$(this).addClass("current")}),$(".ufollowcontent").mouseover(function(){$(this).find(".editfollw").show()}),$(".ufollowcontent").mouseout(function(){$(this).find(".editfollw").hide()}),$(".selectksclass").each(function(){$(this).height()>336&&$(this).addClass("selectksclassso")}),$(function(){function t(){$(".qyer_head_crumb .arrow").removeClass("hover"),$(".qyer_head_crumb_pulldown").hide()}var e,i,n,r,s,a;$(".qyer_head_crumb .arrow").hover(function(){a=$(this),e=a.parent(".drop"),r=e.height(),i=e.offset().left,n=e.offset().top;var t=$(this).attr("data");window.clearTimeout(s),$(".qyer_head_crumb .arrow").removeClass("hover"),$(this).addClass("hover"),$(".qyer_head_crumb_pulldown").hide(),$("."+t).css({left:i,top:n+r}).show()},function(){}),$("http://common1.qyerstatic.com/place/js/common/.qyer_head_crumb .drop").hover(function(){},function(){s=window.setTimeout(t,300)}),$(".qyer_head_crumb_pulldown").hover(function(){window.clearTimeout(s),a.addClass("hover"),$(this).show()},function(){s=window.setTimeout(t,300)})}),function(t){"undefined"==typeof t.cookie&&(t.cookie=function(e,i,n){if(arguments.length>1&&(!/Object/.test(Object.prototype.toString.call(i))||null===i||void 0===i)){if(n=t.extend({},n),null!==i&&void 0!==i||(n.expires=-1),"number"==typeof n.expires){var r=n.expires,s=n.expires=new Date;s.setDate(s.getDate()+r)}return i=String(i),document.cookie=[encodeURIComponent(e),"=",n.raw?i:encodeURIComponent(i),n.expires?"; expires="+n.expires.toUTCString():"",n.path?"; path="+n.path:"",n.domain?"; domain="+n.domain:"",n.secure?"; secure":""].join("")}n=i||{};for(var a,o=n.raw?function(t){return t}:decodeURIComponent,l=document.cookie.split("; "),h=0;a=l[h]&&l[h].split("=");h++)if(o(a[0])===e)return o(a[1]||"");return null})}(jQuery),jQuery("<div class='ui_upward_wrapper' id='ui_gotop'><div class='ui_upward_icon'>回页顶</div></div>").prependTo("body"),jQuery(function(t){var e=t("#ui_gotop"),i=e.innerHeight(),n=t(document),r=t(window),s=t(".qyer_footer"),a=s.height(),o=s.length;r.on("scroll",function(){var t=n.width(),s=n.height(),l=(r.width(),r.height()),h=l-i-30,c=(t-980)/2+1010,u=10;if(o){var d=s-a-n.scrollTop();l>d&&(h=d-i-30)}0==n.scrollTop()?e.fadeOut(300):t>1200?e.css({left:c,right:"auto",top:h}).fadeIn(300):e.css({left:"auto",right:u,top:h}).fadeIn(300)}),e.click(function(){t("body,html").animate({scrollTop:0})})});var doing=function(){function t(){this.preurl="http://common1.qyerstatic.com/public.php?action=feeling",this.TYPE_CITY=1,this.TYPE_POI=2,this.TYPE_CONTINENTS=3,this.TYPE_COUNTRY=4,this.__for__=function(t,e,i){e||(e=function(t){t.result&&alert("操作成功")}),i=i||this.preurl,t._rnd_=+new Date,$.postJSON(i,t,e)},this.getDoings=function(t,e,i,n){this.__for__({pid:t,act:e,d:i},n,"http://common1.qyerstatic.com/api.php?action=getdoings")}}var e=["planto","beento","lived"],i=["city","poi","continents","country"];return $.each(e,function(e,n){$.each(i,function(e,i){t.prototype[n+i]=function(t,e){return function(i,n,r){var s={id:n,oper:t};s[t]=i?1:0,"city"==e?s.type=this.TYPE_CITY:"poi"==e?s.type=this.TYPE_POI:"continents"==e?s.type=this.TYPE_CONTINENTS:"country"==e&&(s.type=this.TYPE_COUNTRY),this.__for__(s,r)}}(n,i)})}),new t}(),place_doings_comment_popupmessage=[],place_doings_batch_data=[];!function(t,e){function i(e,i){var r=e.nodeName.toLowerCase();if("area"===r){var s,a=e.parentNode,o=a.name;return!(!e.href||!o||"map"!==a.nodeName.toLowerCase())&&(s=t("img[usemap=#"+o+"]")[0],!!s&&n(s))}return(/input|select|textarea|button|object/.test(r)?!e.disabled:"a"==r?e.href||i:i)&&n(e)}function n(e){return!t(e).parents().andSelf().filter(function(){return"hidden"===t.curCSS(this,"visibility")||t.expr.filters.hidden(this)}).length}t.ui=t.ui||{},t.ui.version||(t.extend(t.ui,{version:"http://common1.qyerstatic.com/place/js/common/1.8.24",keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91}}),t.fn.extend({propAttr:t.fn.prop||t.fn.attr,_focus:t.fn.focus,focus:function(e,i){return"number"==typeof e?this.each(function(){var n=this;setTimeout(function(){t(n).focus(),i&&i.call(n)},e)}):this._focus.apply(this,arguments)},scrollParent:function(){var e;return e=t.browser.msie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(t.curCSS(this,"position",1))&&/(auto|scroll)/.test(t.curCSS(this,"overflow",1)+t.curCSS(this,"overflow-y",1)+t.curCSS(this,"overflow-x",1))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(t.curCSS(this,"overflow",1)+t.curCSS(this,"overflow-y",1)+t.curCSS(this,"overflow-x",1))}).eq(0),/fixed/.test(this.css("position"))||!e.length?t(document):e},zIndex:function(i){if(i!==e)return this.css("zIndex",i);if(this.length)for(var n,r,s=t(this[0]);s.length&&s[0]!==document;){if(n=s.css("position"),("absolute"===n||"relative"===n||"fixed"===n)&&(r=parseInt(s.css("zIndex"),10),!isNaN(r)&&0!==r))return r;s=s.parent()}return 0},disableSelection:function(){return this.bind((t.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(t){t.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),t("<a>").outerWidth(1).jquery||t.each(["Width","Height"],function(i,n){function r(e,i,n,r){return t.each(s,function(){i-=parseFloat(t.curCSS(e,"padding"+this,!0))||0,n&&(i-=parseFloat(t.curCSS(e,"border"+this+"Width",!0))||0),r&&(i-=parseFloat(t.curCSS(e,"margin"+this,!0))||0)}),i}var s="Width"===n?["Left","Right"]:["Top","Bottom"],a=n.toLowerCase(),o={innerWidth:t.fn.innerWidth,innerHeight:t.fn.innerHeight,outerWidth:t.fn.outerWidth,outerHeight:t.fn.outerHeight};t.fn["inner"+n]=function(i){return i===e?o["inner"+n].call(this):this.each(function(){t(this).css(a,r(this,i)+"px")})},t.fn["outer"+n]=function(e,i){return"number"!=typeof e?o["outer"+n].call(this,e):this.each(function(){t(this).css(a,r(this,e,!0,i)+"px")})}}),t.extend(t.expr[":"],{data:t.expr.createPseudo?t.expr.createPseudo(function(e){return function(i){return!!t.data(i,e)}}):function(e,i,n){return!!t.data(e,n[3])},focusable:function(e){return i(e,!isNaN(t.attr(e,"tabindex")))},tabbable:function(e){var n=t.attr(e,"tabindex"),r=isNaN(n);return(r||n>=0)&&i(e,!r)}}),t(function(){var e=document.body,i=e.appendChild(i=document.createElement("div"));i.offsetHeight,t.extend(i.style,{minHeight:"100px",height:"auto",padding:0,borderWidth:0}),t.support.minHeight=100===i.offsetHeight,t.support.selectstart="onselectstart"in i,e.removeChild(i).style.display="none"}),t.curCSS||(t.curCSS=t.css),t.extend(t.ui,{plugin:{add:function(e,i,n){var r=t.ui[e].prototype;for(var s in n)r.plugins[s]=r.plugins[s]||[],r.plugins[s].push([i,n[s]])},call:function(t,e,i){var n=t.plugins[e];if(n&&t.element[0].parentNode)for(var r=0;r<n.length;r++)t.options[n[r][0]]&&n[r][1].apply(t.element,i)}},contains:function(t,e){return document.compareDocumentPosition?16&t.compareDocumentPosition(e):t!==e&&t.contains(e)},hasScroll:function(e,i){if("hidden"===t(e).css("overflow"))return!1;var n=i&&"left"===i?"scrollLeft":"scrollTop",r=!1;return e[n]>0||(e[n]=1,r=e[n]>0,e[n]=0,r)},isOverAxis:function(t,e,i){return t>e&&t<e+i},isOver:function(e,i,n,r,s,a){return t.ui.isOverAxis(e,n,s)&&t.ui.isOverAxis(i,r,a)}}))}(jQuery),function(t,e){if(t.cleanData){var i=t.cleanData;t.cleanData=function(e){for(var n,r=0;null!=(n=e[r]);r++)try{t(n).triggerHandler("remove")}catch(s){}i(e)}}else{var n=t.fn.remove;t.fn.remove=function(e,i){return this.each(function(){return i||e&&!t.filter(e,[this]).length||t("*",this).add([this]).each(function(){try{t(this).triggerHandler("remove")}catch(e){}}),n.call(t(this),e,i)})}}t.widget=function(e,i,n){var r,s=e.split(".")[0];e=e.split(".")[1],r=s+"-"+e,n||(n=i,i=t.Widget),t.expr[":"][r]=function(i){return!!t.data(i,e)},t[s]=t[s]||{},t[s][e]=function(t,e){arguments.length&&this._createWidget(t,e)};var a=new i;a.options=t.extend(!0,{},a.options),t[s][e].prototype=t.extend(!0,a,{namespace:s,widgetName:e,widgetEventPrefix:t[s][e].prototype.widgetEventPrefix||e,widgetBaseClass:r},n),t.widget.bridge(e,t[s][e])},t.widget.bridge=function(i,n){t.fn[i]=function(r){var s="string"==typeof r,a=Array.prototype.slice.call(arguments,1),o=this;return r=!s&&a.length?t.extend.apply(null,[!0,r].concat(a)):r,s&&"_"===r.charAt(0)?o:(s?this.each(function(){var n=t.data(this,i),s=n&&t.isFunction(n[r])?n[r].apply(n,a):n;if(s!==n&&s!==e)return o=s,!1}):this.each(function(){var e=t.data(this,i);e?e.option(r||{})._init():t.data(this,i,new n(r,this))}),o)}},t.Widget=function(t,e){arguments.length&&this._createWidget(t,e)},t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",options:{disabled:!1},_createWidget:function(e,i){t.data(i,this.widgetName,this),this.element=t(i),this.options=t.extend(!0,{},this.options,this._getCreateOptions(),e);var n=this;this.element.bind("remove."+this.widgetName,function(){n.destroy()}),this._create(),this._trigger("create"),this._init()},_getCreateOptions:function(){return t.metadata&&t.metadata.get(this.element[0])[this.widgetName]},_create:function(){},_init:function(){},destroy:function(){this.element.unbind("."+this.widgetName).removeData(this.widgetName),this.widget().unbind("."+this.widgetName).removeAttr("aria-disabled").removeClass(this.widgetBaseClass+"-disabled ui-state-disabled")},widget:function(){return this.element},option:function(i,n){var r=i;if(0===arguments.length)return t.extend({},this.options);if("string"==typeof i){if(n===e)return this.options[i];r={},r[i]=n}return this._setOptions(r),this},_setOptions:function(e){var i=this;return t.each(e,function(t,e){i._setOption(t,e)}),this},_setOption:function(t,e){return this.options[t]=e,"disabled"===t&&this.widget()[e?"addClass":"removeClass"](this.widgetBaseClass+"-disabled ui-state-disabled").attr("aria-disabled",e),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_trigger:function(e,i,n){var r,s,a=this.options[e];if(n=n||{},i=t.Event(i),i.type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),i.target=this.element[0],s=i.originalEvent)for(r in s)r in i||(i[r]=s[r]);return this.element.trigger(i,n),!(t.isFunction(a)&&a.call(this.element[0],i,n)===!1||i.isDefaultPrevented())}}}(jQuery),function($,undefined){function Datepicker(){this.debug=!1,this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"关闭",prevText:"&#x3c;上月",nextText:"下月&#x3e;",currentText:"今天",monthNames:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],monthNamesShort:["一","二","三","四","五","六","七","八","九","十","十一","十二"],dayNames:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"],dayNamesShort:["周日","周一","周二","周三","周四","周五","周六"],dayNamesMin:["日","一","二","三","四","五","六"],weekHeader:"周",dateFormat:"yy-mm-dd",firstDay:0,isRTL:!1,showMonthAfterYear:!0,yearSuffix:"年"},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1,fromobject:!1,toobject:!1},$.extend(this._defaults,this.regional[""]),this.dpDiv=bindHover($('<div id="'+this._mainDivId+'" class="ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"></div>'))}function bindHover(t){var e="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return t.bind("mouseout",function(t){var i=$(t.target).closest(e);i.length&&i.removeClass("ui-state-hover ui-datepicker-prev-hover ui-datepicker-next-hover")}).bind("mouseover",function(i){var n=$(i.target).closest(e);!$.datepicker._isDisabledDatepicker(instActive.inline?t.parent()[0]:instActive.input[0])&&n.length&&(n.parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),n.addClass("ui-state-hover"),n.hasClass("ui-datepicker-prev")&&n.addClass("ui-datepicker-prev-hover"),n.hasClass("ui-datepicker-next")&&n.addClass("ui-datepicker-next-hover"))})}function extendRemove(t,e){$.extend(t,e);for(var i in e)null!=e[i]&&e[i]!=undefined||(t[i]=e[i]);return t}function isArray(t){return t&&($.browser.safari&&"object"==typeof t&&t.length||t.constructor&&t.constructor.toString().match(/\Array\(\)/))}$.extend($.ui,{datepicker:{version:"http://common1.qyerstatic.com/place/js/common/1.8.18"}});var PROP_NAME="datepicker",dpuuid=(new Date).getTime(),instActive;$.extend(Datepicker.prototype,{markerClassName:"hasDatepicker",maxRows:4,log:function(){this.debug&&console.log.apply("",arguments)},_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(t){return extendRemove(this._defaults,t||{}),this},_attachDatepicker:function(target,settings){var inlineSettings=null;for(var attrName in this._defaults){var attrValue=target.getAttribute("date:"+attrName);if(attrValue){inlineSettings=inlineSettings||{};try{inlineSettings[attrName]=eval(attrValue)}catch(err){inlineSettings[attrName]=attrValue}}}var nodeName=target.nodeName.toLowerCase(),inline="div"==nodeName||"span"==nodeName;target.id||(this.uuid+=1,target.id="dp"+this.uuid);var inst=this._newInst($(target),inline);inst.settings=$.extend({},settings||{},inlineSettings||{}),"input"==nodeName?this._connectDatepicker(target,inst):inline&&this._inlineDatepicker(target,inst)},_newInst:function(t,e){var i=t[0].id.replace(/([^A-Za-z0-9_-])/g,"\\\\$1");return{id:i,input:t,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:e,dpDiv:e?bindHover($('<div class="'+this._inlineClass+' ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"></div>')):this.dpDiv}},_connectDatepicker:function(t,e){var i=$(t);e.append=$([]),e.trigger=$([]),i.hasClass(this.markerClassName)||(this._attachments(i,e),i.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp).bind("setData.datepicker",function(t,i,n){e.settings[i]=n}).bind("getData.datepicker",function(t,i){return this._get(e,i)}),this._autoSize(e),$.data(t,PROP_NAME,e),e.settings.disabled&&this._disableDatepicker(t))},_attachments:function(t,e){var i=this._get(e,"appendText"),n=this._get(e,"isRTL");e.append&&e.append.remove(),i&&(e.append=$('<span class="'+this._appendClass+'">'+i+"</span>"),t[n?"before":"after"](e.append)),t.unbind("focus",this._showDatepicker),e.trigger&&e.trigger.remove();var r=this._get(e,"showOn");if("focus"!=r&&"both"!=r||t.focus(this._showDatepicker),"button"==r||"both"==r){var s=this._get(e,"buttonText"),a=this._get(e,"buttonImage");e.trigger=$(this._get(e,"buttonImageOnly")?$("<img/>").addClass(this._triggerClass).attr({src:a,alt:s,title:s}):$('<button type="button"></button>').addClass(this._triggerClass).html(""==a?s:$("<img/>").attr({src:a,alt:s,title:s}))),t[n?"before":"after"](e.trigger),e.trigger.click(function(){return $.datepicker._datepickerShowing&&$.datepicker._lastInput==t[0]?$.datepicker._hideDatepicker():$.datepicker._datepickerShowing&&$.datepicker._lastInput!=t[0]?($.datepicker._hideDatepicker(),$.datepicker._showDatepicker(t[0])):$.datepicker._showDatepicker(t[0]),!1})}},_autoSize:function(t){if(this._get(t,"autoSize")&&!t.inline){var e=new Date(2009,11,20),i=this._get(t,"dateFormat");if(i.match(/[DM]/)){var n=function(t){for(var e=0,i=0,n=0;n<t.length;n++)t[n].length>e&&(e=t[n].length,i=n);return i};e.setMonth(n(this._get(t,i.match(/MM/)?"monthNames":"monthNamesShort"))),e.setDate(n(this._get(t,i.match(/DD/)?"dayNames":"dayNamesShort"))+20-e.getDay())}t.input.attr("size",this._formatDate(t,e).length)}},_inlineDatepicker:function(t,e){var i=$(t);i.hasClass(this.markerClassName)||(i.addClass(this.markerClassName).append(e.dpDiv).bind("setData.datepicker",function(t,i,n){e.settings[i]=n}).bind("getData.datepicker",function(t,i){return this._get(e,i)}),$.data(t,PROP_NAME,e),this._setDate(e,this._getDefaultDate(e),!0),this._updateDatepicker(e),this._updateAlternate(e),e.settings.disabled&&this._disableDatepicker(t),
e.dpDiv.css("display","block"))},_dialogDatepicker:function(t,e,i,n,r){var s=this._dialogInst;if(!s){this.uuid+=1;var a="dp"+this.uuid;this._dialogInput=$('<input type="text" id="'+a+'" style="position: absolute; top: -100px; width: 0px; z-index: -10;"/>'),this._dialogInput.keydown(this._doKeyDown),$("body").append(this._dialogInput),s=this._dialogInst=this._newInst(this._dialogInput,!1),s.settings={},$.data(this._dialogInput[0],PROP_NAME,s)}if(extendRemove(s.settings,n||{}),e=e&&e.constructor==Date?this._formatDate(s,e):e,this._dialogInput.val(e),this._pos=r?r.length?r:[r.pageX,r.pageY]:null,!this._pos){var o=document.documentElement.clientWidth,l=document.documentElement.clientHeight,h=document.documentElement.scrollLeft||document.body.scrollLeft,c=document.documentElement.scrollTop||document.body.scrollTop;this._pos=[o/2-100+h,l/2-150+c]}return this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),s.settings.onSelect=i,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),$.blockUI&&$.blockUI(this.dpDiv),$.data(this._dialogInput[0],PROP_NAME,s),this},_destroyDatepicker:function(t){var e=$(t),i=$.data(t,PROP_NAME);if(e.hasClass(this.markerClassName)){var n=t.nodeName.toLowerCase();$.removeData(t,PROP_NAME),"input"==n?(i.append.remove(),i.trigger.remove(),e.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):"div"!=n&&"span"!=n||e.removeClass(this.markerClassName).empty()}},_enableDatepicker:function(t){var e=$(t),i=$.data(t,PROP_NAME);if(e.hasClass(this.markerClassName)){var n=t.nodeName.toLowerCase();if("input"==n)t.disabled=!1,i.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""});else if("div"==n||"span"==n){var r=e.children("."+this._inlineClass);r.children().removeClass("ui-state-disabled"),r.find("select.ui-datepicker-month, select.ui-datepicker-year").removeAttr("disabled")}this._disabledInputs=$.map(this._disabledInputs,function(e){return e==t?null:e})}},_disableDatepicker:function(t){var e=$(t),i=$.data(t,PROP_NAME);if(e.hasClass(this.markerClassName)){var n=t.nodeName.toLowerCase();if("input"==n)t.disabled=!0,i.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"});else if("div"==n||"span"==n){var r=e.children("."+this._inlineClass);r.children().addClass("ui-state-disabled"),r.find("select.ui-datepicker-month, select.ui-datepicker-year").attr("disabled","disabled")}this._disabledInputs=$.map(this._disabledInputs,function(e){return e==t?null:e}),this._disabledInputs[this._disabledInputs.length]=t}},_isDisabledDatepicker:function(t){if(!t)return!1;for(var e=0;e<this._disabledInputs.length;e++)if(this._disabledInputs[e]==t)return!0;return!1},_getInst:function(t){try{return $.data(t,PROP_NAME)}catch(e){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(t,e,i){var n=this._getInst(t);if(2==arguments.length&&"string"==typeof e)return"defaults"==e?$.extend({},$.datepicker._defaults):n?"all"==e?$.extend({},n.settings):this._get(n,e):null;var r=e||{};if("string"==typeof e&&(r={},r[e]=i),n){this._curInst==n&&this._hideDatepicker();var s=this._getDateDatepicker(t,!0),a=this._getMinMaxDate(n,"min"),o=this._getMinMaxDate(n,"max");extendRemove(n.settings,r),null!==a&&r.dateFormat!==undefined&&r.minDate===undefined&&(n.settings.minDate=this._formatDate(n,a)),null!==o&&r.dateFormat!==undefined&&r.maxDate===undefined&&(n.settings.maxDate=this._formatDate(n,o)),this._attachments($(t),n),this._autoSize(n),this._setDate(n,s),this._updateAlternate(n),this._updateDatepicker(n)}},_changeDatepicker:function(t,e,i){this._optionDatepicker(t,e,i)},_refreshDatepicker:function(t){var e=this._getInst(t);e&&this._updateDatepicker(e)},_setDateDatepicker:function(t,e){var i=this._getInst(t);i&&(this._setDate(i,e),this._updateDatepicker(i),this._updateAlternate(i))},_getDateDatepicker:function(t,e){var i=this._getInst(t);return i&&!i.inline&&this._setDateFromField(i,e),i?this._getDate(i):null},_doKeyDown:function(t){var e=$.datepicker._getInst(t.target),i=!0,n=e.dpDiv.is(".ui-datepicker-rtl");if(e._keyEvent=!0,$.datepicker._datepickerShowing)switch(t.keyCode){case 9:$.datepicker._hideDatepicker(),i=!1;break;case 13:var r=$("td."+$.datepicker._dayOverClass+":not(."+$.datepicker._currentClass+")",e.dpDiv);r[0]&&$.datepicker._selectDay(t.target,e.selectedMonth,e.selectedYear,r[0]);var s=$.datepicker._get(e,"onSelect");if(s){var a=$.datepicker._formatDate(e);s.apply(e.input?e.input[0]:null,[a,e])}else $.datepicker._hideDatepicker();return!1;case 27:$.datepicker._hideDatepicker();break;case 33:$.datepicker._adjustDate(t.target,t.ctrlKey?-$.datepicker._get(e,"stepBigMonths"):-$.datepicker._get(e,"stepMonths"),"M");break;case 34:$.datepicker._adjustDate(t.target,t.ctrlKey?+$.datepicker._get(e,"stepBigMonths"):+$.datepicker._get(e,"stepMonths"),"M");break;case 35:(t.ctrlKey||t.metaKey)&&$.datepicker._clearDate(t.target),i=t.ctrlKey||t.metaKey;break;case 36:(t.ctrlKey||t.metaKey)&&$.datepicker._gotoToday(t.target),i=t.ctrlKey||t.metaKey;break;case 37:(t.ctrlKey||t.metaKey)&&$.datepicker._adjustDate(t.target,n?1:-1,"D"),i=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&$.datepicker._adjustDate(t.target,t.ctrlKey?-$.datepicker._get(e,"stepBigMonths"):-$.datepicker._get(e,"stepMonths"),"M");break;case 38:(t.ctrlKey||t.metaKey)&&$.datepicker._adjustDate(t.target,-7,"D"),i=t.ctrlKey||t.metaKey;break;case 39:(t.ctrlKey||t.metaKey)&&$.datepicker._adjustDate(t.target,n?-1:1,"D"),i=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&$.datepicker._adjustDate(t.target,t.ctrlKey?+$.datepicker._get(e,"stepBigMonths"):+$.datepicker._get(e,"stepMonths"),"M");break;case 40:(t.ctrlKey||t.metaKey)&&$.datepicker._adjustDate(t.target,7,"D"),i=t.ctrlKey||t.metaKey;break;default:i=!1}else 36==t.keyCode&&t.ctrlKey?$.datepicker._showDatepicker(this):i=!1;i&&(t.preventDefault(),t.stopPropagation())},_doKeyPress:function(t){var e=$.datepicker._getInst(t.target);if($.datepicker._get(e,"constrainInput")){var i=$.datepicker._possibleChars($.datepicker._get(e,"dateFormat")),n=String.fromCharCode(t.charCode==undefined?t.keyCode:t.charCode);return t.ctrlKey||t.metaKey||n<" "||!i||i.indexOf(n)>-1}},_doKeyUp:function(t){var e=$.datepicker._getInst(t.target);if(e.input.val()!=e.lastVal)try{var i=$.datepicker.parseDate($.datepicker._get(e,"dateFormat"),e.input?e.input.val():null,$.datepicker._getFormatConfig(e));i&&($.datepicker._setDateFromField(e),$.datepicker._updateAlternate(e),$.datepicker._updateDatepicker(e))}catch(t){$.datepicker.log(t)}return!0},_showDatepicker:function(t){if(t=t.target||t,"input"!=t.nodeName.toLowerCase()&&(t=$("input",t.parentNode)[0]),!$.datepicker._isDisabledDatepicker(t)&&$.datepicker._lastInput!=t){var e=$.datepicker._getInst(t);$.datepicker._curInst&&$.datepicker._curInst!=e&&($.datepicker._curInst.dpDiv.stop(!0,!0),e&&$.datepicker._datepickerShowing&&$.datepicker._hideDatepicker($.datepicker._curInst.input[0]));var i=$.datepicker._get(e,"beforeShow"),n=i?i.apply(t,[t,e]):{};if(n!==!1){extendRemove(e.settings,n),e.lastVal=null,$.datepicker._lastInput=t,$.datepicker._setDateFromField(e),$.datepicker._inDialog&&(t.value=""),$.datepicker._pos||($.datepicker._pos=$.datepicker._findPos(t),$.datepicker._pos[1]+=t.offsetHeight);var r=!1;$(t).parents().each(function(){return r|="fixed"==$(this).css("position"),!r}),r&&$.browser.opera&&($.datepicker._pos[0]-=document.documentElement.scrollLeft,$.datepicker._pos[1]-=document.documentElement.scrollTop);var s={left:$.datepicker._pos[0],top:$.datepicker._pos[1]};if($.datepicker._pos=null,e.dpDiv.empty(),e.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),$.datepicker._updateDatepicker(e),s=$.datepicker._checkOffset(e,s,r),e.dpDiv.css({position:$.datepicker._inDialog&&$.blockUI?"static":r?"fixed":"absolute",display:"none",left:s.left+"px",top:s.top+"px"}),!e.inline){var a=$.datepicker._get(e,"showAnim"),o=$.datepicker._get(e,"duration"),l=function(){var t=e.dpDiv.find("iframe.ui-datepicker-cover");if(t.length){var i=$.datepicker._getBorders(e.dpDiv);t.css({left:-i[0],top:-i[1],width:e.dpDiv.outerWidth(),height:e.dpDiv.outerHeight()})}};e.dpDiv.zIndex($(t).zIndex()+1),$.datepicker._datepickerShowing=!0,$.effects&&$.effects[a]?e.dpDiv.show(a,$.datepicker._get(e,"showOptions"),o,l):e.dpDiv[a||"show"](a?o:null,l),a&&o||l(),e.input.is(":visible")&&!e.input.is(":disabled")&&e.input.focus(),$.datepicker._curInst=e}}}},_updateDatepicker:function(t){var e=this;e.maxRows=4;var i=$.datepicker._getBorders(t.dpDiv);instActive=t,t.dpDiv.empty().append(this._generateHTML(t));var n=t.dpDiv.find("iframe.ui-datepicker-cover");n.length&&n.css({left:-i[0],top:-i[1],width:t.dpDiv.outerWidth(),height:t.dpDiv.outerHeight()}),t.dpDiv.find("."+this._dayOverClass+" a").mouseover();var r=this._getNumberOfMonths(t),s=r[1],a=218;if(t.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),s>1&&t.dpDiv.addClass("ui-datepicker-multi-"+s).css("width",a*s+10*(s-1)+"px"),t.dpDiv[(1!=r[0]||1!=r[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),t.dpDiv[(this._get(t,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),t==$.datepicker._curInst&&$.datepicker._datepickerShowing&&t.input&&t.input.is(":visible")&&!t.input.is(":disabled")&&t.input[0]!=document.activeElement&&t.input.focus(),t.yearshtml){var o=t.yearshtml;setTimeout(function(){o===t.yearshtml&&t.yearshtml&&t.dpDiv.find("select.ui-datepicker-year:first").replaceWith(t.yearshtml),o=t.yearshtml=null},0)}},_getBorders:function(t){var e=function(t){return{thin:1,medium:2,thick:3}[t]||t};return[parseFloat(e(t.css("border-left-width"))),parseFloat(e(t.css("border-top-width")))]},_checkOffset:function(t,e,i){var n=t.dpDiv.outerWidth(),r=t.dpDiv.outerHeight(),s=t.input?t.input.outerWidth():0,a=t.input?t.input.outerHeight():0,o=document.documentElement.clientWidth+$(document).scrollLeft(),l=document.documentElement.clientHeight+$(document).scrollTop();return e.left-=this._get(t,"isRTL")?n-s:0,e.left-=i&&e.left==t.input.offset().left?$(document).scrollLeft():0,e.top-=i&&e.top==t.input.offset().top+a?$(document).scrollTop():0,e.left-=Math.min(e.left,e.left+n>o&&o>n?Math.abs(e.left+n-o):0),e.top-=Math.min(e.top,e.top+r>l&&l>r?Math.abs(r+a):0),e},_findPos:function(t){for(var e=this._getInst(t),i=this._get(e,"isRTL");t&&("hidden"==t.type||1!=t.nodeType||$.expr.filters.hidden(t));)t=t[i?"previousSibling":"nextSibling"];var n=$(t).offset();return[n.left,n.top]},_hideDatepicker:function(t){var e=this._curInst;if(e&&(!t||e==$.data(t,PROP_NAME))&&this._datepickerShowing){var i=this._get(e,"showAnim"),n=this._get(e,"duration"),r=this,s=function(){$.datepicker._tidyDialog(e),r._curInst=null};$.effects&&$.effects[i]?e.dpDiv.hide(i,$.datepicker._get(e,"showOptions"),n,s):e.dpDiv["slideDown"==i?"slideUp":"fadeIn"==i?"fadeOut":"hide"](i?n:null,s),i||s(),this._datepickerShowing=!1;var a=this._get(e,"onClose");a&&a.apply(e.input?e.input[0]:null,[e.input?e.input.val():"",e]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),$.blockUI&&($.unblockUI(),$("body").append(this.dpDiv))),this._inDialog=!1}},_tidyDialog:function(t){t.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(t){if($.datepicker._curInst){var e=$(t.target),i=$.datepicker._getInst(e[0]);(e[0].id==$.datepicker._mainDivId||0!=e.parents("#"+$.datepicker._mainDivId).length||e.hasClass($.datepicker.markerClassName)||e.closest("."+$.datepicker._triggerClass).length||!$.datepicker._datepickerShowing||$.datepicker._inDialog&&$.blockUI)&&(!e.hasClass($.datepicker.markerClassName)||$.datepicker._curInst==i)||$.datepicker._hideDatepicker()}},_adjustDate:function(t,e,i){var n=$(t),r=this._getInst(n[0]);this._isDisabledDatepicker(n[0])||(this._adjustInstDate(r,e+("M"==i?this._get(r,"showCurrentAtPos"):0),i),this._updateDatepicker(r))},_gotoToday:function(t){var e=$(t),i=this._getInst(e[0]);if(this._get(i,"gotoCurrent")&&i.currentDay)i.selectedDay=i.currentDay,i.drawMonth=i.selectedMonth=i.currentMonth,i.drawYear=i.selectedYear=i.currentYear;else{var n=new Date;i.selectedDay=n.getDate(),i.drawMonth=i.selectedMonth=n.getMonth(),i.drawYear=i.selectedYear=n.getFullYear()}this._notifyChange(i),this._adjustDate(e)},_selectMonthYear:function(t,e,i){var n=$(t),r=this._getInst(n[0]);r["selected"+("M"==i?"Month":"Year")]=r["draw"+("M"==i?"Month":"Year")]=parseInt(e.options[e.selectedIndex].value,10),this._notifyChange(r),this._adjustDate(n)},_selectDay:function(t,e,i,n){var r=$(t);if(!$(n).hasClass(this._unselectableClass)&&!this._isDisabledDatepicker(r[0])){var s=this._getInst(r[0]);s.selectedDay=s.currentDay=$("a",n).html(),s.selectedMonth=s.currentMonth=e,s.selectedYear=s.currentYear=i,this._selectDate(t,this._formatDate(s,s.currentDay,s.currentMonth,s.currentYear))}},_clearDate:function(t){var e=$(t);this._getInst(e[0]);this._selectDate(e,"")},_selectDate:function(t,e){var i=$(t),n=this._getInst(i[0]);e=null!=e?e:this._formatDate(n),n.input&&n.input.val(e),this._updateAlternate(n);var r=this._get(n,"onSelect");r?r.apply(n.input?n.input[0]:null,[e,n]):n.input&&n.input.trigger("change"),n.inline?this._updateDatepicker(n):(this._hideDatepicker(),this._lastInput=n.input[0],"object"!=typeof n.input[0]&&n.input.focus(),this._lastInput=null)},_updateAlternate:function(t){var e=this._get(t,"altField");if(e){var i=this._get(t,"altFormat")||this._get(t,"dateFormat"),n=this._getDate(t),r=this.formatDate(i,n,this._getFormatConfig(t));$(e).each(function(){$(this).val(r)})}},noWeekends:function(t){var e=t.getDay();return[e>0&&e<6,""]},iso8601Week:function(t){var e=new Date(t.getTime());e.setDate(e.getDate()+4-(e.getDay()||7));var i=e.getTime();return e.setMonth(0),e.setDate(1),Math.floor(Math.round((i-e)/864e5)/7)+1},parseDate:function(t,e,i){if(null==t||null==e)throw"Invalid arguments";if(e="object"==typeof e?e.toString():e+"",""==e)return null;var n=(i?i.shortYearCutoff:null)||this._defaults.shortYearCutoff;n="string"!=typeof n?n:(new Date).getFullYear()%100+parseInt(n,10);for(var r=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,s=(i?i.dayNames:null)||this._defaults.dayNames,a=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,o=(i?i.monthNames:null)||this._defaults.monthNames,l=-1,h=-1,c=-1,u=-1,d=!1,p=function(e){var i=v+1<t.length&&t.charAt(v+1)==e;return i&&v++,i},f=function(t){var i=p(t),n="@"==t?14:"!"==t?20:"y"==t&&i?4:"o"==t?3:2,r=new RegExp("^\\d{1,"+n+"}"),s=e.substring(y).match(r);if(!s)throw"Missing number at position "+y;return y+=s[0].length,parseInt(s[0],10)},g=function(t,i,n){var r=$.map(p(t)?n:i,function(t,e){return[[e,t]]}).sort(function(t,e){return-(t[1].length-e[1].length)}),s=-1;if($.each(r,function(t,i){var n=i[1];if(e.substr(y,n.length).toLowerCase()==n.toLowerCase())return s=i[0],y+=n.length,!1}),s!=-1)return s+1;throw"Unknown name at position "+y},m=function(){if(e.charAt(y)!=t.charAt(v))throw"Unexpected literal at position "+y;y++},y=0,v=0;v<t.length;v++)if(d)"'"!=t.charAt(v)||p("'")?m():d=!1;else switch(t.charAt(v)){case"d":c=f("d");break;case"D":g("D",r,s);break;case"o":u=f("o");break;case"m":h=f("m");break;case"M":h=g("M",a,o);break;case"y":l=f("y");break;case"@":var x=new Date(f("@"));l=x.getFullYear(),h=x.getMonth()+1,c=x.getDate();break;case"!":var x=new Date((f("!")-this._ticksTo1970)/1e4);l=x.getFullYear(),h=x.getMonth()+1,c=x.getDate();break;case"'":p("'")?m():d=!0;break;default:m()}if(y<e.length)throw"Extra/unparsed characters found in date: "+e.substring(y);if(l==-1?l=(new Date).getFullYear():l<100&&(l+=(new Date).getFullYear()-(new Date).getFullYear()%100+(l<=n?0:-100)),u>-1)for(h=1,c=u;;){var b=this._getDaysInMonth(l,h-1);if(c<=b)break;h++,c-=b}var x=this._daylightSavingAdjust(new Date(l,h-1,c));if(x.getFullYear()!=l||x.getMonth()+1!=h||x.getDate()!=c)throw"Invalid date";return x},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*60*60*1e7,formatDate:function(t,e,i){if(!e)return"";var n=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,r=(i?i.dayNames:null)||this._defaults.dayNames,s=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,a=(i?i.monthNames:null)||this._defaults.monthNames,o=function(e){var i=d+1<t.length&&t.charAt(d+1)==e;return i&&d++,i},l=function(t,e,i){var n=""+e;if(o(t))for(;n.length<i;)n="0"+n;return n},h=function(t,e,i,n){return o(t)?n[e]:i[e]},c="",u=!1;if(e)for(var d=0;d<t.length;d++)if(u)"'"!=t.charAt(d)||o("'")?c+=t.charAt(d):u=!1;else switch(t.charAt(d)){case"d":c+=l("d",e.getDate(),2);break;case"D":c+=h("D",e.getDay(),n,r);break;case"o":c+=l("o",Math.round((new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime()-new Date(e.getFullYear(),0,0).getTime())/864e5),3);break;case"m":c+=l("m",e.getMonth()+1,2);break;case"M":c+=h("M",e.getMonth(),s,a);break;case"y":c+=o("y")?e.getFullYear():(e.getYear()%100<10?"0":"")+e.getYear()%100;break;case"@":c+=e.getTime();break;case"!":c+=1e4*e.getTime()+this._ticksTo1970;break;case"'":o("'")?c+="'":u=!0;break;default:c+=t.charAt(d)}return c},_possibleChars:function(t){for(var e="",i=!1,n=function(e){var i=r+1<t.length&&t.charAt(r+1)==e;return i&&r++,i},r=0;r<t.length;r++)if(i)"'"!=t.charAt(r)||n("'")?e+=t.charAt(r):i=!1;else switch(t.charAt(r)){case"d":case"m":case"y":case"@":e+="0123456789";break;case"D":case"M":return null;case"'":n("'")?e+="'":i=!0;break;default:e+=t.charAt(r)}return e},_get:function(t,e){return t.settings[e]!==undefined?t.settings[e]:this._defaults[e]},_setDateFromField:function(t,e){if(t.input.val()!=t.lastVal){var i,n,r=this._get(t,"dateFormat"),s=t.lastVal=t.input?t.input.val():null;i=n=this._getDefaultDate(t);var a=this._getFormatConfig(t);try{i=this.parseDate(r,s,a)||n}catch(o){this.log(o),s=e?"":s}t.selectedDay=i.getDate(),t.drawMonth=t.selectedMonth=i.getMonth(),t.drawYear=t.selectedYear=i.getFullYear(),t.currentDay=s?i.getDate():0,t.currentMonth=s?i.getMonth():0,t.currentYear=s?i.getFullYear():0,this._adjustInstDate(t)}},_getDefaultDate:function(t){return this._restrictMinMax(t,this._determineDate(t,this._get(t,"defaultDate"),new Date))},_determineDate:function(t,e,i){var n=function(t){var e=new Date;return e.setDate(e.getDate()+t),e},r=function(e){try{return $.datepicker.parseDate($.datepicker._get(t,"dateFormat"),e,$.datepicker._getFormatConfig(t))}catch(i){}for(var n=(e.toLowerCase().match(/^c/)?$.datepicker._getDate(t):null)||new Date,r=n.getFullYear(),s=n.getMonth(),a=n.getDate(),o=/([+-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,l=o.exec(e);l;){switch(l[2]||"d"){case"d":case"D":a+=parseInt(l[1],10);break;case"w":case"W":a+=7*parseInt(l[1],10);break;case"m":case"M":s+=parseInt(l[1],10),a=Math.min(a,$.datepicker._getDaysInMonth(r,s));break;case"y":case"Y":r+=parseInt(l[1],10),a=Math.min(a,$.datepicker._getDaysInMonth(r,s))}l=o.exec(e)}return new Date(r,s,a)},s=null==e||""===e?i:"string"==typeof e?r(e):"number"==typeof e?isNaN(e)?i:n(e):new Date(e.getTime());return s=s&&"Invalid Date"==s.toString()?i:s,s&&(s.setHours(0),s.setMinutes(0),s.setSeconds(0),s.setMilliseconds(0)),this._daylightSavingAdjust(s)},_daylightSavingAdjust:function(t){return t?(t.setHours(t.getHours()>12?t.getHours()+2:0),t):null},_setDate:function(t,e,i){var n=!e,r=t.selectedMonth,s=t.selectedYear,a=this._restrictMinMax(t,this._determineDate(t,e,new Date));t.selectedDay=t.currentDay=a.getDate(),t.drawMonth=t.selectedMonth=t.currentMonth=a.getMonth(),t.drawYear=t.selectedYear=t.currentYear=a.getFullYear(),r==t.selectedMonth&&s==t.selectedYear||i||this._notifyChange(t),this._adjustInstDate(t),t.input&&t.input.val(n?"":this._formatDate(t))},_getDate:function(t){var e=!t.currentYear||t.input&&""==t.input.val()?null:this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay));return e},_generateHTML:function(t){var e=new Date;e=this._daylightSavingAdjust(new Date(e.getFullYear(),e.getMonth(),e.getDate()));var i=this._get(t,"isRTL"),n=this._get(t,"showButtonPanel"),r=this._get(t,"hideIfNoPrevNext"),s=this._get(t,"navigationAsDateFormat"),a=this._getNumberOfMonths(t),o=this._get(t,"showCurrentAtPos"),l=this._get(t,"stepMonths"),h=1!=a[0]||1!=a[1],c=this._daylightSavingAdjust(t.currentDay?new Date(t.currentYear,t.currentMonth,t.currentDay):new Date(9999,9,9)),u=this._getMinMaxDate(t,"min"),d=this._getMinMaxDate(t,"max"),p=t.drawMonth-o,f=t.drawYear;if(p<0&&(p+=12,f--),d){var g=this._daylightSavingAdjust(new Date(d.getFullYear(),d.getMonth()-a[0]*a[1]+1,d.getDate()));for(g=u&&g<u?u:g;this._daylightSavingAdjust(new Date(f,p,1))>g;)p--,p<0&&(p=11,f--)}t.drawMonth=p,t.drawYear=f;var m=this._get(t,"prevText");m=s?this.formatDate(m,this._daylightSavingAdjust(new Date(f,p-l,1)),this._getFormatConfig(t)):m;var y=this._canAdjustMonth(t,-1,f,p)?'<a class="ui-datepicker-prev ui-corner-all" onclick="DP_jQuery_'+dpuuid+".datepicker._adjustDate('#"+t.id+"', -"+l+", 'M');\" title=\""+m+'"><span class="ui-icon ui-icon-circle-triangle-'+(i?"e":"w")+'">'+m+"</span></a>":r?"":'<a class="ui-datepicker-prev ui-corner-all ui-state-disabled" title="'+m+'"><span class="ui-icon ui-icon-circle-triangle-'+(i?"e":"w")+'">'+m+"</span></a>",v=this._get(t,"nextText");v=s?this.formatDate(v,this._daylightSavingAdjust(new Date(f,p+l,1)),this._getFormatConfig(t)):v;var x=this._canAdjustMonth(t,1,f,p)?'<a class="ui-datepicker-next ui-corner-all" onclick="DP_jQuery_'+dpuuid+".datepicker._adjustDate('#"+t.id+"', +"+l+", 'M');\" title=\""+v+'"><span class="ui-icon ui-icon-circle-triangle-'+(i?"w":"e")+'">'+v+"</span></a>":r?"":'<a class="ui-datepicker-next ui-corner-all ui-state-disabled" title="'+v+'"><span class="ui-icon ui-icon-circle-triangle-'+(i?"w":"e")+'">'+v+"</span></a>",b=this._get(t,"currentText"),_=this._get(t,"gotoCurrent")&&t.currentDay?c:e;b=s?this.formatDate(b,_,this._getFormatConfig(t)):b;var k=t.inline?"":'<button type="button" class="ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all" onclick="DP_jQuery_'+dpuuid+'.datepicker._hideDatepicker();">'+this._get(t,"closeText")+"</button>",w=n?'<div class="ui-datepicker-buttonpane ui-widget-content">'+(i?k:"")+(this._isInRange(t,_)?'<button type="button" class="ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all" onclick="DP_jQuery_'+dpuuid+".datepicker._gotoToday('#"+t.id+"');\">"+b+"</button>":"")+(i?"":k)+"</div>":"",D=parseInt(this._get(t,"firstDay"),10);D=isNaN(D)?0:D;var C=this._get(t,"showWeek"),T=this._get(t,"dayNames"),S=(this._get(t,"dayNamesShort"),this._get(t,"dayNamesMin")),M=this._get(t,"monthNames"),A=this._get(t,"monthNamesShort"),j=this._get(t,"beforeShowDay"),P=this._get(t,"showOtherMonths"),I=this._get(t,"selectOtherMonths"),L=(this._get(t,"calculateWeek")||this.iso8601Week,this._getDefaultDate(t)),O="";if(0!=this._get(t,"fromobject")&&0!=this._get(t,"toobject"))var N=$("#"+this._get(t,"fromobject")).datepicker("getDate"),E=$("#"+this._get(t,"toobject")).datepicker("getDate");for(var B=0;B<a[0];B++){var R="";this.maxRows=4;for(var Y=0;Y<a[1];Y++){var z=this._daylightSavingAdjust(new Date(f,p,t.selectedDay)),H=" ui-corner-all",F="";if(h){if(F+='<div class="ui-datepicker-group',a[1]>1)switch(Y){case 0:F+=" ui-datepicker-group-first",H=" ui-corner-"+(i?"right":"left");break;case a[1]-1:F+=" ui-datepicker-group-last",H=" ui-corner-"+(i?"left":"right");break;default:F+=" ui-datepicker-group-middle",H=""}F+='">'}F+='<div class="ui-datepicker-header ui-widget-header ui-helper-clearfix'+H+'">'+(/all|left/.test(H)&&0==B?i?x:y:"")+(/all|right/.test(H)&&0==B?i?y:x:"")+this._generateMonthYearHeader(t,p,f,u,d,B>0||Y>0,M,A)+'</div><table class="ui-datepicker-calendar"><thead><tr>';for(var W=C?'<th class="ui-datepicker-week-col">'+this._get(t,"weekHeader")+"</th>":"",Q=0;Q<7;Q++){var X=(Q+D)%7;W+="<th"+((Q+D+6)%7>=5?' class="ui-datepicker-week-end"':"")+'><span title="'+T[X]+'">'+S[X]+"</span></th>"}F+=W+"</tr></thead><tbody>";var G=this._getDaysInMonth(f,p);f==t.selectedYear&&p==t.selectedMonth&&(t.selectedDay=Math.min(t.selectedDay,G));var q=(this._getFirstDayOfMonth(f,p)-D+7)%7,U=Math.ceil((q+G)/7),V=h&&this.maxRows>U?this.maxRows:U;this.maxRows=V;for(var K=this._daylightSavingAdjust(new Date(f,p,1-q)),Z=0;Z<V;Z++){F+="<tr>";for(var J=C?'<td class="ui-datepicker-week-col">'+this._get(t,"calculateWeek")(K)+"</td>":"",Q=0;Q<7;Q++){var tt=j?j.apply(t.input?t.input[0]:null,[K]):[!0,""],et=K.getMonth()!=p,it=et&&!I||!tt[0]||u&&K<u||d&&K>d;J+='<td class="'+((Q+D+6)%7>=5?" ui-datepicker-week-end":"")+(et?" ui-datepicker-other-month":"")+(K.getTime()==z.getTime()&&p==t.selectedMonth&&t._keyEvent||L.getTime()==K.getTime()&&L.getTime()==z.getTime()?" "+this._dayOverClass:"")+(it?" "+this._unselectableClass+" ui-state-disabled":"")+(et&&!P?"":" "+tt[1]+(K.getTime()==c.getTime()?" "+this._currentClass:"")+(K.getTime()==e.getTime()?" ui-datepicker-today":""))+'"'+(et&&!P||!tt[2]?"":' title="'+tt[2]+'"')+(it?"":' onclick="DP_jQuery_'+dpuuid+".datepicker._selectDay('#"+t.id+"',"+K.getMonth()+","+K.getFullYear()+', this);return false;"')+">"+(et&&!P?"&#xa0;":it?'<span class="ui-state-default'+(null!=N&&K.getTime()==N.getTime()&&dtplus.type==this._get(t,"toobject")?" ui-state-active":"")+'">'+K.getDate()+"</span>":'<a v="'+parseInt(K.getMonth()+1)+","+K.getDate()+","+K.getFullYear()+'" class="ui-state-default'+(K.getTime()==e.getTime()?" ui-state-highlight":"")+(null!=N&&null!=E&&K.getTime()>N.getTime()&&K.getTime()<E.getTime()&&dtplus.type==this._get(t,"toobject")?" ui-state-space":"")+(K.getTime()==c.getTime()||null!=N&&K.getTime()==N.getTime()?" ui-state-active":"")+(et?" ui-priority-secondary":"")+'" href="#">'+K.getDate()+"</a>")+"</td>",K.setDate(K.getDate()+1),K=this._daylightSavingAdjust(K)}F+=J+"</tr>"}p++,p>11&&(p=0,f++),F+="</tbody></table>"+(h?"</div>"+(a[0]>0&&Y==a[1]-1?'<div class="ui-datepicker-row-break"></div>':""):""),R+=F}O+=R}return O+=w+($.browser.msie&&parseInt($.browser.version,10)<7&&!t.inline?'<iframe src="javascript:false;" class="ui-datepicker-cover" frameborder="0"></iframe>':""),t._keyEvent=!1,O},_generateMonthYearHeader:function(t,e,i,n,r,s,a,o){var l=this._get(t,"changeMonth"),h=this._get(t,"changeYear"),c=this._get(t,"showMonthAfterYear"),u='<div class="ui-datepicker-title">',d="";if(s||!l)d+='<span class="ui-datepicker-month">'+a[e]+"</span>";else{var p=n&&n.getFullYear()==i,f=r&&r.getFullYear()==i;d+='<select class="ui-datepicker-month" onchange="DP_jQuery_'+dpuuid+".datepicker._selectMonthYear('#"+t.id+"', this, 'M');\" >";for(var g=0;g<12;g++)(!p||g>=n.getMonth())&&(!f||g<=r.getMonth())&&(d+='<option value="'+g+'"'+(g==e?' selected="selected"':"")+">"+o[g]+"</option>");d+="</select>"}if(c||(u+=d+(!s&&l&&h?"":"&#xa0;")),!t.yearshtml)if(t.yearshtml="",s||!h)u+='<span class="ui-datepicker-year">'+i+"</span>";else{var m=this._get(t,"yearRange").split(":"),y=(new Date).getFullYear(),v=function(t){var e=t.match(/c[+-].*/)?i+parseInt(t.substring(1),10):t.match(/[+-].*/)?y+parseInt(t,10):parseInt(t,10);return isNaN(e)?y:e},x=v(m[0]),b=Math.max(x,v(m[1]||""));for(x=n?Math.max(x,n.getFullYear()):x,b=r?Math.min(b,r.getFullYear()):b,t.yearshtml+='<select class="ui-datepicker-year" onchange="DP_jQuery_'+dpuuid+".datepicker._selectMonthYear('#"+t.id+"', this, 'Y');\" >";x<=b;x++)t.yearshtml+='<option value="'+x+'"'+(x==i?' selected="selected"':"")+">"+x+"</option>";t.yearshtml+="</select>",u+=t.yearshtml,t.yearshtml=null}return u+=this._get(t,"yearSuffix"),c&&(u+=(!s&&l&&h?"":"&#xa0;")+d),u+="</div>"},_adjustInstDate:function(t,e,i){var n=t.drawYear+("Y"==i?e:0),r=t.drawMonth+("M"==i?e:0),s=Math.min(t.selectedDay,this._getDaysInMonth(n,r))+("D"==i?e:0),a=this._restrictMinMax(t,this._daylightSavingAdjust(new Date(n,r,s)));t.selectedDay=a.getDate(),t.drawMonth=t.selectedMonth=a.getMonth(),t.drawYear=t.selectedYear=a.getFullYear(),"M"!=i&&"Y"!=i||this._notifyChange(t)},_restrictMinMax:function(t,e){var i=this._getMinMaxDate(t,"min"),n=this._getMinMaxDate(t,"max"),r=i&&e<i?i:e;return r=n&&r>n?n:r},_notifyChange:function(t){var e=this._get(t,"onChangeMonthYear");e&&e.apply(t.input?t.input[0]:null,[t.selectedYear,t.selectedMonth+1,t])},_getNumberOfMonths:function(t){var e=this._get(t,"numberOfMonths");return null==e?[1,1]:"number"==typeof e?[1,e]:e},_getMinMaxDate:function(t,e){return this._determineDate(t,this._get(t,e+"Date"),null)},_getDaysInMonth:function(t,e){return 32-this._daylightSavingAdjust(new Date(t,e,32)).getDate()},_getFirstDayOfMonth:function(t,e){return new Date(t,e,1).getDay()},_canAdjustMonth:function(t,e,i,n){var r=this._getNumberOfMonths(t),s=this._daylightSavingAdjust(new Date(i,n+(e<0?e:r[0]*r[1]),1));return e<0&&s.setDate(this._getDaysInMonth(s.getFullYear(),s.getMonth())),this._isInRange(t,s)},_isInRange:function(t,e){var i=this._getMinMaxDate(t,"min"),n=this._getMinMaxDate(t,"max");return(!i||e.getTime()>=i.getTime())&&(!n||e.getTime()<=n.getTime())},_getFormatConfig:function(t){var e=this._get(t,"shortYearCutoff");return e="string"!=typeof e?e:(new Date).getFullYear()%100+parseInt(e,10),{shortYearCutoff:e,dayNamesShort:this._get(t,"dayNamesShort"),dayNames:this._get(t,"dayNames"),monthNamesShort:this._get(t,"monthNamesShort"),monthNames:this._get(t,"monthNames")}},_formatDate:function(t,e,i,n){e||(t.currentDay=t.selectedDay,t.currentMonth=t.selectedMonth,t.currentYear=t.selectedYear);var r=e?"object"==typeof e?e:this._daylightSavingAdjust(new Date(n,i,e)):this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay));return this.formatDate(this._get(t,"dateFormat"),r,this._getFormatConfig(t))}}),$.fn.datepicker=function(t){if(!this.length)return this;$.datepicker.initialized||($(document).mousedown($.datepicker._checkExternalClick).find("body").append($.datepicker.dpDiv),$.datepicker.initialized=!0);var e=Array.prototype.slice.call(arguments,1);return"string"!=typeof t||"isDisabled"!=t&&"getDate"!=t&&"widget"!=t?"option"==t&&2==arguments.length&&"string"==typeof arguments[1]?$.datepicker["_"+t+"Datepicker"].apply($.datepicker,[this[0]].concat(e)):this.each(function(){"string"==typeof t?$.datepicker["_"+t+"Datepicker"].apply($.datepicker,[this].concat(e)):$.datepicker._attachDatepicker(this,t)}):$.datepicker["_"+t+"Datepicker"].apply($.datepicker,[this[0]].concat(e))},$.datepicker=new Datepicker,$.datepicker.initialized=!1,$.datepicker.uuid=(new Date).getTime(),$.datepicker.version="http://common1.qyerstatic.com/place/js/common/1.8.18",window["DP_jQuery_"+dpuuid]=$}(jQuery),function(){function t(t,e){var i;t||(t={});for(i in e)t[i]=e[i];return t}function e(){var t,e,i=arguments,n={},r=function(t,e){var i,n;"object"!=typeof t&&(t={});for(n in e)e.hasOwnProperty(n)&&(i=e[n],t[n]=i&&"object"==typeof i&&"[object Array]"!==Object.prototype.toString.call(i)&&"number"!=typeof i.nodeType?r(t[n]||{},i):e[n]);return t};for(i[0]===!0&&(n=i[1],i=Array.prototype.slice.call(i,2)),e=i.length,t=0;t<e;t++)n=r(n,i[t]);return n}function i(t,e){return parseInt(t,e||10)}function n(t){return"string"==typeof t}function r(t){return"object"==typeof t}function s(t){return"[object Array]"===Object.prototype.toString.call(t)}function a(t){return"number"==typeof t}function o(t){return lt.log(t)/lt.LN10}function l(t){return lt.pow(10,t)}function h(t,e){for(var i=t.length;i--;)if(t[i]===e){t.splice(i,1);break}}function c(t){return t!==R&&null!==t}function u(t,e,i){var s,a;if(n(e))c(i)?t.setAttribute(e,i):t&&t.getAttribute&&(a=t.getAttribute(e));else if(c(e)&&r(e))for(s in e)t.setAttribute(s,e[s]);return a}function d(t){return s(t)?t:[t]}function p(){var t,e,i=arguments,n=i.length;for(t=0;t<n;t++)if(e=i[t],"undefined"!=typeof e&&null!==e)return e}function f(e,i){_t&&i&&i.opacity!==R&&(i.filter="alpha(opacity="+100*i.opacity+")"),t(e.style,i)}function g(e,i,n,r,s){
return e=at.createElement(e),i&&t(e,i),s&&f(e,{padding:0,border:Nt,margin:0}),n&&f(e,n),r&&r.appendChild(e),e}function m(e,i){var n=function(){};return n.prototype=new e,t(n.prototype,i),n}function y(t,e,n,r){var s=H.lang,t=+t||0,a=e===-1?(t.toString().split(".")[1]||"").length:isNaN(e=ft(e))?2:e,e=void 0===n?s.decimalPoint:n,r=void 0===r?s.thousandsSep:r,s=t<0?"-":"",n=String(i(t=ft(t).toFixed(a))),o=n.length>3?n.length%3:0;return s+(o?n.substr(0,o)+r:"")+n.substr(o).replace(/(\d{3})(?=\d)/g,"$1"+r)+(a?e+ft(t-n).toFixed(a).slice(2):"")}function v(t,e){return Array((e||2)+1-String(t).length).join(0)+t}function x(t,e,i){var n=t[e];t[e]=function(){var t=Array.prototype.slice.call(arguments);return t.unshift(n),i.apply(this,t)}}function b(t,e){for(var i,n,r,s,a,o="{",l=!1,h=[];(o=t.indexOf(o))!==-1;){if(i=t.slice(0,o),l){for(n=i.split(":"),r=n.shift().split("."),a=r.length,i=e,s=0;s<a;s++)i=i[r[s]];n.length&&(n=n.join(":"),r=/\.([0-9])/,s=H.lang,a=void 0,/f$/.test(n)?(a=(a=n.match(r))?a[1]:-1,i=y(i,a,s.decimalPoint,n.indexOf(",")>-1?s.thousandsSep:"")):i=F(n,i))}h.push(i),t=t.slice(o+1),o=(l=!l)?"}":"{"}return h.push(t),h.join("")}function _(t){return lt.pow(10,ct(lt.log(t)/lt.LN10))}function k(t,e,i,n){var r,i=p(i,1);for(r=t/i,e||(e=[1,2,2.5,5,10],n&&n.allowDecimals===!1&&(1===i?e=[1,2,5,10]:i<=.1&&(e=[1/i]))),n=0;n<e.length&&(t=e[n],!(r<=(e[n]+(e[n+1]||e[n]))/2));n++);return t*=i}function w(){this.symbol=this.color=0}function D(t,e){var i,n,r=t.length;for(n=0;n<r;n++)t[n].ss_i=n;for(t.sort(function(t,n){return i=e(t,n),0===i?t.ss_i-n.ss_i:i}),n=0;n<r;n++)delete t[n].ss_i}function C(t){for(var e=t.length,i=t[0];e--;)t[e]<i&&(i=t[e]);return i}function T(t){for(var e=t.length,i=t[0];e--;)t[e]>i&&(i=t[e]);return i}function S(t,e){for(var i in t)t[i]&&t[i]!==e&&t[i].destroy&&t[i].destroy(),delete t[i]}function M(t){z||(z=g(Ot)),t&&z.appendChild(t),z.innerHTML=""}function A(t,e){var i="Highcharts error #"+t+": www.highcharts.com/errors/"+t;if(e)throw i;ot.console&&console.log(i)}function j(t){return parseFloat(t.toPrecision(14))}function P(t,e){W=p(t,e.animation)}function I(){var t=H.global.useUTC,e=t?"getUTC":"get",i=t?"setUTC":"set";q=6e4*(t&&H.global.timezoneOffset||0),G=t?Date.UTC:function(t,e,i,n,r,s){return new Date(t,e,p(i,1),p(n,0),p(r,0),p(s,0)).getTime()},U=e+"Minutes",V=e+"Hours",K=e+"Day",Z=e+"Date",J=e+"Month",tt=e+"FullYear",et=i+"Minutes",it=i+"Hours",nt=i+"Date",rt=i+"Month",st=i+"FullYear"}function L(){}function $(t,e,i,n){this.axis=t,this.pos=e,this.type=i||"",this.isNew=!0,!i&&!n&&this.addLabel()}function O(){this.init.apply(this,arguments)}function N(t,e,i,n,r,s){var a=t.chart.inverted;this.axis=t,this.isNegative=i,this.options=e,this.x=n,this.total=null,this.points={},this.stack=r,this.percent="percent"===s,this.alignOptions={align:e.align||(a?i?"left":"right":"center"),verticalAlign:e.verticalAlign||(a?"middle":i?"bottom":"top"),y:p(e.y,a?4:i?14:-6),x:p(e.x,a?i?-6:6:0)},this.textAlign=e.textAlign||(a?i?"right":"left":"center")}function E(){this.init.apply(this,arguments)}function B(){this.init.apply(this,arguments)}var R,Y,z,H,F,W,Q,X,G,q,U,V,K,Z,J,tt,et,it,nt,rt,st,at=document,ot=window,lt=Math,ht=lt.round,ct=lt.floor,ut=lt.ceil,dt=lt.max,pt=lt.min,ft=lt.abs,gt=lt.cos,mt=lt.sin,yt=lt.PI,vt=2*yt/360,xt=navigator.userAgent,bt=ot.opera,_t=/msie/i.test(xt)&&!bt,kt=8===at.documentMode,wt=/AppleWebKit/.test(xt),Dt=/Firefox/.test(xt),Ct=/(Mobile|Android|Windows Phone)/.test(xt),Tt="http://www.w3.org/2000/svg",St=!!at.createElementNS&&!!at.createElementNS(Tt,"svg").createSVGRect,Mt=Dt&&parseInt(xt.split("Firefox/")[1],10)<4,At=!St&&!_t&&!!at.createElement("canvas").getContext,jt=at.documentElement.ontouchstart!==R,Pt={},It=0,Lt=function(){},$t=[],Ot="div",Nt="none",Et=/^[0-9]+$/,Bt="rgba(192,192,192,"+(St?1e-4:.002)+")",Rt="stroke-width",Yt={};ot.Highcharts=ot.Highcharts?A(16,!0):{},F=function(e,i,n){if(!c(i)||isNaN(i))return"Invalid date";var r,e=p(e,"%Y-%m-%d %H:%M:%S"),s=new Date(i-q),a=s[V](),o=s[K](),l=s[Z](),h=s[J](),u=s[tt](),d=H.lang,f=d.weekdays,s=t({a:f[o].substr(0,3),A:f[o],d:v(l),e:l,b:d.shortMonths[h],B:d.months[h],m:v(h+1),y:u.toString().substr(2,2),Y:u,H:v(a),I:v(a%12||12),l:a%12||12,M:v(s[U]()),p:a<12?"AM":"PM",P:a<12?"am":"pm",S:v(s.getSeconds()),L:v(ht(i%1e3),3)},Highcharts.dateFormats);for(r in s)for(;e.indexOf("%"+r)!==-1;)e=e.replace("%"+r,"function"==typeof s[r]?s[r](i):s[r]);return n?e.substr(0,1).toUpperCase()+e.substr(1):e},w.prototype={wrapColor:function(t){this.color>=t&&(this.color=0)},wrapSymbol:function(t){this.symbol>=t&&(this.symbol=0)}},X=function(){for(var t=0,e=arguments,i=e.length,n={};t<i;t++)n[e[t++]]=e[t];return n}("millisecond",1,"second",1e3,"minute",6e4,"hour",36e5,"day",864e5,"week",6048e5,"month",26784e5,"year",31556952e3),Q={init:function(t,e,i){var n,r,s,e=e||"",a=t.shift,o=e.indexOf("C")>-1,l=o?7:3,e=e.split(" "),i=[].concat(i),h=function(t){for(n=t.length;n--;)"M"===t[n]&&t.splice(n+1,0,t[n+1],t[n+2],t[n+1],t[n+2])};if(o&&(h(e),h(i)),t.isArea&&(r=e.splice(e.length-6,6),s=i.splice(i.length-6,6)),a<=i.length/l&&e.length===i.length)for(;a--;)i=[].concat(i).splice(0,l).concat(i);if(t.shift=0,e.length)for(t=i.length;e.length<t;)a=[].concat(e).splice(e.length-l,l),o&&(a[l-6]=a[l-2],a[l-5]=a[l-1]),e=e.concat(a);return r&&(e=e.concat(r),i=i.concat(s)),[e,i]},step:function(t,e,i,n){var r=[],s=t.length;if(1===i)r=n;else if(s===e.length&&i<1)for(;s--;)n=parseFloat(t[s]),r[s]=isNaN(n)?t[s]:i*parseFloat(e[s]-n)+n;else r=e;return r}},function(e){ot.HighchartsAdapter=ot.HighchartsAdapter||e&&{init:function(t){var i,r=e.fx,s=r.step,a=e.Tween,o=a&&a.propHooks;i=e.cssHooks.opacity,e.extend(e.easing,{easeOutQuad:function(t,e,i,n,r){return-n*(e/=r)*(e-2)+i}}),e.each(["cur","_default","width","height","opacity"],function(t,e){var i,n=s;"cur"===e?n=r.prototype:"_default"===e&&a&&(n=o[e],e="set"),(i=n[e])&&(n[e]=function(n){var r,n=t?n:this;if("align"http://common1.qyerstatic.com/place/js/common/!==n.prop)return r=n.elem,r.attr?r.attr(n.prop,"cur"===e?R:n.now):i.apply(this,arguments)})}),x(i,"get"http://common1.qyerstatic.com/place/js/common/,function(t,e,i){return e.attr?e.opacity||0:t.call(this,e,i)}),i=function(e){var i,n=e.elem;e.started||(i=t.init(n,n.d,n.toD),e.start=i[0],e.end=i[1],e.started=!0),n.attr("d",t.step(e.start,e.end,e.pos,n.toD))},a?o.d={set:i}:s.d=i,this.each=Array.prototype.forEach?function(t,e){return Array.prototype.forEach.call(t,e)}:function(t,e){for(var i=0,n=t.length;i<n;i++)if(e.call(t[i],t[i],i,t)===!1)return i},e.fn.highcharts=function(){var t,e,i="Chart",r=arguments;return n(r[0])&&(i=r[0],r=Array.prototype.slice.call(r,1)),t=r[0],t!==R&&(t.chart=t.chart||{},t.chart.renderTo=this[0],new Highcharts[i](t,r[1]),e=this),t===R&&(e=$t[u(this[0],"data-highcharts-chart")]),e}},getScript:e.getScript,inArray:e.inArray,adapterRun:function(t,i){return e(t)[i]()},grep:e.grep,map:function(t,e){for(var i=[],n=0,r=t.length;n<r;n++)i[n]=e.call(t[n],t[n],n,t);return i},offset:function(t){return e(t).offset()},addEvent:function(t,i,n){e(t).bind(i,n)},removeEvent:function(t,i,n){var r=at.removeEventListener?"removeEventListener":"detachEvent";at[r]&&t&&!t[r]&&(t[r]=function(){}),e(t).unbind(i,n)},fireEvent:function(i,n,r,s){var a,o=e.Event(n),l="detached"+n;!_t&&r&&(delete r.layerX,delete r.layerY),t(o,r),i[n]&&(i[l]=i[n],i[n]=null),e.each(["preventDefault","stopPropagation"],function(t,e){var i=o[e];o[e]=function(){try{i.call(o)}catch(t){"preventDefault"===e&&(a=!0)}}}),e(i).trigger(o),i[l]&&(i[n]=i[l],i[l]=null),s&&!o.isDefaultPrevented()&&!a&&s(o)},washMouseEvent:function(t){var e=t.originalEvent||t;return e.pageX===R&&(e.pageX=t.pageX,e.pageY=t.pageY),e},animate:function(t,i,n){var r=e(t);t.style||(t.style={}),i.d&&(t.toD=i.d,i.d=1),r.stop(),i.opacity!==R&&t.attr&&(i.opacity+="px"),r.animate(i,n)},stop:function(t){e(t).stop()}}}(ot.jQuery);var zt=ot.HighchartsAdapter,Ht=zt||{};zt&&zt.init.call(zt,Q);var Ft=Ht.adapterRun,Wt=Ht.getScript,Qt=Ht.inArray,Xt=Ht.each,Gt=Ht.grep,qt=Ht.offset,Ut=Ht.map,Vt=Ht.addEvent,Kt=Ht.removeEvent,Zt=Ht.fireEvent,Jt=Ht.washMouseEvent,te=Ht.animate,ee=Ht.stop,Ht={enabled:!0,x:0,y:15,style:{color:"#666",cursor:"default",fontSize:"11px"}};H={colors:"#2f7ed8,#0d233a,#8bbc21,#910000,#1aadce,#492970,#f28f43,#77a1e5,#c42525,#a6c96a".split(","),symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),shortMonths:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),weekdays:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),decimalPoint:".",numericSymbols:"k,M,G,T,P,E".split(","),resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:","},global:{useUTC:!0,canvasToolsURL:"../../../../code.highcharts.com/3.0.9/modules/canvas-tools.js"/*tpa=http://code.highcharts.com/3.0.9/modules/canvas-tools.js*/,VMLRadialGradientURL:"../../../../code.highcharts.com/3.0.9/gfx/vml-radial-gradient.png"/*tpa=http://code.highcharts.com/3.0.9/gfx/vml-radial-gradient.png*/},chart:{borderColor:"#4572A7",borderRadius:5,defaultSeriesType:"line",ignoreHiddenSeries:!0,spacing:[10,10,15,10],style:{fontFamily:'"Lucida Grande", "Lucida Sans Unicode", Verdana, Arial, Helvetica, sans-serif',fontSize:"12px"},backgroundColor:"#FFFFFF",plotBorderColor:"#C0C0C0",resetZoomButton:{theme:{zIndex:20},position:{align:"right",x:-10,y:10}}},title:{text:"Chart title",align:"center",margin:15,style:{color:"#274b6d",fontSize:"16px"}},subtitle:{text:"",align:"center",style:{color:"#4d759e"}},plotOptions:{line:{allowPointSelect:!1,showCheckbox:!1,animation:{duration:1e3},events:{},lineWidth:2,marker:{enabled:!0,lineWidth:0,radius:4,lineColor:"#FFFFFF",states:{hover:{enabled:!0},select:{fillColor:"#FFFFFF",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:e(Ht,{align:"center",enabled:!1,formatter:function(){return null===this.y?"":y(this.y,-1)},verticalAlign:"bottom",y:0}),cropThreshold:300,pointRange:0,states:{hover:{marker:{}},select:{marker:{}}},stickyTracking:!0,turboThreshold:1e3}},labels:{style:{position:"absolute",color:"#3E576F"}},legend:{enabled:!0,align:"center",layout:"horizontal",labelFormatter:function(){return this.name},borderWidth:1,borderColor:"#909090",borderRadius:5,navigation:{activeColor:"#274b6d",inactiveColor:"#CCC"},shadow:!1,itemStyle:{cursor:"pointer",color:"#274b6d",fontSize:"12px"},itemHoverStyle:{color:"#000"},itemHiddenStyle:{color:"#CCC"},itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:"relative",top:"1em"},style:{position:"absolute",backgroundColor:"white",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,animation:St,backgroundColor:"rgba(255, 255, 255, .85)",borderWidth:1,borderRadius:3,dateTimeLabelFormats:{millisecond:"%A, %b %e, %H:%M:%S.%L",second:"%A, %b %e, %H:%M:%S",minute:"%A, %b %e, %H:%M",hour:"%A, %b %e, %H:%M",day:"%A, %b %e, %Y",week:"Week from %A, %b %e, %Y",month:"%B %Y",year:"%Y"},headerFormat:'<span style="font-size: 10px">{point.key}</span><br/>',pointFormat:'<span style="color:{series.color}">{series.name}</span>: <b>{point.y}</b><br/>',shadow:!0,snap:Ct?25:10,style:{color:"#333333",cursor:"default",fontSize:"12px",padding:"8px",whiteSpace:"nowrap"}},credits:{enabled:!0,text:"http://common1.qyerstatic.com/place/js/common/Highcharts.com",href:"http://www.highcharts.com/",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#909090",fontSize:"9px"}}};var ie=H.plotOptions,zt=ie.line;I();var ne=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/,re=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/,se=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/,ae=function(t){var n,r,s=[];return function(t){t&&t.stops?r=Ut(t.stops,function(t){return ae(t[1])}):(n=ne.exec(t))?s=[i(n[1]),i(n[2]),i(n[3]),parseFloat(n[4],10)]:(n=re.exec(t))?s=[i(n[1],16),i(n[2],16),i(n[3],16),1]:(n=se.exec(t))&&(s=[i(n[1]),i(n[2]),i(n[3]),1])}(t),{get:function(i){var n;return r?(n=e(t),n.stops=[].concat(n.stops),Xt(r,function(t,e){n.stops[e]=[n.stops[e][0],t.get(i)]})):n=s&&!isNaN(s[0])?"rgb"===i?"rgb("+s[0]+","+s[1]+","+s[2]+")":"a"===i?s[3]:"rgba("+s.join(",")+")":t,n},brighten:function(t){if(r)Xt(r,function(e){e.brighten(t)});else if(a(t)&&0!==t){var e;for(e=0;e<3;e++)s[e]+=i(255*t),s[e]<0&&(s[e]=0),s[e]>255&&(s[e]=255)}return this},rgba:s,setOpacity:function(t){return s[3]=t,this}}};L.prototype={init:function(t,e){this.element="span"===e?g(e):at.createElementNS(Tt,e),this.renderer=t,this.attrSetters={}},opacity:1,animate:function(t,i,n){i=p(i,W,!0),ee(this),i?(i=e(i),n&&(i.complete=n),te(this,t,i)):(this.attr(t),n&&n())},attr:function(t,e){var r,s,a,o,l,h,d,f=this.element,g=f.nodeName.toLowerCase(),m=this.renderer,y=this.attrSetters,v=this.shadows,x=this;if(n(t)&&c(e)&&(r=t,t={},t[r]=e),n(t))r=t,"circle"===g?r={x:"cx",y:"cy"}[r]||r:"strokeWidth"===r&&(r="stroke-width"),x=u(f,r)||this[r]||0,"d"!==r&&"visibility"!==r&&"fill"!==r&&(x=parseFloat(x));else{for(r in t)if(l=!1,s=t[r],a=y[r]&&y[r].call(this,s,r),a!==!1){if(a!==R&&(s=a),"d"===r)s&&s.join&&(s=s.join(" ")),/(NaN| {2}|^$)/.test(s)&&(s="M 0 0");else if("x"===r&&"text"===g)for(a=0;a<f.childNodes.length;a++)o=f.childNodes[a],u(o,"x")===u(f,"x")&&u(o,"x",s);else if(!this.rotation||"x"!==r&&"y"!==r)if("fill"===r)s=m.color(s,f,r);else if("circle"!==g||"x"!==r&&"y"!==r)if("rect"===g&&"r"===r)u(f,{rx:s,ry:s}),l=!0;else if("translateX"===r||"translateY"===r||"rotation"===r||"verticalAlign"===r||"scaleX"===r||"scaleY"===r)l=d=!0;else if("stroke"===r)s=m.color(s,f,r);else if("dashstyle"===r){if(r="stroke-dasharray",s=s&&s.toLowerCase(),"solid"===s)s=Nt;else if(s){for(s=s.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(","),a=s.length;a--;)s[a]=i(s[a])*p(t["stroke-width"],this["stroke-width"]);s=s.join(",")}}else"width"===r?s=i(s):"align"===r?(r="text-anchor",s={left:"start",center:"middle",right:"end"}[s]):"title"===r&&(a=f.getElementsByTagName("title")[0],a||(a=at.createElementNS(Tt,"title"),f.appendChild(a)),a.textContent=s);else r={x:"cx",y:"cy"}[r]||r;else d=!0;if("strokeWidth"===r&&(r="stroke-width"),"stroke-width"!==r&&"stroke"!==r||(this[r]=s,this.stroke&&this["stroke-width"]?(u(f,"stroke",this.stroke),u(f,"stroke-width",this["stroke-width"]),this.hasStroke=!0):"stroke-width"===r&&0===s&&this.hasStroke&&(f.removeAttribute("stroke"),this.hasStroke=!1),l=!0),this.symbolName&&/^(x|y|width|height|r|start|end|innerR|anchorX|anchorY)/.test(r)&&(h||(this.symbolAttr(t),h=!0),l=!0),v&&/^(width|height|visibility|x|y|d|transform|cx|cy|r)$/.test(r))for(a=v.length;a--;)u(v[a],r,"height"===r?dt(s-(v[a].cutHeight||0),0):s);("width"===r||"height"===r)&&"rect"===g&&s<0&&(s=0),this[r]=s,"text"===r?(s!==this.textStr&&delete this.bBox,this.textStr=s,this.added&&m.buildText(this)):l||u(f,r,s)}d&&this.updateTransform()}return x},addClass:function(t){var e=this.element,i=u(e,"class")||"";return i.indexOf(t)===-1&&u(e,"class",i+" "+t),this},symbolAttr:function(t){var e=this;Xt("x,y,r,start,end,width,height,innerR,anchorX,anchorY".split(","),function(i){e[i]=p(t[i],e[i])}),e.attr({d:e.renderer.symbols[e.symbolName](e.x,e.y,e.width,e.height,e)})},clip:function(t){return this.attr("clip-path",t?"url("+this.renderer.url+"#"+t.id+")":Nt)},crisp:function(t,e,i,n,r){var s,a,o={},l={},t=t||this.strokeWidth||this.attr&&this.attr("stroke-width")||0;a=ht(t)%2/2,l.x=ct(e||this.x||0)+a,l.y=ct(i||this.y||0)+a,l.width=ct((n||this.width||0)-2*a),l.height=ct((r||this.height||0)-2*a),l.strokeWidth=t;for(s in l)this[s]!==l[s]&&(this[s]=o[s]=l[s]);return o},css:function(e){var n,r=this.element,s=this.textWidth=e&&e.width&&"text"===r.nodeName.toLowerCase()&&i(e.width),a="",o=function(t,e){return"-"+e.toLowerCase()};if(e&&e.color&&(e.fill=e.color),this.styles=e=t(this.styles,e),s&&delete e.width,_t&&!St)f(this.element,e);else{for(n in e)a+=n.replace(/([A-Z])/g,o)+":"+e[n]+";";u(r,"style",a)}return s&&this.added&&this.renderer.buildText(this),this},on:function(t,e){var i=this,n=i.element;return jt&&"click"===t?(n.ontouchstart=function(t){i.touchEventFired=Date.now(),t.preventDefault(),e.call(n,t)},n.onclick=function(t){(xt.indexOf("Android")===-1||Date.now()-(i.touchEventFired||0)>1100)&&e.call(n,t)}):n["on"+t]=e,this},setRadialReference:function(t){return this.element.radialReference=t,this},translate:function(t,e){return this.attr({translateX:t,translateY:e})},invert:function(){return this.inverted=!0,this.updateTransform(),this},updateTransform:function(){var t=this.translateX||0,e=this.translateY||0,i=this.scaleX,n=this.scaleY,r=this.inverted,s=this.rotation;r&&(t+=this.attr("width"),e+=this.attr("height")),t=["translate("+t+","+e+")"],r?t.push("rotate(90) scale(-1,1)"):s&&t.push("rotate("+s+" "+(this.x||0)+" "+(this.y||0)+")"),(c(i)||c(n))&&t.push("scale("+p(i,1)+" "+p(n,1)+")"),t.length&&u(this.element,"transform",t.join(" "))},toFront:function(){var t=this.element;return t.parentNode.appendChild(t),this},align:function(t,e,i){var r,s,a,o,l={};return s=this.renderer,a=s.alignedObjects,t?(this.alignOptions=t,this.alignByTranslate=e,(!i||n(i))&&(this.alignTo=r=i||"renderer",h(a,this),a.push(this),i=null)):(t=this.alignOptions,e=this.alignByTranslate,r=this.alignTo),i=p(i,s[r],s),r=t.align,s=t.verticalAlign,a=(i.x||0)+(t.x||0),o=(i.y||0)+(t.y||0),"right"!==r&&"center"!==r||(a+=(i.width-(t.width||0))/{right:1,center:2}[r]),l[e?"translateX":"x"]=ht(a),"bottom"!==s&&"middle"!==s||(o+=(i.height-(t.height||0))/({bottom:1,middle:2}[s]||1)),l[e?"translateY":"y"]=ht(o),this[this.placed?"animate":"attr"](l),this.placed=!0,this.alignAttr=l,this},getBBox:function(){var e,i,n=this.bBox,r=this.renderer,s=this.rotation;e=this.element;var a=this.styles,o=s*vt;i=this.textStr;var l;if((""===i||Et.test(i))&&(l=i.length+"|"+a.fontSize+"|"+a.fontFamily,n=r.cache[l]),!n){if(e.namespaceURI===Tt||r.forExport){try{n=e.getBBox?t({},e.getBBox()):{width:e.offsetWidth,height:e.offsetHeight}}catch(h){}(!n||n.width<0)&&(n={width:0,height:0})}else n=this.htmlGetBBox();r.isSVG&&(e=n.width,i=n.height,_t&&a&&"11px"===a.fontSize&&"16.9"===i.toPrecision(3)&&(n.height=i=14),s&&(n.width=ft(i*mt(o))+ft(e*gt(o)),n.height=ft(i*gt(o))+ft(e*mt(o)))),this.bBox=n,l&&(r.cache[l]=n)}return n},show:function(){return this.attr({visibility:"visible"})},hide:function(){return this.attr({visibility:"hidden"})},fadeOut:function(t){var e=this;e.animate({opacity:0},{duration:t||150,complete:function(){e.hide()}})},add:function(t){var e,n=this.renderer,r=t||n,s=r.element||n.box,a=s.childNodes,o=this.element,l=u(o,"zIndex");if(t&&(this.parentGroup=t),this.parentInverted=t&&t.inverted,void 0!==this.textStr&&n.buildText(this),l&&(r.handleZ=!0,l=i(l)),r.handleZ)for(r=0;r<a.length;r++)if(t=a[r],n=u(t,"zIndex"),t!==o&&(i(n)>l||!c(l)&&c(n))){s.insertBefore(o,t),e=!0;break}return e||s.appendChild(o),this.added=!0,Zt(this,"add"),this},safeRemoveChild:function(t){var e=t.parentNode;e&&e.removeChild(t)},destroy:function(){var t,e,i=this,n=i.element||{},r=i.shadows,s=i.renderer.isSVG&&"SPAN"===n.nodeName&&i.parentGroup;if(n.onclick=n.onmouseout=n.onmouseover=n.onmousemove=n.point=null,ee(i),i.clipPath&&(i.clipPath=i.clipPath.destroy()),i.stops){for(e=0;e<i.stops.length;e++)i.stops[e]=i.stops[e].destroy();i.stops=null}for(i.safeRemoveChild(n),r&&Xt(r,function(t){i.safeRemoveChild(t)});s&&0===s.div.childNodes.length;)n=s.parentGroup,i.safeRemoveChild(s.div),delete s.div,s=n;i.alignTo&&h(i.renderer.alignedObjects,i);for(t in i)delete i[t];return null},shadow:function(t,e,i){var n,r,s,a,o,l,h=[],c=this.element;if(t){for(a=p(t.width,3),o=(t.opacity||.15)/a,l=this.parentInverted?"(-1,-1)":"("+p(t.offsetX,1)+", "+p(t.offsetY,1)+")",n=1;n<=a;n++)r=c.cloneNode(0),s=2*a+1-2*n,u(r,{isShadow:"true",stroke:t.color||"black","stroke-opacity":o*n,"stroke-width":s,transform:"translate"+l,fill:Nt}),i&&(u(r,"height",dt(u(r,"height")-s,0)),r.cutHeight=s),e?e.element.appendChild(r):c.parentNode.insertBefore(r,c),h.push(r);this.shadows=h}return this}};var oe=function(){this.init.apply(this,arguments)};oe.prototype={Element:L,init:function(t,e,i,n){var r,s,a=location;r=this.createElement("svg").attr({version:"1.1"}),s=r.element,t.appendChild(s),t.innerHTML.indexOf("xmlns")===-1&&u(s,"xmlns",Tt),this.isSVG=!0,this.box=s,this.boxWrapper=r,this.alignedObjects=[],this.url=(Dt||wt)&&at.getElementsByTagName("base").length?a.href.replace(/#.*?$/,"").replace(/([\('\)])/g,"\\$1").replace(/ /g,"%20"):"",this.createElement("desc").add().element.appendChild(at.createTextNode("Created with Highcharts 3.0.9")),this.defs=this.createElement("defs").add(),this.forExport=n,this.gradients={},this.cache={},this.setSize(e,i,!1);var o;Dt&&t.getBoundingClientRect&&(this.subPixelFix=e=function(){f(t,{left:0,top:0}),o=t.getBoundingClientRect(),f(t,{left:ut(o.left)-o.left+"px",top:ut(o.top)-o.top+"px"})},e(),Vt(ot,"resize",e))},isHidden:function(){return!this.boxWrapper.getBBox().width},destroy:function(){var t=this.defs;return this.box=null,this.boxWrapper=this.boxWrapper.destroy(),S(this.gradients||{}),this.gradients=null,t&&(this.defs=t.destroy()),this.subPixelFix&&Kt(ot,"resize",this.subPixelFix),this.alignedObjects=null},createElement:function(t){var e=new this.Element;return e.init(this,t),e},draw:function(){},buildText:function(t){for(var e=t.element,n=this,r=n.forExport,s=p(t.textStr,"").toString().replace(/<(b|strong)>/g,'<span style="font-weight:bold">').replace(/<(i|em)>/g,'<span style="font-style:italic">').replace(/<a/g,"<span").replace(/<\/(b|strong|i|em|a)>/g,"</span>").split(/<br.*?>/g),a=e.childNodes,o=/style="([^"]+)"/,l=/href="(http[^"]+)"/,h=u(e,"x"),c=t.styles,d=t.textWidth,g=c&&c.lineHeight,m=a.length,y=function(t){return g?i(g):n.fontMetrics(/px$/.test(t&&t.style.fontSize)?t.style.fontSize:c.fontSize||11).h};m--;)e.removeChild(a[m]);d&&!t.added&&this.box.appendChild(e),""===s[s.length-1]&&s.pop(),Xt(s,function(i,s){var a,p=0,i=i.replace(/<span/g,"|||<span").replace(/<\/span>/g,"</span>|||");a=i.split("|||"),Xt(a,function(i){if(""!==i||1===a.length){var g,m={},v=at.createElementNS(Tt,"tspan");if(o.test(i)&&(g=i.match(o)[1].replace(/(;| |^)color([ :])/,"$1fill$2"),u(v,"style",g)),l.test(i)&&!r&&(u(v,"onclick",'location.href="'+i.match(l)[1]+'"'),f(v,{cursor:"pointer"})),i=(i.replace(/<(.|\n)*?>/g,"")||" ").replace(/&lt;/g,"<").replace(/&gt;/g,">")," "!==i&&(v.appendChild(at.createTextNode(i)),p?m.dx=0:m.x=h,u(v,m),!p&&s&&(!St&&r&&f(v,{display:"block"}),u(v,"dy",y(v),wt&&v.offsetHeight)),e.appendChild(v),p++,d))for(var x,b,i=i.replace(/([^\^])-/g,"$1- ").split(" "),m=i.length>1&&"nowrap"!==c.whiteSpace,_=t._clipHeight,k=[],w=y(),D=1;m&&(i.length||k.length);)delete t.bBox,x=t.getBBox(),b=x.width,!St&&n.forExport&&(b=n.measureSpanWidth(v.firstChild.data,t.styles)),x=b>d,x&&1!==i.length?(v.removeChild(v.firstChild),k.unshift(i.pop())):(i=k,k=[],i.length&&(D++,_&&D*w>_?(i=["..."],t.attr("title",t.textStr)):(v=at.createElementNS(Tt,"tspan"),u(v,{dy:w,x:h}),g&&u(v,"style",g),e.appendChild(v),b>d&&(d=b)))),i.length&&v.appendChild(at.createTextNode(i.join(" ").replace(/- /g,"-")))}})})},button:function(i,n,r,s,a,o,l,h,c){var u,d,p,f,g,m,y=this.label(i,n,r,c,null,null,null,null,"button"),v=0,i={x1:0,y1:0,x2:0,y2:1},a=e({"stroke-width":1,stroke:"#CCCCCC",fill:{linearGradient:i,stops:[[0,"#FEFEFE"],[1,"#F6F6F6"]]},r:2,padding:5,style:{color:"black"}},a);return p=a.style,delete a.style,o=e(a,{stroke:"#68A",fill:{linearGradient:i,stops:[[0,"#FFF"],[1,"#ACF"]]}},o),f=o.style,delete o.style,l=e(a,{stroke:"#68A",fill:{linearGradient:i,stops:[[0,"#9BD"],[1,"#CDF"]]}},l),g=l.style,delete l.style,h=e(a,{style:{color:"#CCC"}},h),m=h.style,delete h.style,Vt(y.element,_t?"mouseover":"mouseenter",function(){3!==v&&y.attr(o).css(f)}),Vt(y.element,_t?"mouseout":"mouseleave",function(){3!==v&&(u=[a,o,l][v],d=[p,f,g][v],y.attr(u).css(d))}),y.setState=function(t){(y.state=v=t)?2===t?y.attr(l).css(g):3===t&&y.attr(h).css(m):y.attr(a).css(p)},y.on("click",function(){3!==v&&s.call(y)}).attr(a).css(t({cursor:"default"},p))},crispLine:function(t,e){return t[1]===t[4]&&(t[1]=t[4]=ht(t[1])-e%2/2),t[2]===t[5]&&(t[2]=t[5]=ht(t[2])+e%2/2),t},path:function(e){var i={fill:Nt};return s(e)?i.d=e:r(e)&&t(i,e),this.createElement("path").attr(i)},circle:function(t,e,i){return t=r(t)?t:{x:t,y:e,r:i},this.createElement("circle").attr(t)},arc:function(t,e,i,n,s,a){return r(t)&&(e=t.y,i=t.r,n=t.innerR,s=t.start,a=t.end,t=t.x),t=this.symbol("arc",t||0,e||0,i||0,i||0,{innerR:n||0,start:s||0,end:a||0}),t.r=i,t},rect:function(t,e,i,n,s,a){return s=r(t)?t.r:s,s=this.createElement("rect").attr({rx:s,ry:s,fill:Nt}),s.attr(r(t)?t:s.crisp(a,t,e,dt(i,0),dt(n,0)))},setSize:function(t,e,i){var n=this.alignedObjects,r=n.length;for(this.width=t,this.height=e,this.boxWrapper[p(i,!0)?"animate":"attr"]({width:t,height:e});r--;)n[r].align()},g:function(t){var e=this.createElement("g");return c(t)?e.attr({"class":"highcharts-"+t}):e},image:function(e,i,n,r,s){var a={preserveAspectRatio:Nt};return arguments.length>1&&t(a,{x:i,y:n,width:r,height:s}),a=this.createElement("image").attr(a),a.element.setAttributeNS?a.element.setAttributeNS("http://www.w3.org/1999/xlink","href",e):a.element.setAttribute("hc-svg-href",e),a},symbol:function(e,i,n,r,s,a){var o,l,h,c=this.symbols[e],c=c&&c(ht(i),ht(n),r,s,a),u=/^url\((.*?)\)$/;return c?(o=this.path(c),t(o,{symbolName:e,x:i,y:n,width:r,height:s}),a&&t(o,a)):u.test(e)&&(h=function(t,e){t.element&&(t.attr({width:e[0],height:e[1]}),t.alignByTranslate||t.translate(ht((r-e[0])/2),ht((s-e[1])/2)))},l=e.match(u)[1],e=Pt[l],o=this.image(l).attr({x:i,y:n}),o.isImg=!0,e?h(o,e):(o.attr({width:0,height:0}),g("img",{onload:function(){h(o,Pt[l]=[this.width,this.height])},src:l}))),o},symbols:{circle:function(t,e,i,n){var r=.166*i;return["M",t+i/2,e,"C",t+i+r,e,t+i+r,e+n,t+i/2,e+n,"C",t-r,e+n,t-r,e,t+i/2,e,"Z"]},square:function(t,e,i,n){return["M",t,e,"L",t+i,e,t+i,e+n,t,e+n,"Z"]},triangle:function(t,e,i,n){return["M",t+i/2,e,"L",t+i,e+n,t,e+n,"Z"]},"triangle-down":function(t,e,i,n){return["M",t,e,"L",t+i,e,t+i/2,e+n,"Z"]},diamond:function(t,e,i,n){return["M",t+i/2,e,"L",t+i,e+n/2,t+i/2,e+n,t,e+n/2,"Z"]},arc:function(t,e,i,n,r){var s=r.start,i=r.r||i||n,a=r.end-.001,n=r.innerR,o=r.open,l=gt(s),h=mt(s),c=gt(a),a=mt(a),r=r.end-s<yt?0:1;return["M",t+i*l,e+i*h,"A",i,i,0,r,1,t+i*c,e+i*a,o?"M":"L",t+n*c,e+n*a,"A",n,n,0,r,0,t+n*l,e+n*h,o?"":"Z"]}},clipRect:function(t,e,i,n){var r="highcharts-"+It++,s=this.createElement("clipPath").attr({id:r}).add(this.defs),t=this.rect(t,e,i,n,0).add(s);return t.id=r,t.clipPath=s,t},color:function(t,i,n){var r,a,o,l,h,d,p,f,g=this,m=/^rgba/,y=[];if(t&&t.linearGradient?a="linearGradient":t&&t.radialGradient&&(a="radialGradient"),a){n=t[a],o=g.gradients,h=t.stops,i=i.radialReference,s(n)&&(t[a]=n={x1:n[0],y1:n[1],x2:n[2],y2:n[3],gradientUnits:"userSpaceOnUse"}),"radialGradient"===a&&i&&!c(n.gradientUnits)&&(n=e(n,{cx:i[0]-i[2]/2+n.cx*i[2],cy:i[1]-i[2]/2+n.cy*i[2],r:n.r*i[2],gradientUnits:"userSpaceOnUse"}));for(f in n)"id"!==f&&y.push(f,n[f]);for(f in h)y.push(h[f]);return y=y.join(","),o[y]?t=o[y].id:(n.id=t="highcharts-"+It++,o[y]=l=g.createElement(a).attr(n).add(g.defs),l.stops=[],Xt(h,function(t){m.test(t[1])?(r=ae(t[1]),d=r.get("rgb"),p=r.get("a")):(d=t[1],p=1),t=g.createElement("stop").attr({offset:t[0],"stop-color":d,"stop-opacity":p}).add(l),l.stops.push(t)})),"url("+g.url+"#"+t+")"}return m.test(t)?(r=ae(t),u(i,n+"-opacity",r.get("a")),r.get("rgb")):(i.removeAttribute(n+"-opacity"),t)},text:function(t,e,i,n){var r=H.chart.style,s=At||!St&&this.forExport;return n&&!this.forExport?this.html(t,e,i):(e=ht(p(e,0)),i=ht(p(i,0)),t=this.createElement("text").attr({x:e,y:i,text:t}).css({fontFamily:r.fontFamily,fontSize:r.fontSize}),s&&t.css({position:"absolute"}),t.x=e,t.y=i,t)},fontMetrics:function(t){var t=i(t||11),t=t<24?t+4:ht(1.2*t),e=ht(.8*t);return{h:t,b:e}},label:function(i,n,r,s,a,o,l,h,u){function d(){var t,i;t=T.element.style,y=(void 0===v||void 0===x||C.styles.textAlign)&&T.getBBox(),C.width=(v||y.width||0)+2*M+A,C.height=(x||y.height||0)+2*M,k=M+D.fontMetrics(t&&t.fontSize).b,w&&(m||(t=ht(-S*M),i=h?-k:0,C.box=m=s?D.symbol(s,t,i,C.width,C.height,P):D.rect(t,i,C.width,C.height,0,P[Rt]),m.add(C)),m.isImg||m.attr(e({width:C.width,height:C.height},P)),P=null)}function p(){var t,e=C.styles,e=e&&e.textAlign,i=A+M*(1-S);t=h?0:k,!c(v)||"center"!==e&&"right"!==e||(i+={center:.5,right:1}[e]*(v-y.width)),(i!==T.x||t!==T.y)&&T.attr({x:i,y:t}),T.x=i,T.y=t}function f(t,e){m?m.attr(t,e):P[t]=e}function g(){T.add(C),C.attr({text:i,x:n,y:r}),m&&c(a)&&C.attr({anchorX:a,anchorY:o})}var m,y,v,x,b,_,k,w,D=this,C=D.g(u),T=D.text("",0,0,l).attr({zIndex:1}),S=0,M=3,A=0,j=0,P={},l=C.attrSetters;Vt(C,"add",g),l.width=function(t){return v=t,!1},l.height=function(t){return x=t,!1},l.padding=function(t){return c(t)&&t!==M&&(M=t,p()),!1},l.paddingLeft=function(t){return c(t)&&t!==A&&(A=t,p()),!1},l.align=function(t){return S={left:0,center:.5,right:1}[t],!1},l.text=function(t,e){return T.attr(e,t),d(),p(),!1},l[Rt]=function(t,e){return w=!0,j=t%2/2,f(e,t),!1},l.stroke=l.fill=l.r=function(t,e){return"fill"===e&&(w=!0),f(e,t),!1},l.anchorX=function(t,e){return a=t,f(e,t+j-b),!1},l.anchorY=function(t,e){return o=t,f(e,t-_),!1},l.x=function(t){return C.x=t,t-=S*((v||y.width)+M),b=ht(t),C.attr("translateX",b),!1},l.y=function(t){return _=C.y=ht(t),C.attr("translateY",_),!1};var I=C.css;return t(C,{css:function(t){if(t){var i={},t=e(t);Xt("fontSize,fontWeight,fontFamily,color,lineHeight,width,textDecoration,textShadow".split(","),function(e){t[e]!==R&&(i[e]=t[e],delete t[e])}),T.css(i)}return I.call(C,t)},getBBox:function(){return{width:y.width+2*M,height:y.height+2*M,x:y.x-M,y:y.y-M}},shadow:function(t){return m&&m.shadow(t),C},destroy:function(){Kt(C,"add",g),Kt(C.element,"mouseenter"),Kt(C.element,"mouseleave"),T&&(T=T.destroy()),m&&(m=m.destroy()),L.prototype.destroy.call(C),C=D=d=p=f=g=null}})}},Y=oe,t(L.prototype,{htmlCss:function(e){var i=this.element;return(i=e&&"SPAN"===i.tagName&&e.width)&&(delete e.width,this.textWidth=i,this.updateTransform()),this.styles=t(this.styles,e),f(this.element,e),this},htmlGetBBox:function(){var t=this.element,e=this.bBox;return e||("text"===t.nodeName&&(t.style.position="absolute"),e=this.bBox={x:t.offsetLeft,y:t.offsetTop,width:t.offsetWidth,height:t.offsetHeight}),e},htmlUpdateTransform:function(){if(this.added){var t=this.renderer,e=this.element,n=this.translateX||0,r=this.translateY||0,s=this.x||0,a=this.y||0,o=this.textAlign||"left",l={left:0,center:.5,right:1}[o],h=this.shadows;if(f(e,{marginLeft:n,marginTop:r}),h&&Xt(h,function(t){f(t,{marginLeft:n+1,marginTop:r+1})}),this.inverted&&Xt(e.childNodes,function(i){t.invertChild(i,e)}),"SPAN"===e.tagName){var u,d=this.rotation,g=i(this.textWidth),m=[d,o,e.innerHTML,this.textWidth].join(",");m!==this.cTT&&(u=t.fontMetrics(e.style.fontSize).b,c(d)&&this.setSpanRotation(d,l,u),h=p(this.elemWidth,e.offsetWidth),h>g&&/[ \-]/.test(e.textContent||e.innerText)&&(f(e,{width:g+"px",display:"block",whiteSpace:"normal"}),h=g),this.getSpanCorrection(h,u,l,d,o)),f(e,{left:s+(this.xCorr||0)+"px",top:a+(this.yCorr||0)+"px"}),wt&&(u=e.offsetHeight),this.cTT=m}}else this.alignOnAdd=!0},setSpanRotation:function(t,e,i){var n={},r=_t?"-ms-transform":wt?"-webkit-transform":Dt?"MozTransform":bt?"-o-transform":"";n[r]=n.transform="rotate("+t+"deg)",n[r+(Dt?"Origin":"-origin")]=100*e+"% "+i+"px",f(this.element,n)},getSpanCorrection:function(t,e,i){this.xCorr=-t*i,this.yCorr=-e}}),t(oe.prototype,{html:function(e,i,n){var r=H.chart.style,s=this.createElement("span"),a=s.attrSetters,o=s.element,l=s.renderer;return a.text=function(t){return t!==o.innerHTML&&delete this.bBox,o.innerHTML=t,!1},a.x=a.y=a.align=a.rotation=function(t,e){return"align"===e&&(e="textAlign"),s[e]=t,s.htmlUpdateTransform(),!1},s.attr({text:e,x:ht(i),y:ht(n)}).css({position:"absolute",whiteSpace:"nowrap",fontFamily:r.fontFamily,fontSize:r.fontSize}),s.css=s.htmlCss,l.isSVG&&(s.add=function(e){var i,n=l.box.parentNode,r=[];
if(this.parentGroup=e){if(i=e.div,!i){for(;e;)r.push(e),e=e.parentGroup;Xt(r.reverse(),function(e){var r;i=e.div=e.div||g(Ot,{className:u(e.element,"class")},{position:"absolute",left:(e.translateX||0)+"px",top:(e.translateY||0)+"px"},i||n),r=i.style,t(e.attrSetters,{translateX:function(t){r.left=t+"px"},translateY:function(t){r.top=t+"px"},visibility:function(t,e){r[e]=t}})})}}else i=n;return i.appendChild(o),s.added=!0,s.alignOnAdd&&s.htmlUpdateTransform(),s}),s}});var le;if(!St&&!At){Highcharts.VMLElement=le={init:function(t,e){var i=["<",e,' filled="f" stroked="f"'],n=["position: ","absolute",";"],r=e===Ot;("shape"===e||r)&&n.push("left:0;top:0;width:1px;height:1px;"),n.push("visibility: ",r?"hidden":"visible"),i.push(' style="',n.join(""),'"/>'),e&&(i=r||"span"===e||"img"===e?i.join(""):t.prepVML(i),this.element=g(i)),this.renderer=t,this.attrSetters={}},add:function(t){var e=this.renderer,i=this.element,n=e.box,n=t?t.element||t:n;return t&&t.inverted&&e.invertChild(i,n),n.appendChild(i),this.added=!0,this.alignOnAdd&&!this.deferUpdateTransform&&this.updateTransform(),Zt(this,"add"),this},updateTransform:L.prototype.htmlUpdateTransform,setSpanRotation:function(){var t=this.rotation,e=gt(t*vt),i=mt(t*vt);f(this.element,{filter:t?["progid:DXImageTransform.Microsoft.Matrix(M11=",e,", M12=",-i,", M21=",i,", M22=",e,", sizingMethod='auto expand')"].join(""):Nt})},getSpanCorrection:function(t,e,i,n,r){var s,a=n?gt(n*vt):1,o=n?mt(n*vt):0,l=p(this.elemHeight,this.element.offsetHeight);this.xCorr=a<0&&-t,this.yCorr=o<0&&-l,s=a*o<0,this.xCorr+=o*e*(s?1-i:i),this.yCorr-=a*e*(n?s?i:1-i:1),r&&"left"!==r&&(this.xCorr-=t*i*(a<0?-1:1),n&&(this.yCorr-=l*i*(o<0?-1:1)),f(this.element,{textAlign:r}))},pathToVML:function(t){for(var e=t.length,i=[];e--;)a(t[e])?i[e]=ht(10*t[e])-5:"Z"===t[e]?i[e]="x":(i[e]=t[e],!t.isArc||"wa"!==t[e]&&"at"!==t[e]||(i[e+5]===i[e+7]&&(i[e+7]+=t[e+7]>t[e+5]?1:-1),i[e+6]===i[e+8]&&(i[e+8]+=t[e+8]>t[e+6]?1:-1)));return i.join(" ")||"x"},attr:function(t,e){var i,r,s,o,l,h=this.element||{},d=h.style,p=h.nodeName,f=this.renderer,m=this.symbolName,y=this.shadows,v=this.attrSetters,x=this;if(n(t)&&c(e)&&(i=t,t={},t[i]=e),n(t))i=t,x="strokeWidth"===i||"stroke-width"===i?this.strokeweight:this[i];else for(i in t)if(r=t[i],l=!1,s=v[i]&&v[i].call(this,r,i),s!==!1&&null!==r){if(s!==R&&(r=s),m&&/^(x|y|r|start|end|width|height|innerR|anchorX|anchorY)/.test(i))o||(this.symbolAttr(t),o=!0),l=!0;else if("d"===i){if(r=r||[],this.d=r.join(" "),h.path=r=this.pathToVML(r),y)for(s=y.length;s--;)y[s].path=y[s].cutOff?this.cutOffPath(r,y[s].cutOff):r;l=!0}else if("visibility"===i){if(y)for(s=y.length;s--;)y[s].style[i]=r;"DIV"===p&&(r="hidden"===r?"-999em":0,kt||(d[i]=r?"visible":"hidden"),i="top"),d[i]=r,l=!0}else"zIndex"===i?(r&&(d[i]=r),l=!0):Qt(i,["x","y","width","height"])!==-1?(this[i]=r,"x"===i||"y"===i?i={x:"left",y:"top"}[i]:r=dt(0,r),this.updateClipping?(this[i]=r,this.updateClipping()):d[i]=r,l=!0):"class"===i&&"DIV"===p?h.className=r:"stroke"===i?(r=f.color(r,h,i),i="strokecolor"):"stroke-width"===i||"strokeWidth"===i?(h.stroked=!!r,i="strokeweight",this[i]=r,a(r)&&(r+="px")):"dashstyle"===i?((h.getElementsByTagName("stroke")[0]||g(f.prepVML(["<stroke/>"]),null,null,h))[i]=r||"solid",this.dashstyle=r,l=!0):"fill"===i?"SPAN"===p?d.color=r:"IMG"!==p&&(h.filled=r!==Nt,r=f.color(r,h,i,this),i="fillcolor"):"opacity"===i?l=!0:"shape"===p&&"rotation"===i?(this[i]=h.style[i]=r,h.style.left=-ht(mt(r*vt)+1)+"px",h.style.top=ht(gt(r*vt))+"px"):"translateX"!==i&&"translateY"!==i&&"rotation"!==i||(this[i]=r,this.updateTransform(),l=!0);l||(kt?h[i]=r:u(h,i,r))}return x},clip:function(t){var e,i=this;return t?(e=t.members,h(e,i),e.push(i),i.destroyClip=function(){h(e,i)},t=t.getCSS(i)):(i.destroyClip&&i.destroyClip(),t={clip:kt?"inherit":"rect(auto)"}),i.css(t)},css:L.prototype.htmlCss,safeRemoveChild:function(t){t.parentNode&&M(t)},destroy:function(){return this.destroyClip&&this.destroyClip(),L.prototype.destroy.apply(this)},on:function(t,e){return this.element["on"+t]=function(){var t=ot.event;t.target=t.srcElement,e(t)},this},cutOffPath:function(t,e){var n,t=t.split(/[ ,]/);return n=t.length,9!==n&&11!==n||(t[n-4]=t[n-2]=i(t[n-2])-10*e),t.join(" ")},shadow:function(t,e,n){var r,s,a,o,l,h,c,u=[],d=this.element,f=this.renderer,m=d.style,y=d.path;if(y&&"string"!=typeof y.value&&(y="x"),l=y,t){for(h=p(t.width,3),c=(t.opacity||.15)/h,r=1;r<=3;r++)o=2*h+1-2*r,n&&(l=this.cutOffPath(y.value,o+.5)),a=['<shape isShadow="true" strokeweight="',o,'" filled="false" path="',l,'" coordsize="10 10" style="',d.style.cssText,'" />'],s=g(f.prepVML(a),null,{left:i(m.left)+p(t.offsetX,1),top:i(m.top)+p(t.offsetY,1)}),n&&(s.cutOff=o+1),a=['<stroke color="',t.color||"black",'" opacity="',c*r,'"/>'],g(f.prepVML(a),null,null,s),e?e.element.appendChild(s):d.parentNode.insertBefore(s,d),u.push(s);this.shadows=u}return this}},le=m(L,le);var he={Element:le,isIE8:xt.indexOf("MSIE 8.0")>-1,init:function(t,e,i){var n,r;if(this.alignedObjects=[],n=this.createElement(Ot),r=n.element,r.style.position="relative",t.appendChild(n.element),this.isVML=!0,this.box=r,this.boxWrapper=n,this.cache={},this.setSize(e,i,!1),!at.namespaces.hcv){at.namespaces.add("hcv","urn:schemas-microsoft-com:vml");try{at.createStyleSheet().cssText="hcv\\:fill, hcv\\:path, hcv\\:shape, hcv\\:stroke{ behavior:url(#default#VML); display: inline-block; } "}catch(s){at.styleSheets[0].cssText+="hcv\\:fill, hcv\\:path, hcv\\:shape, hcv\\:stroke{ behavior:url(#default#VML); display: inline-block; } "}}},isHidden:function(){return!this.box.offsetWidth},clipRect:function(e,i,n,s){var a=this.createElement(),o=r(e);return t(a,{members:[],left:(o?e.x:e)+1,top:(o?e.y:i)+1,width:(o?e.width:n)-1,height:(o?e.height:s)-1,getCSS:function(e){var i=e.element,n=i.nodeName,e=e.inverted,r=this.top-("shape"===n?i.offsetTop:0),s=this.left,i=s+this.width,a=r+this.height,r={clip:"rect("+ht(e?s:r)+"px,"+ht(e?a:i)+"px,"+ht(e?i:a)+"px,"+ht(e?r:s)+"px)"};return!e&&kt&&"DIV"===n&&t(r,{width:i+"px",height:a+"px"}),r},updateClipping:function(){Xt(a.members,function(t){t.css(a.getCSS(t))})}})},color:function(t,e,i,n){var r,s,a,o=this,l=/^rgba/,h=Nt;if(t&&t.linearGradient?a="gradient":t&&t.radialGradient&&(a="pattern"),a){var c,u,d,p,f,m,y,v,x=t.linearGradient||t.radialGradient,b="",t=t.stops,_=[],k=function(){s=['<fill colors="'+_.join(",")+'" opacity="',f,'" o:opacity2="',p,'" type="',a,'" ',b,'focus="100%" method="any" />'],g(o.prepVML(s),null,null,e)};if(d=t[0],v=t[t.length-1],d[0]>0&&t.unshift([0,d[1]]),v[0]<1&&t.push([1,v[1]]),Xt(t,function(t,e){l.test(t[1])?(r=ae(t[1]),c=r.get("rgb"),u=r.get("a")):(c=t[1],u=1),_.push(100*t[0]+"% "+c),e?(f=u,m=c):(p=u,y=c)}),"fill"===i)if("gradient"===a)i=x.x1||x[0]||0,t=x.y1||x[1]||0,d=x.x2||x[2]||0,x=x.y2||x[3]||0,b='angle="'+(90-180*lt.atan((x-t)/(d-i))/yt)+'"',k();else{var w,h=x.r,D=2*h,C=2*h,T=x.cx,S=x.cy,M=e.radialReference,h=function(){M&&(w=n.getBBox(),T+=(M[0]-w.x)/w.width-.5,S+=(M[1]-w.y)/w.height-.5,D*=M[2]/w.width,C*=M[2]/w.height),b='src="'+H.global.VMLRadialGradientURL+'" size="'+D+","+C+'" origin="0.5,0.5" position="'+T+","+S+'" color2="'+y+'" ',k()};n.added?h():Vt(n,"add",h),h=m}else h=c}else l.test(t)&&"IMG"!==e.tagName?(r=ae(t),s=["<",i,' opacity="',r.get("a"),'"/>'],g(this.prepVML(s),null,null,e),h=r.get("rgb")):(h=e.getElementsByTagName(i),h.length&&(h[0].opacity=1,h[0].type="solid"),h=t);return h},prepVML:function(t){var e=this.isIE8,t=t.join("");return e?(t=t.replace("/>",' xmlns="urn:schemas-microsoft-com:vml" />'),t=t.indexOf('style="')===-1?t.replace("/>",' style="display:inline-block;behavior:url(#default#VML);" />'):t.replace('style="','style="display:inline-block;behavior:url(#default#VML);')):t=t.replace("<","<hcv:"),t},text:oe.prototype.html,path:function(e){var i={coordsize:"10 10"};return s(e)?i.d=e:r(e)&&t(i,e),this.createElement("shape").attr(i)},circle:function(t,e,i){var n=this.symbol("circle");return r(t)&&(i=t.r,e=t.y,t=t.x),n.isCircle=!0,n.r=i,n.attr({x:t,y:e})},g:function(t){var e;return t&&(e={className:"highcharts-"+t,"class":"highcharts-"+t}),this.createElement(Ot).attr(e)},image:function(t,e,i,n,r){var s=this.createElement("img").attr({src:t});return arguments.length>1&&s.attr({x:e,y:i,width:n,height:r}),s},rect:function(t,e,i,n,s,a){var o=this.symbol("rect");return o.r=r(t)?t.r:s,o.attr(r(t)?t:o.crisp(a,t,e,dt(i,0),dt(n,0)))},invertChild:function(t,e){var n=e.style;f(t,{flip:"x",left:i(n.width)-1,top:i(n.height)-1,rotation:-90})},symbols:{arc:function(t,e,i,n,r){var s=r.start,a=r.end,o=r.r||i||n,i=r.innerR,n=gt(s),l=mt(s),h=gt(a),c=mt(a);return a-s===0?["x"]:(s=["wa",t-o,e-o,t+o,e+o,t+o*n,e+o*l,t+o*h,e+o*c],r.open&&!i&&s.push("e","M",t,e),s.push("at",t-i,e-i,t+i,e+i,t+i*h,e+i*c,t+i*n,e+i*l,"x","e"),s.isArc=!0,s)},circle:function(t,e,i,n,r){return r&&(i=n=2*r.r),r&&r.isCircle&&(t-=i/2,e-=n/2),["wa",t,e,t+i,e+n,t+i,e+n/2,t+i,e+n/2,"e"]},rect:function(t,e,i,n,r){var s,a=t+i,o=e+n;return c(r)&&r.r?(s=pt(r.r,i,n),a=["M",t+s,e,"L",a-s,e,"wa",a-2*s,e,a,e+2*s,a-s,e,a,e+s,"L",a,o-s,"wa",a-2*s,o-2*s,a,o,a,o-s,a-s,o,"L",t+s,o,"wa",t,o-2*s,t+2*s,o,t+s,o,t,o-s,"L",t,e+s,"wa",t,e,t+2*s,e+2*s,t,e+s,t+s,e,"x","e"]):a=oe.prototype.symbols.square.apply(0,arguments),a}}};Highcharts.VMLRenderer=le=function(){this.init.apply(this,arguments)},le.prototype=e(oe.prototype,he),Y=le}oe.prototype.measureSpanWidth=function(t,e){var i,n=at.createElement("span");return i=at.createTextNode(t),n.appendChild(i),f(n,e),this.box.appendChild(n),i=n.offsetWidth,M(n),i};var ce;At&&(Highcharts.CanVGRenderer=le=function(){Tt="http://www.w3.org/1999/xhtml"},le.prototype.symbols={},ce=function(){function t(){var t,i=e.length;for(t=0;t<i;t++)e[t]();e=[]}var e=[];return{push:function(i,n){0===e.length&&Wt(n,t),e.push(i)}}}(),Y=le),$.prototype={addLabel:function(){var e,i=this.axis,n=i.options,r=i.chart,s=i.horiz,o=i.categories,h=i.names,u=this.pos,d=n.labels,f=i.tickPositions,s=s&&o&&!d.step&&!d.staggerLines&&!d.rotation&&r.plotWidth/f.length||!s&&(r.margin[3]||.33*r.chartWidth),g=u===f[0],m=u===f[f.length-1],h=o?p(o[u],h[u],u):u,o=this.label,y=f.info;i.isDatetimeAxis&&y&&(e=n.dateTimeLabelFormats[y.higherRanks[u]||y.unitName]),this.isFirst=g,this.isLast=m,n=i.labelFormatter.call({axis:i,chart:r,isFirst:g,isLast:m,dateTimeLabelFormat:e,value:i.isLog?j(l(h)):h}),u=s&&{width:dt(1,ht(s-2*(d.padding||10)))+"px"},u=t(u,d.style),c(o)?o&&o.attr({text:n}).css(u):(e={align:i.labelAlign},a(d.rotation)&&(e.rotation=d.rotation),s&&d.ellipsis&&(e._clipHeight=i.len/f.length),this.label=c(n)&&d.enabled?r.renderer.text(n,0,0,d.useHTML).attr(e).css(u).add(i.labelGroup):null)},getLabelSize:function(){var t=this.label,e=this.axis;return t?t.getBBox()[e.horiz?"height":"width"]:0},getLabelSides:function(){var t=this.label.getBBox(),e=this.axis,i=e.horiz,n=e.options.labels,t=i?t.width:t.height,e=i?t*{left:0,center:.5,right:1}[e.labelAlign]-n.x:t;return[-e,t-e]},handleOverflow:function(t,e){var i,n=!0,r=this.axis,s=this.isFirst,a=this.isLast,o=r.horiz?e.x:e.y,l=r.reversed,h=r.tickPositions,c=this.getLabelSides(),u=c[0],c=c[1],d=r.pos,p=d+r.len,f=this.label.line||0,g=r.labelEdge,m=r.justifyLabels&&(s||a);return g[f]===R||o+u>g[f]?g[f]=o+c:m||(n=!1),m&&(i=(r=r.ticks[h[t+(s?1:-1)]])&&r.label.xy&&r.label.xy.x+r.getLabelSides()[s?0:1],h=i,s&&!l||a&&l?o+u<d&&(o=d-u,r&&o+c>h&&(n=!1)):o+c>p&&(o=p-c,r&&o+u<h&&(n=!1)),e.x=o),n},getPosition:function(t,e,i,n){var r=this.axis,s=r.chart,a=n&&s.oldChartHeight||s.chartHeight;return{x:t?r.translate(e+i,null,null,n)+r.transB:r.left+r.offset+(r.opposite?(n&&s.oldChartWidth||s.chartWidth)-r.right-r.left:0),y:t?a-r.bottom+r.offset-(r.opposite?r.height:0):a-r.translate(e+i,null,null,n)-r.transB}},getLabelPosition:function(t,e,i,n,r,s,a,o){var l=this.axis,h=l.transA,u=l.reversed,d=l.staggerLines,p=l.chart.renderer.fontMetrics(r.style.fontSize).b,f=r.rotation,t=t+r.x-(s&&n?s*h*(u?-1:1):0),e=e+r.y-(s&&!n?s*h*(u?1:-1):0);return f&&2===l.side&&(e-=p-p*gt(f*vt)),!c(r.y)&&!f&&(e+=p-i.getBBox().height/2),d&&(i.line=a/(o||1)%d,e+=i.line*(l.labelOffset/d)),{x:t,y:e}},getMarkPath:function(t,e,i,n,r,s){return s.crispLine(["M",t,e,"L",t+(r?0:-i),e+(r?i:0)],n)},render:function(t,e,i){var n=this.axis,r=n.options,s=n.chart.renderer,a=n.horiz,o=this.type,l=this.label,h=this.pos,c=r.labels,u=this.gridLine,d=o?o+"Grid":"grid",f=o?o+"Tick":"tick",g=r[d+"LineWidth"],m=r[d+"LineColor"],y=r[d+"LineDashStyle"],v=r[f+"Length"],d=r[f+"Width"]||0,x=r[f+"Color"],b=r[f+"Position"],f=this.mark,_=c.step,k=!0,w=n.tickmarkOffset,D=this.getPosition(a,h,w,e),C=D.x,D=D.y,T=a&&C===n.pos+n.len||!a&&D===n.pos?-1:1;this.isActive=!0,g&&(h=n.getPlotLinePath(h+w,g*T,e,!0),u===R&&(u={stroke:m,"stroke-width":g},y&&(u.dashstyle=y),o||(u.zIndex=1),e&&(u.opacity=0),this.gridLine=u=g?s.path(h).attr(u).add(n.gridGroup):null),!e&&u&&h&&u[this.isNew?"attr":"animate"]({d:h,opacity:i})),d&&v&&("inside"===b&&(v=-v),n.opposite&&(v=-v),o=this.getMarkPath(C,D,v,d*T,a,s),f?f.animate({d:o,opacity:i}):this.mark=s.path(o).attr({stroke:x,"stroke-width":d,opacity:i}).add(n.axisGroup)),l&&!isNaN(C)&&(l.xy=D=this.getLabelPosition(C,D,l,a,c,w,t,_),this.isFirst&&!this.isLast&&!p(r.showFirstLabel,1)||this.isLast&&!this.isFirst&&!p(r.showLastLabel,1)?k=!1:!n.isRadial&&!c.step&&!c.rotation&&!e&&0!==i&&(k=this.handleOverflow(t,D)),_&&t%_&&(k=!1),k&&!isNaN(D.y)?(D.opacity=i,l[this.isNew?"attr":"animate"](D),this.isNew=!1):l.attr("y",-9999))},destroy:function(){S(this,this.axis)}};var ue=function(t,e){this.axis=t,e&&(this.options=e,this.id=e.id)};ue.prototype={render:function(){var t,i=this,n=i.axis,r=n.horiz,s=(n.pointRange||0)/2,a=i.options,l=a.label,h=i.label,u=a.width,d=a.to,f=a.from,g=c(f)&&c(d),m=a.value,y=a.dashStyle,v=i.svgElem,x=[],b=a.color,_=a.zIndex,k=a.events,w=n.chart.renderer;if(n.isLog&&(f=o(f),d=o(d),m=o(m)),u)x=n.getPlotLinePath(m,u),s={stroke:b,"stroke-width":u},y&&(s.dashstyle=y);else{if(!g)return;f=dt(f,n.min-s),d=pt(d,n.max+s),x=n.getPlotBandPath(f,d,a),s={fill:b},a.borderWidth&&(s.stroke=a.borderColor,s["stroke-width"]=a.borderWidth)}if(c(_)&&(s.zIndex=_),v)x?v.animate({d:x},null,v.onGetPath):(v.hide(),v.onGetPath=function(){v.show()},h&&(i.label=h=h.destroy()));else if(x&&x.length&&(i.svgElem=v=w.path(x).attr(s).add(),k))for(t in a=function(t){v.on(t,function(e){k[t].apply(i,[e])})},k)a(t);return l&&c(l.text)&&x&&x.length&&n.width>0&&n.height>0?(l=e({align:r&&g&&"center",x:r?!g&&4:10,verticalAlign:!r&&g&&"middle",y:r?g?16:10:g?6:-4,rotation:r&&!g&&90},l),h||(i.label=h=w.text(l.text,0,0,l.useHTML).attr({align:l.textAlign||l.align,rotation:l.rotation,zIndex:_}).css(l.style).add()),n=[x[1],x[4],p(x[6],x[1])],x=[x[2],x[5],p(x[7],x[2])],r=C(n),g=C(x),h.align(l,!1,{x:r,y:g,width:T(n)-r,height:T(x)-g}),h.show()):h&&h.hide(),i},destroy:function(){h(this.axis.plotLinesAndBands,this),delete this.axis,S(this)}},O.prototype={defaultOptions:{dateTimeLabelFormats:{millisecond:"%H:%M:%S.%L",second:"%H:%M:%S",minute:"%H:%M",hour:"%H:%M",day:"%e. %b",week:"%e. %b",month:"%b '%y",year:"%Y"},endOnTick:!1,gridLineColor:"#C0C0C0",labels:Ht,lineColor:"#C0D0E0",lineWidth:1,minPadding:.01,maxPadding:.01,minorGridLineColor:"#E0E0E0",minorGridLineWidth:1,minorTickColor:"#A0A0A0",minorTickLength:2,minorTickPosition:"outside",startOfWeek:1,startOnTick:!1,tickColor:"#C0D0E0",tickLength:5,tickmarkPlacement:"between",tickPixelInterval:100,tickPosition:"outside",tickWidth:1,title:{align:"middle",style:{color:"#4d759e",fontWeight:"bold"}},type:"linear"},defaultYAxisOptions:{endOnTick:!0,gridLineWidth:1,tickPixelInterval:72,showLastLabel:!0,labels:{x:-8,y:3},lineWidth:0,maxPadding:.05,minPadding:.05,startOnTick:!0,tickWidth:0,title:{rotation:270,text:"Values"},stackLabels:{enabled:!1,formatter:function(){return y(this.total,-1)},style:Ht.style}},defaultLeftAxisOptions:{labels:{x:-8,y:null},title:{rotation:270}},defaultRightAxisOptions:{labels:{x:8,y:null},title:{rotation:90}},defaultBottomAxisOptions:{labels:{x:0,y:14},title:{rotation:0}},defaultTopAxisOptions:{labels:{x:0,y:-5},title:{rotation:0}},init:function(t,e){var i=e.isX;this.horiz=t.inverted?!i:i,this.coll=(this.isXAxis=i)?"xAxis":"yAxis",this.opposite=e.opposite,this.side=e.side||(this.horiz?this.opposite?0:2:this.opposite?1:3),this.setOptions(e);var n=this.options,r=n.type;this.labelFormatter=n.labels.formatter||this.defaultLabelFormatter,this.userOptions=e,this.minPixelPadding=0,this.chart=t,this.reversed=n.reversed,this.zoomEnabled=n.zoomEnabled!==!1,this.categories=n.categories||"category"===r,this.names=[],this.isLog="logarithmic"===r,this.isDatetimeAxis="datetime"===r,this.isLinked=c(n.linkedTo),this.tickmarkOffset=this.categories&&"between"===n.tickmarkPlacement?.5:0,this.ticks={},this.labelEdge=[],this.minorTicks={},this.plotLinesAndBands=[],this.alternateBands={},this.len=0,this.minRange=this.userMinRange=n.minRange||n.maxZoom,this.range=n.range,this.offset=n.offset||0,this.stacks={},this.oldStacks={},this.stackExtremes={},this.min=this.max=null,this.crosshair=p(n.crosshair,d(t.options.tooltip.crosshairs)[i?0:1],!1);var s,n=this.options.events;Qt(this,t.axes)===-1&&(t.axes.push(this),t[this.coll].push(this)),this.series=this.series||[],t.inverted&&i&&this.reversed===R&&(this.reversed=!0),this.removePlotLine=this.removePlotBand=this.removePlotBandOrLine;for(s in n)Vt(this,s,n[s]);this.isLog&&(this.val2lin=o,this.lin2val=l)},setOptions:function(t){this.options=e(this.defaultOptions,this.isXAxis?{}:this.defaultYAxisOptions,[this.defaultTopAxisOptions,this.defaultRightAxisOptions,this.defaultBottomAxisOptions,this.defaultLeftAxisOptions][this.side],e(H[this.coll],t))},defaultLabelFormatter:function(){var t,e=this.axis,i=this.value,n=e.categories,r=this.dateTimeLabelFormat,s=H.lang.numericSymbols,a=s&&s.length,o=e.options.labels.format,e=e.isLog?i:e.tickInterval;if(o)t=b(o,this);else if(n)t=i;else if(r)t=F(r,i);else if(a&&e>=1e3)for(;a--&&t===R;)n=Math.pow(1e3,a+1),e>=n&&null!==s[a]&&(t=y(i/n,-1)+s[a]);return t===R&&(t=i>=1e4?y(i,0):y(i,-1,R,"")),t},getSeriesExtremes:function(){var t=this,e=t.chart;t.hasVisibleSeries=!1,t.dataMin=t.dataMax=null,t.stackExtremes={},t.buildStacks(),Xt(t.series,function(i){if(i.visible||!e.options.chart.ignoreHiddenSeries){var n;n=i.options.threshold;var r;t.hasVisibleSeries=!0,t.isLog&&n<=0&&(n=null),t.isXAxis?(n=i.xData,n.length&&(t.dataMin=pt(p(t.dataMin,n[0]),C(n)),t.dataMax=dt(p(t.dataMax,n[0]),T(n)))):(i.getExtremes(),r=i.dataMax,i=i.dataMin,c(i)&&c(r)&&(t.dataMin=pt(p(t.dataMin,i),i),t.dataMax=dt(p(t.dataMax,r),r)),c(n)&&(t.dataMin>=n?(t.dataMin=n,t.ignoreMinPadding=!0):t.dataMax<n&&(t.dataMax=n,t.ignoreMaxPadding=!0)))}})},translate:function(t,e,i,n,r,s){var o=this.len,l=1,h=0,c=n?this.oldTransA:this.transA,n=n?this.oldMin:this.min,u=this.minPixelPadding,r=(this.options.ordinal||this.isLog&&r)&&this.lin2val;return c||(c=this.transA),i&&(l*=-1,h=o),this.reversed&&(l*=-1,h-=l*o),e?(t=t*l+h,t-=u,t=t/c+n,r&&(t=this.lin2val(t))):(r&&(t=this.val2lin(t)),"between"===s&&(s=.5),t=l*(t-n)*c+h+l*u+(a(s)?c*s*this.pointRange:0)),t},toPixels:function(t,e){return this.translate(t,!1,!this.horiz,null,!0)+(e?0:this.pos)},toValue:function(t,e){return this.translate(t-(e?0:this.pos),!0,!this.horiz,null,!0)},getPlotLinePath:function(t,e,i,n,r){var s,a,o,l=this.chart,h=this.left,c=this.top,u=i&&l.oldChartHeight||l.chartHeight,d=i&&l.oldChartWidth||l.chartWidth;return s=this.transB,r=p(r,this.translate(t,null,null,i)),t=i=ht(r+s),s=a=ht(u-r-s),isNaN(r)?o=!0:this.horiz?(s=c,a=u-this.bottom,(t<h||t>h+this.width)&&(o=!0)):(t=h,i=d-this.right,(s<c||s>c+this.height)&&(o=!0)),o&&!n?null:l.renderer.crispLine(["M",t,s,"L",i,a],e||1)},getLinearTickPositions:function(t,e,i){for(var n,e=j(ct(e/t)*t),i=j(ut(i/t)*t),r=[];e<=i&&(r.push(e),e=j(e+t),e!==n);)n=e;return r},getMinorTickPositions:function(){var t,e=this.options,i=this.tickPositions,n=this.minorTickInterval,r=[];if(this.isLog)for(t=i.length,e=1;e<t;e++)r=r.concat(this.getLogTickPositions(n,i[e-1],i[e],!0));else if(this.isDatetimeAxis&&"auto"===e.minorTickInterval)r=r.concat(this.getTimeTicks(this.normalizeTimeTickInterval(n),this.min,this.max,e.startOfWeek)),r[0]<this.min&&r.shift();else for(i=this.min+(i[0]-this.min)%n;i<=this.max;i+=n)r.push(i);return r},adjustForMinRange:function(){var t,e,i,n,r,s,a=this.options,o=this.min,l=this.max,h=this.dataMax-this.dataMin>=this.minRange;if(this.isXAxis&&this.minRange===R&&!this.isLog&&(c(a.min)||c(a.max)?this.minRange=null:(Xt(this.series,function(t){for(r=t.xData,i=s=t.xIncrement?1:r.length-1;i>0;i--)n=r[i]-r[i-1],(e===R||n<e)&&(e=n)}),this.minRange=pt(5*e,this.dataMax-this.dataMin))),l-o<this.minRange){var u=this.minRange;t=(u-l+o)/2,t=[o-t,p(a.min,o-t)],h&&(t[2]=this.dataMin),o=T(t),l=[o+u,p(a.max,o+u)],h&&(l[2]=this.dataMax),l=C(l),l-o<u&&(t[0]=l-u,t[1]=p(a.min,l-u),o=T(t))}this.min=o,this.max=l},setAxisTranslation:function(t){var e,i=this.max-this.min,r=0,s=0,a=0,o=this.linkedParent,l=!!this.categories,h=this.transA;(this.isXAxis||l)&&(o?(s=o.minPointOffset,a=o.pointRangePadding):Xt(this.series,function(t){var o=dt(t.pointRange,+l),h=t.options.pointPlacement,u=t.closestPointRange;o>i&&(o=0),r=dt(r,o),s=dt(s,n(h)?0:o/2),a=dt(a,"on"===h?0:o),!t.noSharedTooltip&&c(u)&&(e=c(e)?pt(e,u):u)}),o=this.ordinalSlope&&e?this.ordinalSlope/e:1,this.minPointOffset=s*=o,this.pointRangePadding=a*=o,this.pointRange=pt(r,i),this.closestPointRange=e),t&&(this.oldTransA=h),this.translationSlope=this.transA=h=this.len/(i+a||1),this.transB=this.horiz?this.left:this.bottom,this.minPixelPadding=h*s},setTickPositions:function(t){var e,i=this,n=i.chart,r=i.options,s=i.isLog,a=i.isDatetimeAxis,l=i.isXAxis,h=i.isLinked,u=i.options.tickPositioner,d=r.maxPadding,f=r.minPadding,g=r.tickInterval,m=r.minTickInterval,y=r.tickPixelInterval,v=i.categories;h?(i.linkedParent=n[i.coll][r.linkedTo],n=i.linkedParent.getExtremes(),i.min=p(n.min,n.dataMin),i.max=p(n.max,n.dataMax),r.type!==i.linkedParent.options.type&&A(11,1)):(i.min=p(i.userMin,r.min,i.dataMin),i.max=p(i.userMax,r.max,i.dataMax)),s&&(!t&&pt(i.min,p(i.dataMin,i.min))<=0&&A(10,1),i.min=j(o(i.min)),i.max=j(o(i.max))),i.range&&c(i.max)&&(i.userMin=i.min=dt(i.min,i.max-i.range),i.userMax=i.max,i.range=null),i.beforePadding&&i.beforePadding(),i.adjustForMinRange(),!v&&!i.usePercentage&&!h&&c(i.min)&&c(i.max)&&(n=i.max-i.min)&&(c(r.min)||c(i.userMin)||!f||!(i.dataMin<0)&&i.ignoreMinPadding||(i.min-=n*f),c(r.max)||c(i.userMax)||!d||!(i.dataMax>0)&&i.ignoreMaxPadding||(i.max+=n*d)),i.min===i.max||void 0===i.min||void 0===i.max?i.tickInterval=1:h&&!g&&y===i.linkedParent.options.tickPixelInterval?i.tickInterval=i.linkedParent.tickInterval:(i.tickInterval=p(g,v?1:(i.max-i.min)*y/dt(i.len,y)),!c(g)&&i.len<y&&!this.isRadial&&!v&&r.startOnTick&&r.endOnTick&&(e=!0,i.tickInterval/=4)),l&&!t&&Xt(i.series,function(t){t.processData(i.min!==i.oldMin||i.max!==i.oldMax)}),i.setAxisTranslation(!0),i.beforeSetTickPositions&&i.beforeSetTickPositions(),i.postProcessTickInterval&&(i.tickInterval=i.postProcessTickInterval(i.tickInterval)),i.pointRange&&(i.tickInterval=dt(i.pointRange,i.tickInterval)),!g&&i.tickInterval<m&&(i.tickInterval=m),a||s||g||(i.tickInterval=k(i.tickInterval,null,_(i.tickInterval),r)),i.minorTickInterval="auto"===r.minorTickInterval&&i.tickInterval?i.tickInterval/5:r.minorTickInterval,i.tickPositions=t=r.tickPositions?[].concat(r.tickPositions):u&&u.apply(i,[i.min,i.max]),t||(!i.ordinalPositions&&(i.max-i.min)/i.tickInterval>dt(2*i.len,200)&&A(19,!0),t=a?i.getTimeTicks(i.normalizeTimeTickInterval(i.tickInterval,r.units),i.min,i.max,r.startOfWeek,i.ordinalPositions,i.closestPointRange,!0):s?i.getLogTickPositions(i.tickInterval,i.min,i.max):i.getLinearTickPositions(i.tickInterval,i.min,i.max),e&&t.splice(1,t.length-2),i.tickPositions=t),h||(s=t[0],a=t[t.length-1],h=i.minPointOffset||0,r.startOnTick?i.min=s:i.min-h>s&&t.shift(),r.endOnTick?i.max=a:i.max+h<a&&t.pop(),1===t.length&&(i.min-=.001,i.max+=.001))},setMaxTicks:function(){var t=this.chart,e=t.maxTicks||{},i=this.tickPositions,n=this._maxTicksKey=[this.coll,this.pos,this.len].join("-");!this.isLinked&&!this.isDatetimeAxis&&i&&i.length>(e[n]||0)&&this.options.alignTicks!==!1&&(e[n]=i.length),t.maxTicks=e},adjustTickAmount:function(){var t=this._maxTicksKey,e=this.tickPositions,i=this.chart.maxTicks;if(i&&i[t]&&!this.isDatetimeAxis&&!this.categories&&!this.isLinked&&this.options.alignTicks!==!1&&this.min!==R){var n=this.tickAmount,r=e.length;if(this.tickAmount=t=i[t],r<t){for(;e.length<t;)e.push(j(e[e.length-1]+this.tickInterval));this.transA*=(r-1)/(t-1),this.max=e[e.length-1]}c(n)&&t!==n&&(this.isDirty=!0)}},setScale:function(){var t,e,i,n,r=this.stacks;if(this.oldMin=this.min,this.oldMax=this.max,this.oldAxisLength=this.len,this.setAxisSize(),n=this.len!==this.oldAxisLength,Xt(this.series,function(t){(t.isDirtyData||t.isDirty||t.xAxis.isDirty)&&(i=!0)}),n||i||this.isLinked||this.forceRedraw||this.userMin!==this.oldUserMin||this.userMax!==this.oldUserMax){if(!this.isXAxis)for(t in r)for(e in r[t])r[t][e].total=null,r[t][e].cum=0;this.forceRedraw=!1,this.getSeriesExtremes(),this.setTickPositions(),this.oldUserMin=this.userMin,this.oldUserMax=this.userMax,this.isDirty||(this.isDirty=n||this.min!==this.oldMin||this.max!==this.oldMax)}else if(!this.isXAxis){this.oldStacks&&(r=this.stacks=this.oldStacks);for(t in r)for(e in r[t])r[t][e].cum=r[t][e].total}this.setMaxTicks()},setExtremes:function(e,i,n,r,s){var a=this,o=a.chart,n=p(n,!0),s=t(s,{min:e,max:i});Zt(a,"setExtremes",s,function(){a.userMin=e,a.userMax=i,a.eventArgs=s,a.isDirtyExtremes=!0,n&&o.redraw(r)})},zoom:function(t,e){return this.allowZoomOutside||(c(this.dataMin)&&t<=this.dataMin&&(t=R),c(this.dataMax)&&e>=this.dataMax&&(e=R)),this.displayBtn=t!==R||e!==R,this.setExtremes(t,e,!1,R,{trigger:"zoom"}),!0},setAxisSize:function(){var t,e,i=this.chart,n=this.options,r=n.offsetLeft||0,s=n.offsetRight||0,a=this.horiz;this.left=e=p(n.left,i.plotLeft+r),this.top=t=p(n.top,i.plotTop),this.width=r=p(n.width,i.plotWidth-r+s),this.height=n=p(n.height,i.plotHeight),this.bottom=i.chartHeight-n-t,this.right=i.chartWidth-r-e,this.len=dt(a?r:n,0),this.pos=a?e:t},getExtremes:function(){var t=this.isLog;return{min:t?j(l(this.min)):this.min,max:t?j(l(this.max)):this.max,dataMin:this.dataMin,dataMax:this.dataMax,userMin:this.userMin,userMax:this.userMax}},getThreshold:function(t){var e=this.isLog,i=e?l(this.min):this.min,e=e?l(this.max):this.max;return i>t||null===t?t=i:e<t&&(t=e),this.translate(t,0,1,0,1)},autoLabelAlign:function(t){return t=(p(t,0)-90*this.side+720)%360,t>15&&t<165?"right":t>195&&t<345?"left":"center"},getOffset:function(){var t,e,i,n,r,s,a,o=this,l=o.chart,h=l.renderer,u=o.options,d=o.tickPositions,f=o.ticks,g=o.horiz,m=o.side,y=l.inverted?[1,0,3,2][m]:m,v=0,x=0,b=u.title,_=u.labels,k=0,w=l.axisOffset,D=l.clipOffset,C=[-1,1,1,-1][m],T=1,S=p(_.maxStaggerLines,5);if(o.hasData=t=o.hasVisibleSeries||c(o.min)&&c(o.max)&&!!d,o.showAxis=l=t||p(u.showEmpty,!0),o.staggerLines=o.horiz&&_.staggerLines,o.axisGroup||(o.gridGroup=h.g("grid").attr({zIndex:u.gridZIndex||1}).add(),o.axisGroup=h.g("axis").attr({zIndex:u.zIndex||2}).add(),o.labelGroup=h.g("axis-labels").attr({zIndex:_.zIndex||7}).add()),t||o.isLinked){if(o.labelAlign=p(_.align||o.autoLabelAlign(_.rotation)),Xt(d,function(t){f[t]?f[t].addLabel():f[t]=new $(o,t)}),o.horiz&&!o.staggerLines&&S&&!_.rotation){for(i=o.reversed?[].concat(d).reverse():d;T<S;){for(t=[],n=!1,_=0;_<i.length;_++)r=i[_],s=(s=f[r].label&&f[r].label.getBBox())?s.width:0,a=_%T,s&&(r=o.translate(r),t[a]!==R&&r<t[a]&&(n=!0),t[a]=r+s);if(!n)break;T++}T>1&&(o.staggerLines=T)}Xt(d,function(t){0!==m&&2!==m&&{1:"left",3:"right"}[m]!==o.labelAlign||(k=dt(f[t].getLabelSize(),k))}),o.staggerLines&&(k*=o.staggerLines,o.labelOffset=k)}else for(i in f)f[i].destroy(),delete f[i];b&&b.text&&b.enabled!==!1&&(o.axisTitle||(o.axisTitle=h.text(b.text,0,0,b.useHTML).attr({zIndex:7,rotation:b.rotation||0,align:b.textAlign||{low:"left",middle:"center",high:"right"}[b.align]}).css(b.style).add(o.axisGroup),o.axisTitle.isNew=!0),l&&(v=o.axisTitle.getBBox()[g?"height":"width"],x=p(b.margin,g?5:10),e=b.offset),o.axisTitle[l?"show":"hide"]()),o.offset=C*p(u.offset,w[m]),o.axisTitleMargin=p(e,k+x+(2!==m&&k&&C*u.labels[g?"y":"x"])),w[m]=dt(w[m],o.axisTitleMargin+v+C*o.offset),D[y]=dt(D[y],2*ct(u.lineWidth/2))},getLinePath:function(t){var e=this.chart,i=this.opposite,n=this.offset,r=this.horiz,s=this.left+(i?this.width:0)+n,n=e.chartHeight-this.bottom-(i?this.height:0)+n;return i&&(t*=-1),e.renderer.crispLine(["M",r?this.left:s,r?n:this.top,"L",r?e.chartWidth-this.right:s,r?n:e.chartHeight-this.bottom],t)},getTitlePosition:function(){var t=this.horiz,e=this.left,n=this.top,r=this.len,s=this.options.title,a=t?e:n,o=this.opposite,l=this.offset,h=i(s.style.fontSize||12),r={low:a+(t?0:r),middle:a+r/2,high:a+(t?r:0)}[s.align],e=(t?n+this.height:e)+(t?1:-1)*(o?-1:1)*this.axisTitleMargin+(2===this.side?h:0);return{x:t?r:e+(o?this.width:0)+l+(s.x||0),y:t?e-(o?this.height:0)+l:r+(s.y||0)}},render:function(){var t,e,i,n=this,r=n.horiz,s=n.reversed,a=n.chart,o=a.renderer,h=n.options,u=n.isLog,d=n.isLinked,p=n.tickPositions,f=n.axisTitle,g=n.stacks,m=n.ticks,y=n.minorTicks,v=n.alternateBands,x=h.stackLabels,b=h.alternateGridColor,_=n.tickmarkOffset,k=h.lineWidth,w=a.hasRendered&&c(n.oldMin)&&!isNaN(n.oldMin),D=n.hasData,C=n.showAxis,T=n.justifyLabels=!n.staggerLines&&r&&"justify"===h.labels.overflow;if(n.labelEdge.length=0,Xt([m,y,v],function(t){for(var e in t)t[e].isActive=!1}),(D||d)&&(n.minorTickInterval&&!n.categories&&Xt(n.getMinorTickPositions(),function(t){y[t]||(y[t]=new $(n,t,"minor")),w&&y[t].isNew&&y[t].render(null,!0),y[t].render(null,!1,1)}),p.length&&(t=p.slice(),(r&&s||!r&&!s)&&t.reverse(),T&&(t=t.slice(1).concat([t[0]])),Xt(t,function(e,i){T&&(i=i===t.length-1?0:i+1),(!d||e>=n.min&&e<=n.max)&&(m[e]||(m[e]=new $(n,e)),w&&m[e].isNew&&m[e].render(i,!0,.1),m[e].render(i,!1,1))}),_&&0===n.min&&(m[-1]||(m[-1]=new $(n,(-1),null,(!0))),m[-1].render(-1))),b&&Xt(p,function(t,r){r%2===0&&t<n.max&&(v[t]||(v[t]=new ue(n)),e=t+_,i=p[r+1]!==R?p[r+1]+_:n.max,v[t].options={from:u?l(e):e,to:u?l(i):i,color:b},v[t].render(),v[t].isActive=!0)}),n._addedPlotLB||(Xt((h.plotLines||[]).concat(h.plotBands||[]),function(t){n.addPlotBandOrLine(t)}),n._addedPlotLB=!0)),Xt([m,y,v],function(t){var e,i,n=[],r=W?W.duration||500:0,s=function(){for(i=n.length;i--;)t[n[i]]&&!t[n[i]].isActive&&(t[n[i]].destroy(),delete t[n[i]])};for(e in t)t[e].isActive||(t[e].render(e,!1,0),t[e].isActive=!1,n.push(e));t!==v&&a.hasRendered&&r?r&&setTimeout(s,r):s()}),k&&(r=n.getLinePath(k),n.axisLine?n.axisLine.animate({d:r}):n.axisLine=o.path(r).attr({stroke:h.lineColor,"stroke-width":k,zIndex:7}).add(n.axisGroup),n.axisLine[C?"show":"hide"]()),f&&C&&(f[f.isNew?"attr":"animate"](n.getTitlePosition()),f.isNew=!1),x&&x.enabled){var S,M,h=n.stackTotalGroup;h||(n.stackTotalGroup=h=o.g("stack-labels").attr({visibility:"visible",zIndex:6}).add()),h.translate(a.plotLeft,a.plotTop);for(S in g)for(M in o=g[S])o[M].render(h)}n.isDirty=!1},redraw:function(){var t=this.chart.pointer;t.reset&&t.reset(!0),this.render(),Xt(this.plotLinesAndBands,function(t){t.render()}),Xt(this.series,function(t){t.isDirty=!0})},buildStacks:function(){var t=this.series,e=t.length;if(!this.isXAxis){for(;e--;)t[e].setStackedPoints();if(this.usePercentage)for(e=0;e<t.length;e++)t[e].setPercentStacks()}},destroy:function(t){var e,i=this,n=i.stacks,r=i.plotLinesAndBands;t||Kt(i);for(e in n)S(n[e]),n[e]=null;for(Xt([i.ticks,i.minorTicks,i.alternateBands],function(t){S(t)}),t=r.length;t--;)r[t].destroy();Xt("stackTotalGroup,axisLine,axisTitle,axisGroup,cross,gridGroup,labelGroup".split(","),function(t){i[t]&&(i[t]=i[t].destroy())}),this.cross&&this.cross.destroy()},drawCrosshair:function(t,e){if(this.crosshair)if((c(e)||!p(this.crosshair.snap,!0))===!1)this.hideCrosshair();else{var i,n=this.crosshair,r=n.animation;p(n.snap,!0)?c(e)&&(i=this.chart.inverted!=this.horiz?e.plotX:this.len-e.plotY):i=this.horiz?t.chartX-this.pos:this.len-t.chartY+this.pos,i=this.isRadial?this.getPlotLinePath(this.isXAxis?e.x:p(e.stackY,e.y)):this.getPlotLinePath(null,null,null,null,i),
null===i?this.hideCrosshair():this.cross?this.cross.attr({visibility:"visible"})[r?"animate":"attr"]({d:i},r):(r={"stroke-width":n.width||1,stroke:n.color||"#C0C0C0",zIndex:n.zIndex||2},n.dashStyle&&(r.dashstyle=n.dashStyle),this.cross=this.chart.renderer.path(i).attr(r).add())}},hideCrosshair:function(){this.cross&&this.cross.hide()}},t(O.prototype,{getPlotBandPath:function(t,e){var i=this.getPlotLinePath(e),n=this.getPlotLinePath(t);return n&&i?n.push(i[4],i[5],i[1],i[2]):n=null,n},addPlotBand:function(t){this.addPlotBandOrLine(t,"plotBands")},addPlotLine:function(t){this.addPlotBandOrLine(t,"plotLines")},addPlotBandOrLine:function(t,e){var i=new ue(this,t).render(),n=this.userOptions;return i&&(e&&(n[e]=n[e]||[],n[e].push(t)),this.plotLinesAndBands.push(i)),i},removePlotBandOrLine:function(t){for(var e=this.plotLinesAndBands,i=this.options,n=this.userOptions,r=e.length;r--;)e[r].id===t&&e[r].destroy();Xt([i.plotLines||[],n.plotLines||[],i.plotBands||[],n.plotBands||[]],function(e){for(r=e.length;r--;)e[r].id===t&&h(e,e[r])})}}),O.prototype.getLogTickPositions=function(t,e,i,n){var r=this.options,s=this.len,a=[];if(n||(this._minorAutoInterval=null),t>=.5)t=ht(t),a=this.getLinearTickPositions(t,e,i);else if(t>=.08)for(var h,c,u,d,f,s=ct(e),r=t>.3?[1,2,4]:t>.15?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9];s<i+1&&!f;s++)for(c=r.length,h=0;h<c&&!f;h++)u=o(l(s)*r[h]),u>e&&(!n||d<=i)&&a.push(d),d>i&&(f=!0),d=u;else e=l(e),i=l(i),t=r[n?"minorTickInterval":"tickInterval"],t=p("auto"===t?null:t,this._minorAutoInterval,(i-e)*(r.tickPixelInterval/(n?5:1))/((n?s/this.tickPositions.length:s)||1)),t=k(t,null,_(t)),a=Ut(this.getLinearTickPositions(t,e,i),o),n||(this._minorAutoInterval=t/5);return n||(this.tickInterval=t),a},O.prototype.getTimeTicks=function(e,i,n,r){var s,a=[],o={},l=H.global.useUTC,h=new Date(i-q),u=e.unitRange,d=e.count;if(c(i)){u>=X.second&&(h.setMilliseconds(0),h.setSeconds(u>=X.minute?0:d*ct(h.getSeconds()/d))),u>=X.minute&&h[et](u>=X.hour?0:d*ct(h[U]()/d)),u>=X.hour&&h[it](u>=X.day?0:d*ct(h[V]()/d)),u>=X.day&&h[nt](u>=X.month?1:d*ct(h[Z]()/d)),u>=X.month&&(h[rt](u>=X.year?0:d*ct(h[J]()/d)),s=h[tt]()),u>=X.year&&(s-=s%d,h[st](s)),u===X.week&&h[nt](h[Z]()-h[K]()+p(r,1)),i=1,q&&(h=new Date(h.getTime()+q)),s=h[tt]();for(var r=h.getTime(),f=h[J](),g=h[Z](),m=l?q:(864e5+6e4*h.getTimezoneOffset())%864e5;r<n;)a.push(r),u===X.year?r=G(s+i*d,0):u===X.month?r=G(s,f+i*d):l||u!==X.day&&u!==X.week?r+=u*d:r=G(s,f,g+i*d*(u===X.day?1:7)),i++;a.push(r),Xt(Gt(a,function(t){return u<=X.hour&&t%X.day===m}),function(t){o[t]="day"})}return a.info=t(e,{higherRanks:o,totalRange:u*d}),a},O.prototype.normalizeTimeTickInterval=function(t,e){var i,n=e||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]],r=n[n.length-1],s=X[r[0]],a=r[1];for(i=0;i<n.length&&(r=n[i],s=X[r[0]],a=r[1],!(n[i+1]&&t<=(s*a[a.length-1]+X[n[i+1][0]])/2));i++);return s===X.year&&t<5*s&&(a=[1,2,5]),n=k(t/s,a,"year"===r[0]?dt(_(t/s),1):1),{unitRange:s,count:n,unitName:r[0]}},N.prototype={destroy:function(){S(this,this.axis)},render:function(t){var e=this.options,i=e.format,i=i?b(i,this):e.formatter.call(this);this.label?this.label.attr({text:i,visibility:"hidden"}):this.label=this.axis.chart.renderer.text(i,0,0,e.useHTML).css(e.style).attr({align:this.textAlign,rotation:e.rotation,visibility:"hidden"}).add(t)},setOffset:function(t,e){var i=this.axis,n=i.chart,r=n.inverted,s=this.isNegative,a=i.translate(this.percent?100:this.total,0,0,0,1),i=i.translate(0),i=ft(a-i),o=n.xAxis[0].translate(this.x)+t,l=n.plotHeight,s={x:r?s?a:a-i:o,y:r?l-o-e:s?l-a-i:l-a,width:r?i:e,height:r?e:i};(r=this.label)&&(r.align(this.alignOptions,null,s),s=r.alignAttr,r.attr({visibility:this.options.crop===!1||n.isInsidePlot(s.x,s.y)?St?"inherit":"visible":"hidden"}))}},E.prototype={init:function(t,e){var n=e.borderWidth,r=e.style,s=i(r.padding);this.chart=t,this.options=e,this.crosshairs=[],this.now={x:0,y:0},this.isHidden=!0,this.label=t.renderer.label("",0,0,e.shape,null,null,e.useHTML,null,"tooltip").attr({padding:s,fill:e.backgroundColor,"stroke-width":n,r:e.borderRadius,zIndex:8}).css(r).css({padding:0}).add().attr({y:-999}),At||this.label.shadow(e.shadow),this.shared=e.shared},destroy:function(){this.label&&(this.label=this.label.destroy()),clearTimeout(this.hideTimer),clearTimeout(this.tooltipTimeout)},move:function(e,i,n,r){var s=this,a=s.now,o=s.options.animation!==!1&&!s.isHidden;t(a,{x:o?(2*a.x+e)/3:e,y:o?(a.y+i)/2:i,anchorX:o?(2*a.anchorX+n)/3:n,anchorY:o?(a.anchorY+r)/2:r}),s.label.attr(a),o&&(ft(e-a.x)>1||ft(i-a.y)>1)&&(clearTimeout(this.tooltipTimeout),this.tooltipTimeout=setTimeout(function(){s&&s.move(e,i,n,r)},32))},hide:function(){var t,e=this;clearTimeout(this.hideTimer),this.isHidden||(t=this.chart.hoverPoints,this.hideTimer=setTimeout(function(){e.label.fadeOut(),e.isHidden=!0},p(this.options.hideDelay,500)),t&&Xt(t,function(t){t.setState()}),this.chart.hoverPoints=null)},getAnchor:function(t,e){var i,n,r=this.chart,s=r.inverted,a=r.plotTop,o=0,l=0,t=d(t);return i=t[0].tooltipPos,this.followPointer&&e&&(e.chartX===R&&(e=r.pointer.normalize(e)),i=[e.chartX-r.plotLeft,e.chartY-a]),i||(Xt(t,function(t){n=t.series.yAxis,o+=t.plotX,l+=(t.plotLow?(t.plotLow+t.plotHigh)/2:t.plotY)+(!s&&n?n.top-a:0)}),o/=t.length,l/=t.length,i=[s?r.plotWidth-l:o,this.shared&&!s&&t.length>1&&e?e.chartY-a:s?r.plotHeight-o:l]),Ut(i,ht)},getPosition:function(t,e,i){var n,r=this.chart,s=r.plotLeft,a=r.plotTop,o=r.plotWidth,l=r.plotHeight,h=p(this.options.distance,12),c=i.plotX,i=i.plotY,r=c+s+(r.inverted?h:-t-h),u=i-e+a+15;return r<7&&(r=s+dt(c,0)+h),r+t>s+o&&(r-=r+t-(s+o),u=i-e+a-h,n=!0),u<a+5&&(u=a+5,n&&i>=u&&i<=u+e&&(u=i+a+h)),u+e>a+l&&(u=dt(a,a+l-e-h)),{x:r,y:u}},defaultFormatter:function(t){var e,i=this.points||d(this),n=i[0].series;return e=[n.tooltipHeaderFormatter(i[0])],Xt(i,function(t){n=t.series,e.push(n.tooltipFormatter&&n.tooltipFormatter(t)||t.point.tooltipFormatter(n.tooltipOptions.pointFormat))}),e.push(t.options.footerFormat||""),e.join("")},refresh:function(t,e){var i,n,r,s=this.chart,a=this.label,o=this.options,l={},h=[];r=o.formatter||this.defaultFormatter;var c,l=s.hoverPoints,u=this.shared;clearTimeout(this.hideTimer),this.followPointer=d(t)[0].series.tooltipOptions.followPointer,n=this.getAnchor(t,e),i=n[0],n=n[1],!u||t.series&&t.series.noSharedTooltip?l=t.getLabelConfig():(s.hoverPoints=t,l&&Xt(l,function(t){t.setState()}),Xt(t,function(t){t.setState("hover"),h.push(t.getLabelConfig())}),l={x:t[0].category,y:t[0].y},l.points=h,t=t[0]),r=r.call(l,this),l=t.series,r===!1?this.hide():(this.isHidden&&(ee(a),a.attr("opacity",1).show()),a.attr({text:r}),c=o.borderColor||t.color||l.color||"#606060",a.attr({stroke:c}),this.updatePosition({plotX:i,plotY:n}),this.isHidden=!1),Zt(s,"tooltipRefresh",{text:r,x:i+s.plotLeft,y:n+s.plotTop,borderColor:c})},updatePosition:function(t){var e=this.chart,i=this.label,i=(this.options.positioner||this.getPosition).call(this,i.width,i.height,t);this.move(ht(i.x),ht(i.y),t.plotX+e.plotLeft,t.plotY+e.plotTop)}};var de=Highcharts.Pointer=function(t,e){this.init(t,e)};if(de.prototype={init:function(t,e){var i,n=e.chart,r=n.events,s=At?"":n.zoomType,n=t.inverted;this.options=e,this.chart=t,this.zoomX=i=/x/.test(s),this.zoomY=s=/y/.test(s),this.zoomHor=i&&!n||s&&n,this.zoomVert=s&&!n||i&&n,this.runChartClick=r&&!!r.click,this.pinchDown=[],this.lastValidTouch={},e.tooltip.enabled&&(t.tooltip=new E(t,e.tooltip)),this.setDOMEvents()},normalize:function(e,i){var n,r,e=e||ot.event;return e.target||(e.target=e.srcElement),e=Jt(e),r=e.touches?e.touches.item(0):e,i||(this.chartPosition=i=qt(this.chart.container)),r.pageX===R?(n=dt(e.x,e.clientX-i.left),r=e.y):(n=r.pageX-i.left,r=r.pageY-i.top),t(e,{chartX:ht(n),chartY:ht(r)})},getCoordinates:function(t){var e={xAxis:[],yAxis:[]};return Xt(this.chart.axes,function(i){e[i.isXAxis?"xAxis":"yAxis"].push({axis:i,value:i.toValue(t[i.horiz?"chartX":"chartY"])})}),e},getIndex:function(t){var e=this.chart;return e.inverted?e.plotHeight+e.plotTop-t.chartY:t.chartX-e.plotLeft},runPointActions:function(t){var e,i,n,r,s=this,a=s.chart,o=a.series,l=a.tooltip,h=a.hoverPoint,c=a.hoverSeries,u=a.chartWidth,d=s.getIndex(t);if(l&&s.options.tooltip.shared&&(!c||!c.noSharedTooltip)){for(i=[],n=o.length,r=0;r<n;r++)o[r].visible&&o[r].options.enableMouseTracking!==!1&&!o[r].noSharedTooltip&&o[r].tooltipPoints.length&&(e=o[r].tooltipPoints[d])&&e.series&&(e._dist=ft(d-e.clientX),u=pt(u,e._dist),i.push(e));for(n=i.length;n--;)i[n]._dist>u&&i.splice(n,1);i.length&&i[0].clientX!==s.hoverX&&(l.refresh(i,t),s.hoverX=i[0].clientX)}c&&c.tracker?(e=c.tooltipPoints[d])&&e!==h&&e.onMouseOver(t):l&&l.followPointer&&!l.isHidden&&(o=l.getAnchor([{}],t),l.updatePosition({plotX:o[0],plotY:o[1]})),l&&!s._onDocumentMouseMove&&(s._onDocumentMouseMove=function(t){s.onDocumentMouseMove(t)},Vt(at,"mousemove",s._onDocumentMouseMove)),Xt(a.axes,function(i){i.drawCrosshair(t,p(e,h))})},reset:function(t){var e=this.chart,i=e.hoverSeries,n=e.hoverPoint,r=e.tooltip,s=r&&r.shared?e.hoverPoints:n;(t=t&&r&&s)&&d(s)[0].plotX===R&&(t=!1),t?(r.refresh(s),n&&n.setState(n.state,!0)):(n&&n.onMouseOut(),i&&i.onMouseOut(),r&&r.hide(),this._onDocumentMouseMove&&(Kt(at,"mousemove",this._onDocumentMouseMove),this._onDocumentMouseMove=null),Xt(e.axes,function(t){t.hideCrosshair()}),this.hoverX=null)},scaleGroups:function(t,e){var i,n=this.chart;Xt(n.series,function(r){i=t||r.getPlotBox(),r.xAxis&&r.xAxis.zoomEnabled&&(r.group.attr(i),r.markerGroup&&(r.markerGroup.attr(i),r.markerGroup.clip(e?n.clipRect:null)),r.dataLabelsGroup&&r.dataLabelsGroup.attr(i))}),n.clipRect.attr(e||n.clipBox)},pinchTranslate:function(t,e,i,n,r,s,a,o){t&&this.pinchTranslateDirection(!0,i,n,r,s,a,o),e&&this.pinchTranslateDirection(!1,i,n,r,s,a,o)},pinchTranslateDirection:function(t,e,i,n,r,s,a,o){var l,h,c,u=this.chart,d=t?"x":"y",p=t?"X":"Y",f="chart"+p,g=t?"width":"height",m=u["plot"+(t?"Left":"Top")],y=o||1,v=u.inverted,x=u.bounds[t?"h":"v"],b=1===e.length,_=e[0][f],k=i[0][f],w=!b&&e[1][f],D=!b&&i[1][f],i=function(){!b&&ft(_-w)>20&&(y=o||ft(k-D)/ft(_-w)),h=(m-k)/y+_,l=u["plot"+(t?"Width":"Height")]/y};i(),e=h,e<x.min?(e=x.min,c=!0):e+l>x.max&&(e=x.max-l,c=!0),c?(k-=.8*(k-a[d][0]),b||(D-=.8*(D-a[d][1])),i()):a[d]=[k,D],v||(s[d]=h-m,s[g]=l),s=v?1/y:y,r[g]=l,r[d]=e,n[v?t?"scaleY":"scaleX":"scale"+p]=y,n["translate"+p]=s*m+(k-s*_)},pinch:function(e){var i=this,n=i.chart,r=i.pinchDown,s=n.tooltip&&n.tooltip.options.followTouchMove,a=e.touches,o=a.length,l=i.lastValidTouch,h=i.zoomHor||i.pinchHor,c=i.zoomVert||i.pinchVert,u=h||c,d=i.selectionMarker,p={},f=1===o&&(i.inClass(e.target,"highcharts-tracker")&&n.runTrackerClick||n.runChartClick),g={};(u||s)&&!f&&e.preventDefault(),Ut(a,function(t){return i.normalize(t)}),"touchstart"===e.type?(Xt(a,function(t,e){r[e]={chartX:t.chartX,chartY:t.chartY}}),l.x=[r[0].chartX,r[1]&&r[1].chartX],l.y=[r[0].chartY,r[1]&&r[1].chartY],Xt(n.axes,function(t){if(t.zoomEnabled){var e=n.bounds[t.horiz?"h":"v"],i=t.minPixelPadding,r=t.toPixels(t.dataMin),s=t.toPixels(t.dataMax),a=pt(r,s),r=dt(r,s);e.min=pt(t.pos,a-i),e.max=dt(t.pos+t.len,r+i)}})):r.length&&(d||(i.selectionMarker=d=t({destroy:Lt},n.plotBox)),i.pinchTranslate(h,c,r,a,p,d,g,l),i.hasPinched=u,i.scaleGroups(p,g),!u&&s&&1===o&&this.runPointActions(i.normalize(e)))},dragStart:function(t){var e=this.chart;e.mouseIsDown=t.type,e.cancelClick=!1,e.mouseDownX=this.mouseDownX=t.chartX,e.mouseDownY=this.mouseDownY=t.chartY},drag:function(t){var e,i=this.chart,n=i.options.chart,r=t.chartX,s=t.chartY,a=this.zoomHor,o=this.zoomVert,l=i.plotLeft,h=i.plotTop,c=i.plotWidth,u=i.plotHeight,d=this.mouseDownX,p=this.mouseDownY;r<l?r=l:r>l+c&&(r=l+c),s<h?s=h:s>h+u&&(s=h+u),this.hasDragged=Math.sqrt(Math.pow(d-r,2)+Math.pow(p-s,2)),this.hasDragged>10&&(e=i.isInsidePlot(d-l,p-h),i.hasCartesianSeries&&(this.zoomX||this.zoomY)&&e&&!this.selectionMarker&&(this.selectionMarker=i.renderer.rect(l,h,a?1:c,o?1:u,0).attr({fill:n.selectionMarkerFill||"rgba(69,114,167,0.25)",zIndex:7}).add()),this.selectionMarker&&a&&(r-=d,this.selectionMarker.attr({width:ft(r),x:(r>0?0:r)+d})),this.selectionMarker&&o&&(r=s-p,this.selectionMarker.attr({height:ft(r),y:(r>0?0:r)+p})),e&&!this.selectionMarker&&n.panning&&i.pan(t,n.panning))},drop:function(e){var i=this.chart,n=this.hasPinched;if(this.selectionMarker){var r,s={xAxis:[],yAxis:[],originalEvent:e.originalEvent||e},a=this.selectionMarker,o=a.x,l=a.y;(this.hasDragged||n)&&(Xt(i.axes,function(t){if(t.zoomEnabled){var e=t.horiz,i=t.toValue(e?o:l),e=t.toValue(e?o+a.width:l+a.height);!isNaN(i)&&!isNaN(e)&&(s[t.coll].push({axis:t,min:pt(i,e),max:dt(i,e)}),r=!0)}}),r&&Zt(i,"selection",s,function(e){i.zoom(t(e,n?{animation:!1}:null))})),this.selectionMarker=this.selectionMarker.destroy(),n&&this.scaleGroups()}i&&(f(i.container,{cursor:i._cursor}),i.cancelClick=this.hasDragged>10,i.mouseIsDown=this.hasDragged=this.hasPinched=!1,this.pinchDown=[])},onContainerMouseDown:function(t){t=this.normalize(t),t.preventDefault&&t.preventDefault(),this.dragStart(t)},onDocumentMouseUp:function(t){this.drop(t)},onDocumentMouseMove:function(t){var e=this.chart,i=this.chartPosition,n=e.hoverSeries,t=this.normalize(t,i);i&&n&&!this.inClass(t.target,"highcharts-tracker")&&!e.isInsidePlot(t.chartX-e.plotLeft,t.chartY-e.plotTop)&&this.reset()},onContainerMouseLeave:function(){this.reset(),this.chartPosition=null},onContainerMouseMove:function(t){var e=this.chart,t=this.normalize(t);"mousedown"===e.mouseIsDown&&this.drag(t),(this.inClass(t.target,"highcharts-tracker")||e.isInsidePlot(t.chartX-e.plotLeft,t.chartY-e.plotTop))&&!e.openMenu&&this.runPointActions(t)},inClass:function(t,e){for(var i;t;){if(i=u(t,"class")){if(i.indexOf(e)!==-1)return!0;if(i.indexOf("highcharts-container")!==-1)return!1}t=t.parentNode}},onTrackerMouseOut:function(t){var e=this.chart.hoverSeries,i=(t=t.relatedTarget||t.toElement)&&t.point&&t.point.series;!e||e.options.stickyTracking||this.inClass(t,"highcharts-tooltip")||i===e||e.onMouseOut()},onContainerClick:function(e){var i,n,r,s=this.chart,a=s.hoverPoint,o=s.plotLeft,l=s.plotTop,h=s.inverted,e=this.normalize(e);e.cancelBubble=!0,s.cancelClick||(a&&this.inClass(e.target,"highcharts-tracker")?(i=this.chartPosition,n=a.plotX,r=a.plotY,t(a,{pageX:i.left+o+(h?s.plotWidth-r:n),pageY:i.top+l+(h?s.plotHeight-n:r)}),Zt(a.series,"click",t(e,{point:a})),s.hoverPoint&&a.firePointEvent("click",e)):(t(e,this.getCoordinates(e)),s.isInsidePlot(e.chartX-o,e.chartY-l)&&Zt(s,"click",e)))},onContainerTouchStart:function(t){var e=this.chart;1===t.touches.length?(t=this.normalize(t),e.isInsidePlot(t.chartX-e.plotLeft,t.chartY-e.plotTop)?(this.runPointActions(t),this.pinch(t)):this.reset()):2===t.touches.length&&this.pinch(t)},onContainerTouchMove:function(t){(1===t.touches.length||2===t.touches.length)&&this.pinch(t)},onDocumentTouchEnd:function(t){this.drop(t)},setDOMEvents:function(){var t,e=this,i=e.chart.container;this._events=t=[[i,"onmousedown","onContainerMouseDown"],[i,"onmousemove","onContainerMouseMove"],[i,"onclick","onContainerClick"],[i,"mouseleave","onContainerMouseLeave"],[at,"mouseup","onDocumentMouseUp"]],jt&&t.push([i,"ontouchstart","onContainerTouchStart"],[i,"ontouchmove","onContainerTouchMove"],[at,"touchend","onDocumentTouchEnd"]),Xt(t,function(t){e["_"+t[2]]=function(i){e[t[2]](i)},0===t[1].indexOf("on")?t[0][t[1]]=e["_"+t[2]]:Vt(t[0],t[1],e["_"+t[2]])})},destroy:function(){var t=this;Xt(t._events,function(e){0===e[1].indexOf("on")?e[0][e[1]]=null:Kt(e[0],e[1],t["_"+e[2]])}),delete t._events,clearInterval(t.tooltipTimeout)}},Ht=Highcharts.TrackerMixin={drawTrackerPoint:function(){var t=this,e=t.chart,i=e.pointer,n=t.options.cursor,r=n&&{cursor:n},s=function(i){var n,r=i.target;for(e.hoverSeries!==t&&t.onMouseOver();r&&!n;)n=r.point,r=r.parentNode;n!==R&&n!==e.hoverPoint&&n.onMouseOver(i)};Xt(t.points,function(t){t.graphic&&(t.graphic.element.point=t),t.dataLabel&&(t.dataLabel.element.point=t)}),t._hasTracking||(Xt(t.trackerGroups,function(e){t[e]&&(t[e].addClass("highcharts-tracker").on("mouseover",s).on("mouseout",function(t){i.onTrackerMouseOut(t)}).css(r),jt)&&t[e].on("touchstart",s)}),t._hasTracking=!0)},drawTrackerGraph:function(){var t,e=this,i=e.options,n=i.trackByArea,r=[].concat(n?e.areaPath:e.graphPath),s=r.length,a=e.chart,o=a.pointer,l=a.renderer,h=a.options.tooltip.snap,c=e.tracker,u=i.cursor,d=u&&{cursor:u},u=e.singlePoints,p=function(){a.hoverSeries!==e&&e.onMouseOver()};if(s&&!n)for(t=s+1;t--;)"M"===r[t]&&r.splice(t+1,0,r[t+1]-h,r[t+2],"L"),(t&&"M"===r[t]||t===s)&&r.splice(t,0,"L",r[t-2]+h,r[t-1]);for(t=0;t<u.length;t++)s=u[t],r.push("M",s.plotX-h,s.plotY,"L",s.plotX+h,s.plotY);c?c.attr({d:r}):(e.tracker=l.path(r).attr({"stroke-linejoin":"round",visibility:e.visible?"visible":"hidden",stroke:Bt,fill:n?Bt:Nt,"stroke-width":i.lineWidth+(n?0:2*h),zIndex:2}).add(e.group),Xt([e.tracker,e.markerGroup],function(t){t.addClass("highcharts-tracker").on("mouseover",p).on("mouseout",function(t){o.onTrackerMouseOut(t)}).css(d),jt&&t.on("touchstart",p)}))}},ot.PointerEvent||ot.MSPointerEvent){var pe={};de.prototype.getWebkitTouches=function(){var t,e=[];e.item=function(t){return this[t]};for(t in pe)pe.hasOwnProperty(t)&&e.push({pageX:pe[t].pageX,pageY:pe[t].pageY,target:pe[t].target});return e},x(de.prototype,"init",function(t,e,i){e.container.style["-ms-touch-action"]=e.container.style["touch-action"]="none",t.call(this,e,i)}),x(de.prototype,"setDOMEvents",function(t){var e=this;t.apply(this,Array.prototype.slice.call(arguments,1)),Xt([[this.chart.container,"PointerDown","touchstart","onContainerTouchStart",function(t){pe[t.pointerId]={pageX:t.pageX,pageY:t.pageY,target:t.currentTarget}}],[this.chart.container,"PointerMove","touchmove","onContainerTouchMove",function(t){pe[t.pointerId]={pageX:t.pageX,pageY:t.pageY},pe[t.pointerId].target||(pe[t.pointerId].target=t.currentTarget)}],[document,"PointerUp","touchend","onDocumentTouchEnd",function(t){delete pe[t.pointerId]}]],function(t){Vt(t[0],window.PointerEvent?t[1].toLowerCase():"MS"+t[1],function(i){i=i.originalEvent,"touch"!==i.pointerType&&i.pointerType!==i.MSPOINTER_TYPE_TOUCH||(t[4](i),e[t[3]]({type:t[2],target:i.currentTarget,preventDefault:Lt,touches:e.getWebkitTouches()}))})})})}var fe=Highcharts.Legend=function(t,e){this.init(t,e)};fe.prototype={init:function(t,n){var r=this,s=n.itemStyle,a=p(n.padding,8),o=n.itemMarginTop||0;this.options=n,n.enabled&&(r.baseline=i(s.fontSize)+3+o,r.itemStyle=s,r.itemHiddenStyle=e(s,n.itemHiddenStyle),r.itemMarginTop=o,r.padding=a,r.initialItemX=a,r.initialItemY=a-5,r.maxItemWidth=0,r.chart=t,r.itemHeight=0,r.lastLineHeight=0,r.symbolWidth=p(n.symbolWidth,16),r.pages=[],r.render(),Vt(r.chart,"endResize",function(){r.positionCheckboxes()}))},colorizeItem:function(t,e){var i,n=this.options,r=t.legendItem,s=t.legendLine,a=t.legendSymbol,o=this.itemHiddenStyle.color,n=e?n.itemStyle.color:o,l=e?t.legendColor||t.color:o,o=t.options&&t.options.marker,h={stroke:l,fill:l};if(r&&r.css({fill:n,color:n}),s&&s.attr({stroke:l}),a){if(o&&a.isMarker)for(i in o=t.convertAttribs(o))r=o[i],r!==R&&(h[i]=r);a.attr(h)}},positionItem:function(t){var e=this.options,i=e.symbolPadding,e=!e.rtl,n=t._legendItemPos,r=n[0],n=n[1],s=t.checkbox;t.legendGroup&&t.legendGroup.translate(e?r:this.legendWidth-r-2*i-4,n),s&&(s.x=r,s.y=n)},destroyItem:function(t){var e=t.checkbox;Xt(["legendItem","legendLine","legendSymbol","legendGroup"],function(e){t[e]&&(t[e]=t[e].destroy())}),e&&M(t.checkbox)},destroy:function(){var t=this.group,e=this.box;e&&(this.box=e.destroy()),t&&(this.group=t.destroy())},positionCheckboxes:function(t){var e,i=this.group.alignAttr,n=this.clipHeight||this.legendHeight;i&&(e=i.translateY,Xt(this.allItems,function(r){var s,a=r.checkbox;a&&(s=e+a.y+(t||0)+3,f(a,{left:i.translateX+r.legendItemWidth+a.x-20+"px",top:s+"px",display:s>e-6&&s<e+n-6?"":Nt}))}))},renderTitle:function(){var t=this.padding,e=this.options.title,i=0;e.text&&(this.title||(this.title=this.chart.renderer.label(e.text,t-3,t-4,null,null,null,null,null,"legend-title").attr({zIndex:1}).css(e.style).add(this.group)),t=this.title.getBBox(),i=t.height,this.offsetWidth=t.width,this.contentGroup.attr({translateY:i})),this.titleHeight=i},renderItem:function(t){var i,n=this,r=n.chart,s=r.renderer,a=n.options,o="horizontal"===a.layout,l=n.symbolWidth,h=a.symbolPadding,c=n.itemStyle,u=n.itemHiddenStyle,d=n.padding,f=o?p(a.itemDistance,8):0,m=!a.rtl,y=a.width,v=a.itemMarginBottom||0,x=n.itemMarginTop,_=n.initialItemX,k=t.legendItem,w=t.series&&t.series.drawLegendSymbol?t.series:t,D=w.options,D=D&&D.showCheckbox,C=a.useHTML;!k&&(t.legendGroup=s.g("legend-item").attr({zIndex:1}).add(n.scrollGroup),w.drawLegendSymbol(n,t),t.legendItem=k=s.text(a.labelFormat?b(a.labelFormat,t):a.labelFormatter.call(t),m?l+h:-h,n.baseline,C).css(e(t.visible?c:u)).attr({align:m?"left":"right",zIndex:2}).add(t.legendGroup),(C?k:t.legendGroup).on("mouseover",function(){t.setState("hover"),k.css(n.options.itemHoverStyle)}).on("mouseout",function(){k.css(t.visible?c:u),t.setState()}).on("click",function(e){var i=function(){t.setVisible()},e={browserEvent:e};t.firePointEvent?t.firePointEvent("legendItemClick",e,i):Zt(t,"legendItemClick",e,i)}),n.colorizeItem(t,t.visible),D)&&(t.checkbox=g("input",{type:"checkbox",checked:t.selected,defaultChecked:t.selected},a.itemCheckboxStyle,r.container),Vt(t.checkbox,"click",function(e){Zt(t,"checkboxClick",{checked:e.target.checked},function(){t.select()})})),s=k.getBBox(),i=t.legendItemWidth=a.itemWidth||t.legendItemWidth||l+h+s.width+f+(D?20:0),a=i,n.itemHeight=l=ht(t.legendItemHeight||s.height),o&&n.itemX-_+a>(y||r.chartWidth-2*d-_)&&(n.itemX=_,n.itemY+=x+n.lastLineHeight+v,n.lastLineHeight=0),n.maxItemWidth=dt(n.maxItemWidth,a),n.lastItemY=x+n.itemY+v,n.lastLineHeight=dt(l,n.lastLineHeight),t._legendItemPos=[n.itemX,n.itemY],o?n.itemX+=a:(n.itemY+=x+l+v,n.lastLineHeight=l),n.offsetWidth=y||dt((o?n.itemX-_-f:a)+d,n.offsetWidth)},getAllItems:function(){var t=[];return Xt(this.chart.series,function(e){var i=e.options;p(i.showInLegend,!c(i.linkedTo)&&R,!0)&&(t=t.concat(e.legendItems||("point"===i.legendType?e.data:e)))}),t},render:function(){var e,i,n,r,s=this,a=s.chart,o=a.renderer,l=s.group,h=s.box,c=s.options,u=s.padding,d=c.borderWidth,p=c.backgroundColor;s.itemX=s.initialItemX,s.itemY=s.initialItemY,s.offsetWidth=0,s.lastItemY=0,l||(s.group=l=o.g("legend").attr({zIndex:7}).add(),s.contentGroup=o.g().attr({zIndex:1}).add(l),s.scrollGroup=o.g().add(s.contentGroup)),s.renderTitle(),e=s.getAllItems(),D(e,function(t,e){return(t.options&&t.options.legendIndex||0)-(e.options&&e.options.legendIndex||0)}),c.reversed&&e.reverse(),s.allItems=e,s.display=i=!!e.length,Xt(e,function(t){s.renderItem(t)}),n=c.width||s.offsetWidth,r=s.lastItemY+s.lastLineHeight+s.titleHeight,r=s.handleOverflow(r),(d||p)&&(n+=u,r+=u,h?n>0&&r>0&&(h[h.isNew?"attr":"animate"](h.crisp(null,null,null,n,r)),h.isNew=!1):(s.box=h=o.rect(0,0,n,r,c.borderRadius,d||0).attr({stroke:c.borderColor,"stroke-width":d||0,fill:p||Nt}).add(l).shadow(c.shadow),h.isNew=!0),h[i?"show":"hide"]()),s.legendWidth=n,s.legendHeight=r,Xt(e,function(t){s.positionItem(t)}),i&&l.align(t({width:n,height:r},c),!0,"spacingBox"),a.isResizing||this.positionCheckboxes()},handleOverflow:function(t){var e,i,n=this,r=this.chart,s=r.renderer,a=this.options,o=a.y,o=r.spacingBox.height+("top"===a.verticalAlign?-o:o)-this.padding,l=a.maxHeight,h=this.clipRect,c=a.navigation,u=p(c.animation,!0),d=c.arrowSize||12,f=this.nav,g=this.pages,m=this.allItems;return"horizontal"===a.layout&&(o/=2),l&&(o=pt(o,l)),g.length=0,t>o&&!a.useHTML?(this.clipHeight=e=o-20-this.titleHeight-this.padding,this.currentPage=p(this.currentPage,1),this.fullHeight=t,Xt(m,function(t,n){var r=t._legendItemPos[1],s=ht(t.legendItem.bBox.height),a=g.length;(!a||r-g[a-1]>e)&&g.push(i||r),n===m.length-1&&r+s-g[a-1]>e&&g.push(r),r!==i&&(i=r)}),h||(h=n.clipRect=s.clipRect(0,this.padding,9999,0),n.contentGroup.clip(h)),h.attr({height:e}),f||(this.nav=f=s.g().attr({zIndex:1}).add(this.group),this.up=s.symbol("triangle",0,0,d,d).on("click",function(){n.scroll(-1,u)}).add(f),this.pager=s.text("",15,10).css(c.style).add(f),this.down=s.symbol("triangle-down",0,0,d,d).on("click",function(){n.scroll(1,u)}).add(f)),n.scroll(0),t=o):f&&(h.attr({height:r.chartHeight}),f.hide(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0),t},scroll:function(t,e){var i=this.pages,n=i.length,r=this.currentPage+t,s=this.clipHeight,a=this.options.navigation,o=a.activeColor,a=a.inactiveColor,l=this.pager,h=this.padding;r>n&&(r=n),r>0&&(e!==R&&P(e,this.chart),this.nav.attr({translateX:h,translateY:s+this.padding+7+this.titleHeight,visibility:"visible"}),this.up.attr({fill:1===r?a:o}).css({cursor:1===r?"default":"pointer"}),l.attr({text:r+"/"+n}),this.down.attr({x:18+this.pager.getBBox().width,fill:r===n?a:o}).css({cursor:r===n?"default":"pointer"}),i=-i[r-1]+this.initialItemY,this.scrollGroup.animate({translateY:i}),this.currentPage=r,this.positionCheckboxes(i))}},le=Highcharts.LegendSymbolMixin={drawRectangle:function(t,e){var i=t.options.symbolHeight||12;e.legendSymbol=this.chart.renderer.rect(0,t.baseline-5-i/2,t.symbolWidth,i,p(t.options.symbolRadius,2)).attr({zIndex:3}).add(e.legendGroup)},drawLineMarker:function(t){var e,i=this.options,n=i.marker;e=t.symbolWidth;var r,s=this.chart.renderer,a=this.legendGroup,t=t.baseline-ht(.3*s.fontMetrics(t.options.itemStyle.fontSize).b);i.lineWidth&&(r={"stroke-width":i.lineWidth},i.dashStyle&&(r.dashstyle=i.dashStyle),this.legendLine=s.path(["M",0,t,"L",e,t]).attr(r).add(a)),n&&n.enabled&&(i=n.radius,this.legendSymbol=e=s.symbol(this.symbol,e/2-i,t-i,2*i,2*i).add(a),e.isMarker=!0)}},/Trident\/7\.0/.test(xt)&&x(fe.prototype,"positionItem",function(t,e){var i=this,n=function(){e._legendItemPos&&t.call(i,e)};i.chart.renderer.forExport?n():setTimeout(n)}),B.prototype={init:function(t,i){var n,r=t.series;t.series=null,n=e(H,t),n.series=t.series=r,this.userOptions=t,r=n.chart,this.margin=this.splashArray("margin",r),this.spacing=this.splashArray("spacing",r);var s=r.events;this.bounds={h:{},v:{}},this.callback=i,this.isResizing=0,this.options=n,this.axes=[],this.series=[],this.hasCartesianSeries=r.showAxes;var a,o=this;if(o.index=$t.length,$t.push(o),r.reflow!==!1&&Vt(o,"load",function(){o.initReflow()}),s)for(a in s)Vt(o,a,s[a]);o.xAxis=[],o.yAxis=[],o.animation=!At&&p(r.animation,!0),o.pointCount=0,o.counters=new w,o.firstRender()},initSeries:function(t){var e=this.options.chart;return(e=Yt[t.type||e.type||e.defaultSeriesType])||A(17,!0),e=new e,e.init(this,t),e},isInsidePlot:function(t,e,i){var n=i?e:t,t=i?t:e;return n>=0&&n<=this.plotWidth&&t>=0&&t<=this.plotHeight},adjustTickAmounts:function(){this.options.chart.alignTicks!==!1&&Xt(this.axes,function(t){t.adjustTickAmount()}),this.maxTicks=null},redraw:function(e){var i,n,r=this.axes,s=this.series,a=this.pointer,o=this.legend,l=this.isDirtyLegend,h=this.isDirtyBox,c=s.length,u=c,d=this.renderer,p=d.isHidden(),f=[];for(P(e,this),p&&this.cloneRenderTo(),this.layOutTitles();u--;)if(e=s[u],e.options.stacking&&(i=!0,e.isDirty)){n=!0;break}if(n)for(u=c;u--;)e=s[u],e.options.stacking&&(e.isDirty=!0);Xt(s,function(t){t.isDirty&&"point"===t.options.legendType&&(l=!0)}),l&&o.options.enabled&&(o.render(),this.isDirtyLegend=!1),i&&this.getStacks(),this.hasCartesianSeries&&(this.isResizing||(this.maxTicks=null,Xt(r,function(t){t.setScale()})),this.adjustTickAmounts(),this.getMargins(),Xt(r,function(t){t.isDirty&&(h=!0)}),Xt(r,function(e){e.isDirtyExtremes&&(e.isDirtyExtremes=!1,f.push(function(){Zt(e,"afterSetExtremes",t(e.eventArgs,e.getExtremes())),delete e.eventArgs})),(h||i)&&e.redraw()})),h&&this.drawChartBox(),Xt(s,function(t){t.isDirty&&t.visible&&(!t.isCartesian||t.xAxis)&&t.redraw()}),a&&a.reset&&a.reset(!0),d.draw(),Zt(this,"redraw"),p&&this.cloneRenderTo(!0),Xt(f,function(t){t.call()})},get:function(t){var e,i,n=this.axes,r=this.series;for(e=0;e<n.length;e++)if(n[e].options.id===t)return n[e];for(e=0;e<r.length;e++)if(r[e].options.id===t)return r[e];for(e=0;e<r.length;e++)for(i=r[e].points||[],n=0;n<i.length;n++)if(i[n].id===t)return i[n];return null},getAxes:function(){var t=this,e=this.options,i=e.xAxis=d(e.xAxis||{}),e=e.yAxis=d(e.yAxis||{});Xt(i,function(t,e){t.index=e,t.isX=!0}),Xt(e,function(t,e){t.index=e}),i=i.concat(e),Xt(i,function(e){new O(t,e)}),t.adjustTickAmounts()},getSelectedPoints:function(){var t=[];return Xt(this.series,function(e){t=t.concat(Gt(e.points||[],function(t){return t.selected}))}),t},getSelectedSeries:function(){return Gt(this.series,function(t){return t.selected})},getStacks:function(){var t=this;Xt(t.yAxis,function(t){t.stacks&&t.hasVisibleSeries&&(t.oldStacks=t.stacks)}),Xt(t.series,function(e){!e.options.stacking||e.visible!==!0&&t.options.chart.ignoreHiddenSeries!==!1||(e.stackKey=e.type+p(e.options.stack,""))})},showResetZoom:function(){var t=this,e=H.lang,i=t.options.chart.resetZoomButton,n=i.theme,r=n.states,s="chart"===i.relativeTo?null:"plotBox";this.resetZoomButton=t.renderer.button(e.resetZoom,null,null,function(){t.zoomOut()},n,r&&r.hover).attr({align:i.position.align,title:e.resetZoomTitle}).add().align(i.position,!1,s)},zoomOut:function(){var t=this;Zt(t,"selection",{resetSelection:!0},function(){t.zoom()})},zoom:function(t){var e,i,n=this.pointer,s=!1;!t||t.resetSelection?Xt(this.axes,function(t){e=t.zoom()}):Xt(t.xAxis.concat(t.yAxis),function(t){var i=t.axis,r=i.isXAxis;(n[r?"zoomX":"zoomY"]||n[r?"pinchX":"pinchY"])&&(e=i.zoom(t.min,t.max),i.displayBtn&&(s=!0))}),i=this.resetZoomButton,s&&!i?this.showResetZoom():!s&&r(i)&&(this.resetZoomButton=i.destroy()),e&&this.redraw(p(this.options.chart.animation,t&&t.animation,this.pointCount<100))},pan:function(t,e){var i,n=this,r=n.hoverPoints;r&&Xt(r,function(t){t.setState()}),Xt("xy"===e?[1,0]:[1],function(e){var r=t[e?"chartX":"chartY"],s=n[e?"xAxis":"yAxis"][0],a=n[e?"mouseDownX":"mouseDownY"],o=(s.pointRange||0)/2,l=s.getExtremes(),h=s.toValue(a-r,!0)+o,a=s.toValue(a+n[e?"plotWidth":"plotHeight"]-r,!0)-o;s.series.length&&h>pt(l.dataMin,l.min)&&a<dt(l.dataMax,l.max)&&(s.setExtremes(h,a,!1,!1,{trigger:"pan"}),i=!0),n[e?"mouseDownX":"mouseDownY"]=r}),i&&n.redraw(!1),f(n.container,{cursor:"move"})},setTitle:function(t,i){var n,r,s=this,a=s.options;r=a.title=e(a.title,t),n=a.subtitle=e(a.subtitle,i),a=n,Xt([["title",t,r],["subtitle",i,a]],function(t){var e=t[0],i=s[e],n=t[1],t=t[2];i&&n&&(s[e]=i=i.destroy()),t&&t.text&&!i&&(s[e]=s.renderer.text(t.text,0,0,t.useHTML).attr({align:t.align,"class":"highcharts-"+e,zIndex:t.zIndex||4}).css(t.style).add())}),s.layOutTitles()},layOutTitles:function(){var e=0,i=this.title,n=this.subtitle,r=this.options,s=r.title,r=r.subtitle,a=this.spacingBox.width-44;!i||(i.css({width:(s.width||a)+"px"}).align(t({y:15},s),!1,"spacingBox"),s.floating||s.verticalAlign)||(e=i.getBBox().height,e>=18&&e<=25&&(e=15)),n&&(n.css({width:(r.width||a)+"px"}).align(t({y:e+s.margin},r),!1,"spacingBox"),!r.floating&&!r.verticalAlign&&(e=ut(e+n.getBBox().height))),this.titleOffset=e},getChartSize:function(){var t=this.options.chart,e=this.renderToClone||this.renderTo;this.containerWidth=Ft(e,"width"),this.containerHeight=Ft(e,"height"),this.chartWidth=dt(0,t.width||this.containerWidth||600),this.chartHeight=dt(0,p(t.height,this.containerHeight>19?this.containerHeight:400))},cloneRenderTo:function(t){var e=this.renderToClone,i=this.container;t?e&&(this.renderTo.appendChild(i),M(e),delete this.renderToClone):(i&&i.parentNode===this.renderTo&&this.renderTo.removeChild(i),this.renderToClone=e=this.renderTo.cloneNode(0),f(e,{position:"absolute",top:"-9999px",display:"block"}),at.body.appendChild(e),i&&e.appendChild(i))},getContainer:function(){var e,r,s,a,o=this.options.chart;this.renderTo=e=o.renderTo,a="highcharts-"+It++,n(e)&&(this.renderTo=e=at.getElementById(e)),e||A(13,!0),r=i(u(e,"data-highcharts-chart")),!isNaN(r)&&$t[r]&&$t[r].destroy(),
u(e,"data-highcharts-chart",this.index),e.innerHTML="",e.offsetWidth||this.cloneRenderTo(),this.getChartSize(),r=this.chartWidth,s=this.chartHeight,this.container=e=g(Ot,{className:"highcharts-container"+(o.className?" "+o.className:""),id:a},t({position:"relative",overflow:"hidden",width:r+"px",height:s+"px",textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)"},o.style),this.renderToClone||e),this._cursor=e.style.cursor,this.renderer=o.forExport?new oe(e,r,s,(!0)):new Y(e,r,s),At&&this.renderer.create(this,e,r,s)},getMargins:function(){var t,e=this.spacing,i=this.legend,n=this.margin,r=this.options.legend,s=p(r.margin,10),a=r.x,o=r.y,l=r.align,h=r.verticalAlign,u=this.titleOffset;this.resetMargins(),t=this.axisOffset,u&&!c(n[0])&&(this.plotTop=dt(this.plotTop,u+this.options.title.margin+e[0])),i.display&&!r.floating&&("right"===l?c(n[1])||(this.marginRight=dt(this.marginRight,i.legendWidth-a+s+e[1])):"left"===l?c(n[3])||(this.plotLeft=dt(this.plotLeft,i.legendWidth+a+s+e[3])):"top"===h?c(n[0])||(this.plotTop=dt(this.plotTop,i.legendHeight+o+s+e[0])):"bottom"!==h||c(n[2])||(this.marginBottom=dt(this.marginBottom,i.legendHeight-o+s+e[2]))),this.extraBottomMargin&&(this.marginBottom+=this.extraBottomMargin),this.extraTopMargin&&(this.plotTop+=this.extraTopMargin),this.hasCartesianSeries&&Xt(this.axes,function(t){t.getOffset()}),c(n[3])||(this.plotLeft+=t[3]),c(n[0])||(this.plotTop+=t[0]),c(n[2])||(this.marginBottom+=t[2]),c(n[1])||(this.marginRight+=t[1]),this.setChartSize()},reflow:function(t){var e=this,i=e.options.chart,n=e.renderTo,r=i.width||Ft(n,"width"),s=i.height||Ft(n,"height"),i=t?t.target:ot,n=function(){e.container&&(e.setSize(r,s,!1),e.hasUserSize=null)};e.hasUserSize||!r||!s||i!==ot&&i!==at||(r===e.containerWidth&&s===e.containerHeight||(clearTimeout(e.reflowTimeout),t?e.reflowTimeout=setTimeout(n,100):n()),e.containerWidth=r,e.containerHeight=s)},initReflow:function(){var t=this,e=function(e){t.reflow(e)};Vt(ot,"resize",e),Vt(t,"destroy",function(){Kt(ot,"resize",e)})},setSize:function(t,e,i){var n,r,s,a=this;a.isResizing+=1,s=function(){a&&Zt(a,"endResize",null,function(){a.isResizing-=1})},P(i,a),a.oldChartHeight=a.chartHeight,a.oldChartWidth=a.chartWidth,c(t)&&(a.chartWidth=n=dt(0,ht(t)),a.hasUserSize=!!n),c(e)&&(a.chartHeight=r=dt(0,ht(e))),(W?te:f)(a.container,{width:n+"px",height:r+"px"},W),a.setChartSize(!0),a.renderer.setSize(n,r,i),a.maxTicks=null,Xt(a.axes,function(t){t.isDirty=!0,t.setScale()}),Xt(a.series,function(t){t.isDirty=!0}),a.isDirtyLegend=!0,a.isDirtyBox=!0,a.getMargins(),a.redraw(i),a.oldChartHeight=null,Zt(a,"resize"),W===!1?s():setTimeout(s,W&&W.duration||500)},setChartSize:function(t){var e,i,n,r,s=this.inverted,a=this.renderer,o=this.chartWidth,l=this.chartHeight,h=this.options.chart,c=this.spacing,u=this.clipOffset;this.plotLeft=e=ht(this.plotLeft),this.plotTop=i=ht(this.plotTop),this.plotWidth=n=dt(0,ht(o-e-this.marginRight)),this.plotHeight=r=dt(0,ht(l-i-this.marginBottom)),this.plotSizeX=s?r:n,this.plotSizeY=s?n:r,this.plotBorderWidth=h.plotBorderWidth||0,this.spacingBox=a.spacingBox={x:c[3],y:c[0],width:o-c[3]-c[1],height:l-c[0]-c[2]},this.plotBox=a.plotBox={x:e,y:i,width:n,height:r},o=2*ct(this.plotBorderWidth/2),s=ut(dt(o,u[3])/2),a=ut(dt(o,u[0])/2),this.clipBox={x:s,y:a,width:ct(this.plotSizeX-dt(o,u[1])/2-s),height:ct(this.plotSizeY-dt(o,u[2])/2-a)},t||Xt(this.axes,function(t){t.setAxisSize(),t.setAxisTranslation()})},resetMargins:function(){var t=this.spacing,e=this.margin;this.plotTop=p(e[0],t[0]),this.marginRight=p(e[1],t[1]),this.marginBottom=p(e[2],t[2]),this.plotLeft=p(e[3],t[3]),this.axisOffset=[0,0,0,0],this.clipOffset=[0,0,0,0]},drawChartBox:function(){var t,e=this.options.chart,i=this.renderer,n=this.chartWidth,r=this.chartHeight,s=this.chartBackground,a=this.plotBackground,o=this.plotBorder,l=this.plotBGImage,h=e.borderWidth||0,c=e.backgroundColor,u=e.plotBackgroundColor,d=e.plotBackgroundImage,p=e.plotBorderWidth||0,f=this.plotLeft,g=this.plotTop,m=this.plotWidth,y=this.plotHeight,v=this.plotBox,x=this.clipRect,b=this.clipBox;t=h+(e.shadow?8:0),(h||c)&&(s?s.animate(s.crisp(null,null,null,n-t,r-t)):(s={fill:c||Nt},h&&(s.stroke=e.borderColor,s["stroke-width"]=h),this.chartBackground=i.rect(t/2,t/2,n-t,r-t,e.borderRadius,h).attr(s).add().shadow(e.shadow))),u&&(a?a.animate(v):this.plotBackground=i.rect(f,g,m,y,0).attr({fill:u}).add().shadow(e.plotShadow)),d&&(l?l.animate(v):this.plotBGImage=i.image(d,f,g,m,y).add()),x?x.animate({width:b.width,height:b.height}):this.clipRect=i.clipRect(b),p&&(o?o.animate(o.crisp(null,f,g,m,y)):this.plotBorder=i.rect(f,g,m,y,0,-p).attr({stroke:e.plotBorderColor,"stroke-width":p,zIndex:1}).add()),this.isDirtyBox=!1},propFromSeries:function(){var t,e,i,n=this,r=n.options.chart,s=n.options.series;Xt(["inverted","angular","polar"],function(a){for(t=Yt[r.type||r.defaultSeriesType],i=n[a]||r[a]||t&&t.prototype[a],e=s&&s.length;!i&&e--;)(t=Yt[s[e].type])&&t.prototype[a]&&(i=!0);n[a]=i})},linkSeries:function(){var t=this,e=t.series;Xt(e,function(t){t.linkedSeries.length=0}),Xt(e,function(e){var i=e.options.linkedTo;n(i)&&(i=":previous"===i?t.series[e.index-1]:t.get(i))&&(i.linkedSeries.push(e),e.linkedParent=i)})},render:function(){var e,n=this,r=n.axes,s=n.renderer,a=n.options,o=a.labels,l=a.credits;n.setTitle(),n.legend=new fe(n,a.legend),n.getStacks(),Xt(r,function(t){t.setScale()}),n.getMargins(),n.maxTicks=null,Xt(r,function(t){t.setTickPositions(!0),t.setMaxTicks()}),n.adjustTickAmounts(),n.getMargins(),n.drawChartBox(),n.hasCartesianSeries&&Xt(r,function(t){t.render()}),n.seriesGroup||(n.seriesGroup=s.g("series-group").attr({zIndex:3}).add()),Xt(n.series,function(t){t.translate(),t.setTooltipPoints(),t.render()}),o.items&&Xt(o.items,function(e){var r=t(o.style,e.style),a=i(r.left)+n.plotLeft,l=i(r.top)+n.plotTop+12;delete r.left,delete r.top,s.text(e.html,a,l).attr({zIndex:2}).css(r).add()}),l.enabled&&!n.credits&&(e=l.href,n.credits=s.text(l.text,0,0).on("click",function(){e&&(location.href=e)}).attr({align:l.position.align,zIndex:8}).css(l.style).add().align(l.position)),n.hasRendered=!0},destroy:function(){var t,e=this,i=e.axes,n=e.series,r=e.container,s=r&&r.parentNode;for(Zt(e,"destroy"),$t[e.index]=R,e.renderTo.removeAttribute("data-highcharts-chart"),Kt(e),t=i.length;t--;)i[t]=i[t].destroy();for(t=n.length;t--;)n[t]=n[t].destroy();Xt("title,subtitle,chartBackground,plotBackground,plotBGImage,plotBorder,seriesGroup,clipRect,credits,pointer,scroller,rangeSelector,legend,resetZoomButton,tooltip,renderer".split(","),function(t){var i=e[t];i&&i.destroy&&(e[t]=i.destroy())}),r&&(r.innerHTML="",Kt(r),s&&M(r));for(t in e)delete e[t]},isReadyToRender:function(){var t=this;return!(!St&&ot==ot.top&&"complete"!==at.readyState||At&&!ot.canvg)||(At?ce.push(function(){t.firstRender()},t.options.global.canvasToolsURL):at.attachEvent("onreadystatechange",function(){at.detachEvent("onreadystatechange",t.firstRender),"complete"===at.readyState&&t.firstRender()}),!1)},firstRender:function(){var t=this,e=t.options,i=t.callback;t.isReadyToRender()&&(t.getContainer(),Zt(t,"init"),t.resetMargins(),t.setChartSize(),t.propFromSeries(),t.getAxes(),Xt(e.series||[],function(e){t.initSeries(e)}),t.linkSeries(),Zt(t,"beforeRender"),t.pointer=new de(t,e),t.render(),t.renderer.draw(),i&&i.apply(t,[t]),Xt(t.callbacks,function(e){e.apply(t,[t])}),t.cloneRenderTo(!0),Zt(t,"load"))},splashArray:function(t,e){var i=e[t],i=r(i)?i:[i,i,i,i];return[p(e[t+"Top"],i[0]),p(e[t+"Right"],i[1]),p(e[t+"Bottom"],i[2]),p(e[t+"Left"],i[3])]}},B.prototype.callbacks=[];var he=Highcharts.CenteredSeriesMixin={getCenter:function(){var t,e,n=this.options,r=this.chart,s=2*(n.slicedOffset||0),a=r.plotWidth-2*s,o=r.plotHeight-2*s,r=n.center,n=[p(r[0],"50%"),p(r[1],"50%"),n.size||"100%",n.innerSize||0],l=pt(a,o);return Ut(n,function(n,r){return e=/%$/.test(n),t=r<2||2===r&&e,(e?[a,o,l,l][r]*i(n)/100:n)+(t?s:0)})}},ge=function(){};ge.prototype={init:function(t,e,i){return this.series=t,this.applyOptions(e,i),this.pointAttr={},t.options.colorByPoint&&(e=t.options.colors||t.chart.options.colors,this.color=this.color||e[t.colorCounter++],t.colorCounter===e.length)&&(t.colorCounter=0),t.chart.pointCount++,this},applyOptions:function(e,i){var n=this.series,r=n.pointValKey,e=ge.prototype.optionsToObject.call(this,e);return t(this,e),this.options=this.options?t(this.options,e):e,r&&(this.y=this[r]),this.x===R&&n&&(this.x=i===R?n.autoIncrement():i),this},optionsToObject:function(t){var e={},i=this.series,n=i.pointArrayMap||["y"],r=n.length,a=0,o=0;if("number"==typeof t||null===t)e[n[0]]=t;else if(s(t))for(t.length>r&&(i=typeof t[0],"string"===i?e.name=t[0]:"number"===i&&(e.x=t[0]),a++);o<r;)e[n[o++]]=t[a++];else"object"==typeof t&&(e=t,t.dataLabels&&(i._hasPointLabels=!0),t.marker&&(i._hasPointMarkers=!0));return e},destroy:function(){var t,e=this.series.chart,i=e.hoverPoints;e.pointCount--,i&&(this.setState(),h(i,this),!i.length)&&(e.hoverPoints=null),this===e.hoverPoint&&this.onMouseOut(),(this.graphic||this.dataLabel)&&(Kt(this),this.destroyElements()),this.legendItem&&e.legend.destroyItem(this);for(t in this)this[t]=null},destroyElements:function(){for(var t,e="graphic,dataLabel,dataLabelUpper,group,connector,shadowGroup".split(","),i=6;i--;)t=e[i],this[t]&&(this[t]=this[t].destroy())},getLabelConfig:function(){return{x:this.category,y:this.y,key:this.name||this.category,series:this.series,point:this,percentage:this.percentage,total:this.total||this.stackTotal}},select:function(t,e){var i=this,n=i.series,r=n.chart,t=p(t,!i.selected);i.firePointEvent(t?"select":"unselect",{accumulate:e},function(){i.selected=i.options.selected=t,n.options.data[Qt(i,n.data)]=i.options,i.setState(t&&"select"),e||Xt(r.getSelectedPoints(),function(t){t.selected&&t!==i&&(t.selected=t.options.selected=!1,n.options.data[Qt(t,n.data)]=t.options,t.setState(""),t.firePointEvent("unselect"))})})},onMouseOver:function(t){var e=this.series,i=e.chart,n=i.tooltip,r=i.hoverPoint;r&&r!==this&&r.onMouseOut(),this.firePointEvent("mouseOver"),n&&(!n.shared||e.noSharedTooltip)&&n.refresh(this,t),this.setState("hover"),i.hoverPoint=this},onMouseOut:function(){var t=this.series.chart,e=t.hoverPoints;e&&Qt(this,e)!==-1||(this.firePointEvent("mouseOut"),this.setState(),t.hoverPoint=null)},tooltipFormatter:function(t){var e=this.series,i=e.tooltipOptions,n=p(i.valueDecimals,""),r=i.valuePrefix||"",s=i.valueSuffix||"";return Xt(e.pointArrayMap||["y"],function(e){e="{point."+e,(r||s)&&(t=t.replace(e+"}",r+e+"}"+s)),t=t.replace(e+"}",e+":,."+n+"f}")}),b(t,{point:this,series:this.series})},firePointEvent:function(t,e,i){var n=this,r=this.series.options;(r.point.events[t]||n.options&&n.options.events&&n.options.events[t])&&this.importEvents(),"click"===t&&r.allowPointSelect&&(i=function(t){n.select(null,t.ctrlKey||t.metaKey||t.shiftKey)}),Zt(this,t,e,i)},importEvents:function(){if(!this.hasImportedEvents){var t,i=e(this.series.options.point,this.options).events;this.events=i;for(t in i)Vt(this,t,i[t]);this.hasImportedEvents=!0}},setState:function(t,i){var n=this.plotX,r=this.plotY,s=this.series,a=s.options.states,o=ie[s.type].marker&&s.options.marker,l=o&&!o.enabled,h=o&&o.states[t],c=h&&h.enabled===!1,u=s.stateMarkerGraphic,d=this.marker||{},p=s.chart,f=this.pointAttr,t=t||"",i=i&&u;t===this.state&&!i||this.selected&&"select"!==t||a[t]&&a[t].enabled===!1||t&&(c||l&&!h.enabled)||t&&d.states&&d.states[t]&&d.states[t].enabled===!1||(this.graphic?(a=o&&this.graphic.symbolName&&f[t].r,this.graphic.attr(e(f[t],a?{x:n-a,y:r-a,width:2*a,height:2*a}:{}))):(t&&h&&(a=h.radius,d=d.symbol||s.symbol,u&&u.currentSymbol!==d&&(u=u.destroy()),u?u[i?"animate":"attr"]({x:n-a,y:r-a}):(s.stateMarkerGraphic=u=p.renderer.symbol(d,n-a,r-a,2*a,2*a).attr(f[t]).add(s.markerGroup),u.currentSymbol=d)),u&&u[t&&p.isInsidePlot(n,r,p.inverted)?"show":"hide"]()),this.state=t)}};var me=function(){};me.prototype={isCartesian:!0,type:"line",pointClass:ge,sorted:!0,requireSorting:!0,pointAttrToOptions:{stroke:"lineColor","stroke-width":"lineWidth",fill:"fillColor",r:"radius"},axisTypes:["xAxis","yAxis"],colorCounter:0,parallelArrays:["x","y"],init:function(e,i){var n,r,s=this,a=e.series,o=function(t,e){return p(t.options.index,t._i)-p(e.options.index,e._i)};s.chart=e,s.options=i=s.setOptions(i),s.linkedSeries=[],s.bindAxes(),t(s,{name:i.name,state:"",pointAttr:{},visible:i.visible!==!1,selected:i.selected===!0}),At&&(i.animation=!1),r=i.events;for(n in r)Vt(s,n,r[n]);(r&&r.click||i.point&&i.point.events&&i.point.events.click||i.allowPointSelect)&&(e.runTrackerClick=!0),s.getColor(),s.getSymbol(),Xt(s.parallelArrays,function(t){s[t+"Data"]=[]}),s.setData(i.data,!1),s.isCartesian&&(e.hasCartesianSeries=!0),a.push(s),s._i=a.length-1,D(a,o),this.yAxis&&D(this.yAxis.series,o),Xt(a,function(t,e){t.index=e,t.name=t.name||"Series "+(e+1)})},bindAxes:function(){var t,e=this,i=e.options,n=e.chart;Xt(e.axisTypes||[],function(r){Xt(n[r],function(n){t=n.options,(i[r]===t.index||i[r]!==R&&i[r]===t.id||i[r]===R&&0===t.index)&&(n.series.push(e),e[r]=n,n.isDirty=!0)}),!e[r]&&e.optionalAxis!==r&&A(18,!0)})},updateParallelArrays:function(t,e){var i=t.series,n=arguments;Xt(i.parallelArrays,"number"==typeof e?function(n){var r="y"===n&&i.toYData?i.toYData(t):t[n];i[n+"Data"][e]=r}:function(t){Array.prototype[e].apply(i[t+"Data"],Array.prototype.slice.call(n,2))})},autoIncrement:function(){var t=this.options,e=this.xIncrement,e=p(e,t.pointStart,0);return this.pointInterval=p(this.pointInterval,t.pointInterval,1),this.xIncrement=e+this.pointInterval,e},getSegments:function(){var t,e=-1,i=[],n=this.points,r=n.length;if(r)if(this.options.connectNulls){for(t=r;t--;)null===n[t].y&&n.splice(t,1);n.length&&(i=[n])}else Xt(n,function(t,s){null===t.y?(s>e+1&&i.push(n.slice(e+1,s)),e=s):s===r-1&&i.push(n.slice(e+1,s+1))});this.segments=i},setOptions:function(t){var i=this.chart,n=i.options.plotOptions,i=i.userOptions||{},r=i.plotOptions||{},s=n[this.type];return this.userOptions=t,n=e(s,n.series,t),this.tooltipOptions=e(H.tooltip,H.plotOptions[this.type].tooltip,i.tooltip,r.series&&r.series.tooltip,r[this.type]&&r[this.type].tooltip,t.tooltip),null===s.marker&&delete n.marker,n},getColor:function(){var t,e=this.options,i=this.userOptions,n=this.chart.options.colors,r=this.chart.counters;t=e.color||ie[this.type].color,t||e.colorByPoint||(c(i._colorIndex)?e=i._colorIndex:(i._colorIndex=r.color,e=r.color++),t=n[e]),this.color=t,r.wrapColor(n.length)},getSymbol:function(){var t=this.userOptions,e=this.options.marker,i=this.chart,n=i.options.symbols,i=i.counters;this.symbol=e.symbol,this.symbol||(c(t._symbolIndex)?t=t._symbolIndex:(t._symbolIndex=i.symbol,t=i.symbol++),this.symbol=n[t]),/^url/.test(this.symbol)&&(e.radius=0),i.wrapSymbol(n.length)},drawLegendSymbol:le.drawLineMarker,setData:function(t,e){var i,r=this,o=r.points,l=r.options,h=r.chart,c=null,u=r.xAxis,d=u&&!!u.categories;r.xIncrement=null,r.pointRange=d?1:l.pointRange,r.colorCounter=0;var t=t||[],f=t.length;i=l.turboThreshold;var g=this.xData,m=this.yData,y=r.pointArrayMap,y=y&&y.length;if(Xt(this.parallelArrays,function(t){r[t+"Data"].length=0}),i&&f>i){for(i=0;null===c&&i<f;)c=t[i],i++;if(a(c)){for(d=p(l.pointStart,0),l=p(l.pointInterval,1),i=0;i<f;i++)g[i]=d,m[i]=t[i],d+=l;r.xIncrement=d}else if(s(c))if(y)for(i=0;i<f;i++)l=t[i],g[i]=l[0],m[i]=l.slice(1,y+1);else for(i=0;i<f;i++)l=t[i],g[i]=l[0],m[i]=l[1];else A(12)}else for(i=0;i<f;i++)t[i]!==R&&(l={series:r},r.pointClass.prototype.applyOptions.apply(l,[t[i]]),r.updateParallelArrays(l,i),d&&l.name)&&(u.names[l.x]=l.name);for(n(m[0])&&A(14,!0),r.data=[],r.options.data=t,i=o&&o.length||0;i--;)o[i]&&o[i].destroy&&o[i].destroy();u&&(u.minRange=u.userMinRange),r.isDirty=r.isDirtyData=h.isDirtyBox=!0,p(e,!0)&&h.redraw(!1)},processData:function(t){var e,i=this.xData,n=this.yData,r=i.length;e=0;var s,a,o=this.xAxis,l=this.options,h=l.cropThreshold,c=this.isCartesian;if(c&&!this.isDirty&&!o.isDirty&&!this.yAxis.isDirty&&!t)return!1;for(c&&this.sorted&&(!h||r>h||this.forceCrop)&&(t=o.min,o=o.max,i[r-1]<t||i[0]>o?(i=[],n=[]):(i[0]<t||i[r-1]>o)&&(e=this.cropData(this.xData,this.yData,t,o),i=e.xData,n=e.yData,e=e.start,s=!0)),o=i.length-1;o>=0;o--)r=i[o]-i[o-1],r>0&&(a===R||r<a)?a=r:r<0&&this.requireSorting&&A(15);this.cropped=s,this.cropStart=e,this.processedXData=i,this.processedYData=n,null===l.pointRange&&(this.pointRange=a||1),this.closestPointRange=a},cropData:function(t,e,i,n){var r,s=t.length,a=0,o=s,l=p(this.cropShoulder,1);for(r=0;r<s;r++)if(t[r]>=i){a=dt(0,r-l);break}for(;r<s;r++)if(t[r]>n){o=r+l;break}return{xData:t.slice(a,o),yData:e.slice(a,o),start:a,end:o}},generatePoints:function(){var t,e,i,n,r=this.options.data,s=this.data,a=this.processedXData,o=this.processedYData,l=this.pointClass,h=a.length,c=this.cropStart||0,u=this.hasGroupedData,p=[];for(s||u||(s=[],s.length=r.length,s=this.data=s),n=0;n<h;n++)e=c+n,u?p[n]=(new l).init(this,[a[n]].concat(d(o[n]))):(s[e]?i=s[e]:r[e]!==R&&(s[e]=i=(new l).init(this,r[e],a[n])),p[n]=i);if(s&&(h!==(t=s.length)||u))for(n=0;n<t;n++)n===c&&!u&&(n+=h),s[n]&&(s[n].destroyElements(),s[n].plotX=R);this.data=s,this.points=p},setStackedPoints:function(){if(this.options.stacking&&(this.visible===!0||this.chart.options.chart.ignoreHiddenSeries===!1)){var t,e,i,n,r,s=this.processedXData,a=this.processedYData,o=[],l=a.length,h=this.options,c=h.threshold,u=h.stack,h=h.stacking,d=this.stackKey,p="-"+d,f=this.negStacks,g=this.yAxis,m=g.stacks,y=g.oldStacks;for(i=0;i<l;i++)n=s[i],r=a[i],e=(t=f&&r<c)?p:d,m[e]||(m[e]={}),m[e][n]||(y[e]&&y[e][n]?(m[e][n]=y[e][n],m[e][n].total=null):m[e][n]=new N(g,g.options.stackLabels,t,n,u,h)),e=m[e][n],e.points[this.index]=[e.cum||0],"percent"===h?(t=t?d:p,f&&m[t]&&m[t][n]?(t=m[t][n],e.total=t.total=dt(t.total,e.total)+ft(r)||0):e.total=j(e.total+(ft(r)||0))):e.total=j(e.total+(r||0)),e.cum=(e.cum||0)+(r||0),e.points[this.index].push(e.cum),o[i]=e.cum;"percent"===h&&(g.usePercentage=!0),this.stackedYData=o,g.oldStacks={}}},setPercentStacks:function(){var t=this,e=t.stackKey,i=t.yAxis.stacks;Xt([e,"-"+e],function(e){for(var n,r,s,a=t.xData.length;a--;)r=t.xData[a],n=(s=i[e]&&i[e][r])&&s.points[t.index],(r=n)&&(s=s.total?100/s.total:0,r[0]=j(r[0]*s),r[1]=j(r[1]*s),t.stackedYData[a]=r[1])})},getExtremes:function(t){var e,i=this.yAxis,n=this.processedXData,r=[],s=0;e=this.xAxis.getExtremes();var a,o,l,h,c=e.min,u=e.max,t=t||this.stackedYData||this.processedYData;for(e=t.length,h=0;h<e;h++)if(o=n[h],l=t[h],a=null!==l&&l!==R&&(!i.isLog||l.length||l>0),o=this.getExtremesFromAll||this.cropped||(n[h+1]||o)>=c&&(n[h-1]||o)<=u,a&&o)if(a=l.length)for(;a--;)null!==l[a]&&(r[s++]=l[a]);else r[s++]=l;this.dataMin=p(void 0,C(r)),this.dataMax=p(void 0,T(r))},translate:function(){this.processedXData||this.processData(),this.generatePoints();for(var t=this.options,e=t.stacking,i=this.xAxis,n=i.categories,r=this.yAxis,s=this.points,o=s.length,l=!!this.modifyValue,h=t.pointPlacement,u="between"===h||a(h),d=t.threshold,t=0;t<o;t++){var f=s[t],g=f.x,m=f.y,y=f.low,v=e&&r.stacks[(this.negStacks&&m<d?"-":"")+this.stackKey];r.isLog&&m<=0&&(f.y=m=null),f.plotX=i.translate(g,0,0,0,1,h,"flags"===this.type),e&&this.visible&&v&&v[g]&&(v=v[g],m=v.points[this.index],y=m[0],m=m[1],0===y&&(y=p(d,r.min)),r.isLog&&y<=0&&(y=null),f.total=f.stackTotal=v.total,f.percentage="percent"===e&&f.y/v.total*100,f.stackY=m,v.setOffset(this.pointXOffset||0,this.barW||0)),f.yBottom=c(y)?r.translate(y,0,1,0,1):null,l&&(m=this.modifyValue(m,f)),f.plotY="number"==typeof m&&m!==1/0?r.translate(m,0,1,0,1):R,f.clientX=u?i.translate(g,0,0,0,1):f.plotX,f.negative=f.y<(d||0),f.category=n&&n[f.x]!==R?n[f.x]:f.x}this.getSegments()},setTooltipPoints:function(t){var e,i,n,r,s=[],a=this.xAxis,o=a&&a.getExtremes(),l=a?a.tooltipLen||a.len:this.chart.plotSizeX,h=[];if(this.options.enableMouseTracking!==!1){for(t&&(this.tooltipPoints=null),Xt(this.segments||this.points,function(t){s=s.concat(t)}),a&&a.reversed&&(s=s.reverse()),this.orderTooltipPoints&&this.orderTooltipPoints(s),t=s.length,r=0;r<t;r++)if(a=s[r],e=a.x,e>=o.min&&e<=o.max)for(n=s[r+1],e=i===R?0:i+1,i=s[r+1]?pt(dt(0,ct((a.clientX+(n?n.wrappedClientX||n.clientX:l))/2)),l):l;e>=0&&e<=i;)h[e++]=a;this.tooltipPoints=h}},tooltipHeaderFormatter:function(t){var e,i=this.tooltipOptions,n=i.dateTimeLabelFormats,r=i.xDateFormat,s=this.xAxis,o=s&&"datetime"===s.options.type,i=i.headerFormat,s=s&&s.closestPointRange;if(o&&!r){if(s){for(e in X)if(X[e]>=s){r=n[e];break}}else r=n.day;r=r||n.year}return o&&r&&a(t.key)&&(i=i.replace("{point.key}","{point.key:"+r+"}")),b(i,{point:t,series:this})},onMouseOver:function(){var t=this.chart,e=t.hoverSeries;e&&e!==this&&e.onMouseOut(),this.options.events.mouseOver&&Zt(this,"mouseOver"),this.setState("hover"),t.hoverSeries=this},onMouseOut:function(){var t=this.options,e=this.chart,i=e.tooltip,n=e.hoverPoint;n&&n.onMouseOut(),this&&t.events.mouseOut&&Zt(this,"mouseOut"),i&&!t.stickyTracking&&(!i.shared||this.noSharedTooltip)&&i.hide(),this.setState(),e.hoverSeries=null},animate:function(e){var i,n=this,s=n.chart,a=s.renderer;i=n.options.animation;var o,l=s.clipBox,h=s.inverted;i&&!r(i)&&(i=ie[n.type].animation),o="_sharedClip"+i.duration+i.easing,e?(e=s[o],i=s[o+"m"],e||(s[o]=e=a.clipRect(t(l,{width:0})),s[o+"m"]=i=a.clipRect(-99,h?-s.plotLeft:-s.plotTop,99,h?s.chartWidth:s.chartHeight)),n.group.clip(e),n.markerGroup.clip(i),n.sharedClipKey=o):((e=s[o])&&(e.animate({width:s.plotSizeX},i),s[o+"m"].animate({width:s.plotSizeX+99},i)),n.animate=null,n.animationTimeout=setTimeout(function(){n.afterAnimate()},i.duration))},afterAnimate:function(){var t=this.chart,e=this.sharedClipKey,i=this.group;i&&this.options.clip!==!1&&(i.clip(t.clipRect),this.markerGroup.clip()),setTimeout(function(){e&&t[e]&&(t[e]=t[e].destroy(),t[e+"m"]=t[e+"m"].destroy())},100)},drawPoints:function(){var e,i,n,r,s,a,o,l,h,c,u=this.points,d=this.chart,f=this.options.marker,g=this.markerGroup;if(f.enabled||this._hasPointMarkers)for(r=u.length;r--;)s=u[r],i=ct(s.plotX),n=s.plotY,h=s.graphic,o=s.marker||{},e=f.enabled&&o.enabled===R||o.enabled,c=d.isInsidePlot(ht(i),n,d.inverted),e&&n!==R&&!isNaN(n)&&null!==s.y?(e=s.pointAttr[s.selected?"select":""],a=e.r,o=p(o.symbol,this.symbol),l=0===o.indexOf("url"),h?h.attr({visibility:c?St?"inherit":"visible":"hidden"}).animate(t({x:i-a,y:n-a},h.symbolName?{width:2*a,height:2*a}:{})):c&&(a>0||l)&&(s.graphic=d.renderer.symbol(o,i-a,n-a,2*a,2*a).attr(e).add(g))):h&&(s.graphic=h.destroy())},convertAttribs:function(t,e,i,n){var r,s,a=this.pointAttrToOptions,o={},t=t||{},e=e||{},i=i||{},n=n||{};for(r in a)s=a[r],o[r]=p(t[s],e[r],i[r],n[r]);return o},getAttribs:function(){var e,i,n,r=this,s=r.options,a=ie[r.type].marker?s.marker:s,o=a.states,l=o.hover,h=r.color,u={stroke:h,fill:h},d=r.points||[],p=[],f=r.pointAttrToOptions,g=s.negativeColor,m=a.lineColor,y=a.fillColor;for(s.marker?(l.radius=l.radius||a.radius+2,l.lineWidth=l.lineWidth||a.lineWidth+1):l.color=l.color||ae(l.color||h).brighten(l.brightness).get(),p[""]=r.convertAttribs(a,u),Xt(["hover","select"],function(t){p[t]=r.convertAttribs(o[t],p[""])}),r.pointAttr=p,h=d.length;h--;){if(u=d[h],(a=u.options&&u.options.marker||u.options)&&a.enabled===!1&&(a.radius=0),u.negative&&g&&(u.color=u.fillColor=g),i=s.colorByPoint||u.color,u.options)for(n in f)c(a[f[n]])&&(i=!0);i?(a=a||{},i=[],o=a.states||{},e=o.hover=o.hover||{},s.marker||(e.color=ae(e.color||u.color).brighten(e.brightness||l.brightness).get()),e={color:u.color},y||(e.fillColor=u.color),m||(e.lineColor=u.color),i[""]=r.convertAttribs(t(e,a),p[""]),i.hover=r.convertAttribs(o.hover,p.hover,i[""]),i.select=r.convertAttribs(o.select,p.select,i[""])):i=p,u.pointAttr=i}},destroy:function(){var t,e,i,n,r,s=this,a=s.chart,o=/AppleWebKit\/533/.test(xt),l=s.data||[];for(Zt(s,"destroy"),Kt(s),Xt(s.axisTypes||[],function(t){(r=s[t])&&(h(r.series,s),r.isDirty=r.forceRedraw=!0)}),s.legendItem&&s.chart.legend.destroyItem(s),e=l.length;e--;)(i=l[e])&&i.destroy&&i.destroy();s.points=null,clearTimeout(s.animationTimeout),Xt("area,graph,dataLabelsGroup,group,markerGroup,tracker,graphNeg,areaNeg,posClip,negClip".split(","),function(e){s[e]&&(t=o&&"group"===e?"hide":"destroy",s[e][t]())}),a.hoverSeries===s&&(a.hoverSeries=null),h(a.series,s);for(n in s)delete s[n]},getSegmentPath:function(t){var e=this,i=[],n=e.options.step;return Xt(t,function(r,s){var a,o=r.plotX,l=r.plotY;e.getPointSpline?i.push.apply(i,e.getPointSpline(t,r,s)):(i.push(s?"L":"M"),n&&s&&(a=t[s-1],"right"===n?i.push(a.plotX,l):"center"===n?i.push((a.plotX+o)/2,a.plotY,(a.plotX+o)/2,l):i.push(o,a.plotY)),i.push(r.plotX,r.plotY))}),i},getGraphPath:function(){var t,e=this,i=[],n=[];return Xt(e.segments,function(r){t=e.getSegmentPath(r),r.length>1?i=i.concat(t):n.push(r[0])}),e.singlePoints=n,e.graphPath=i},drawGraph:function(){var t=this,e=this.options,i=[["graph",e.lineColor||this.color]],n=e.lineWidth,r=e.dashStyle,s="square"!==e.linecap,a=this.getGraphPath(),o=e.negativeColor;o&&i.push(["graphNeg",o]),Xt(i,function(i,o){var l=i[0],h=t[l];h?(ee(h),h.animate({d:a})):n&&a.length&&(h={stroke:i[1],"stroke-width":n,zIndex:1},r?h.dashstyle=r:s&&(h["stroke-linecap"]=h["stroke-linejoin"]="round"),t[l]=t.chart.renderer.path(a).attr(h).add(t.group).shadow(!o&&e.shadow))})},clipNeg:function(){var t,e=this.options,i=this.chart,n=i.renderer,r=e.negativeColor||e.negativeFillColor,s=this.graph,a=this.area,o=this.posClip,l=this.negClip;t=i.chartWidth;var h=i.chartHeight,c=dt(t,h),u=this.yAxis;r&&(s||a)&&(r=ht(u.toPixels(e.threshold||0,!0)),r<0&&(c-=r),e={x:0,y:0,width:c,height:r},c={x:0,y:r,width:c,height:c},i.inverted&&(e.height=c.y=i.plotWidth-r,n.isVML&&(e={x:i.plotWidth-r-i.plotLeft,y:0,width:t,height:h},c={x:r+i.plotLeft-t,y:0,width:i.plotLeft+r,height:t})),u.reversed?(i=c,t=e):(i=e,t=c),o?(o.animate(i),l.animate(t)):(this.posClip=o=n.clipRect(i),this.negClip=l=n.clipRect(t),s&&this.graphNeg&&(s.clip(o),this.graphNeg.clip(l)),a&&(a.clip(o),this.areaNeg.clip(l))))},invertGroups:function(){function t(){var t={width:e.yAxis.len,height:e.xAxis.len};Xt(["group","markerGroup"],function(i){e[i]&&e[i].attr(t).invert()})}var e=this,i=e.chart;e.xAxis&&(Vt(i,"resize",t),Vt(e,"destroy",function(){Kt(i,"resize",t)}),t(),e.invertGroups=t)},plotGroup:function(t,e,i,n,r){var s=this[t],a=!s;return a&&(this[t]=s=this.chart.renderer.g(e).attr({visibility:i,zIndex:n||.1}).add(r)),s[a?"attr":"animate"](this.getPlotBox()),s},getPlotBox:function(){return{translateX:this.xAxis?this.xAxis.left:this.chart.plotLeft,translateY:this.yAxis?this.yAxis.top:this.chart.plotTop,scaleX:1,scaleY:1}},render:function(){var t,e=this.chart,i=this.options,n=i.animation&&!!this.animate&&e.renderer.isSVG,r=this.visible?"visible":"hidden",s=i.zIndex,a=this.hasRendered,o=e.seriesGroup;t=this.plotGroup("group","series",r,s,o),this.markerGroup=this.plotGroup("markerGroup","markers",r,s,o),n&&this.animate(!0),this.getAttribs(),t.inverted=!!this.isCartesian&&e.inverted,this.drawGraph&&(this.drawGraph(),this.clipNeg()),this.drawDataLabels&&this.drawDataLabels(),this.visible&&this.drawPoints(),this.options.enableMouseTracking!==!1&&this.drawTracker(),e.inverted&&this.invertGroups(),i.clip!==!1&&!this.sharedClipKey&&!a&&t.clip(e.clipRect),n?this.animate():a||this.afterAnimate(),this.isDirty=this.isDirtyData=!1,this.hasRendered=!0},redraw:function(){var t=this.chart,e=this.isDirtyData,i=this.group,n=this.xAxis,r=this.yAxis;i&&(t.inverted&&i.attr({width:t.plotWidth,height:t.plotHeight}),i.animate({translateX:p(n&&n.left,t.plotLeft),translateY:p(r&&r.top,t.plotTop)})),this.translate(),this.setTooltipPoints(!0),this.render(),e&&Zt(this,"updatedData")},setState:function(t){var e=this.options,i=this.graph,n=this.graphNeg,r=e.states,e=e.lineWidth,t=t||"";this.state!==t&&(this.state=t,r[t]&&r[t].enabled===!1||(t&&(e=r[t].lineWidth||e+1),i&&!i.dashstyle&&(t={"stroke-width":e},i.attr(t),n&&n.attr(t))))},setVisible:function(t,e){var i,n=this,r=n.chart,s=n.legendItem,a=r.options.chart.ignoreHiddenSeries,o=n.visible;i=(n.visible=t=n.userOptions.visible=t===R?!o:t)?"show":"hide",Xt(["group","dataLabelsGroup","markerGroup","tracker"],function(t){n[t]&&n[t][i]()}),r.hoverSeries===n&&n.onMouseOut(),s&&r.legend.colorizeItem(n,t),n.isDirty=!0,n.options.stacking&&Xt(r.series,function(t){t.options.stacking&&t.visible&&(t.isDirty=!0)}),Xt(n.linkedSeries,function(e){e.setVisible(t,!1)}),a&&(r.isDirtyBox=!0),e!==!1&&r.redraw(),Zt(n,i)},show:function(){this.setVisible(!0)},hide:function(){this.setVisible(!1)},select:function(t){this.selected=t=t===R?!this.selected:t,this.checkbox&&(this.checkbox.checked=t),Zt(this,t?"select":"unselect")},drawTracker:Ht.drawTrackerGraph},t(B.prototype,{addSeries:function(t,e,i){var n,r=this;return t&&(e=p(e,!0),Zt(r,"addSeries",{options:t},function(){n=r.initSeries(t),r.isDirtyLegend=!0,r.linkSeries(),e&&r.redraw(i)})),n},addAxis:function(t,i,n,r){var s=i?"xAxis":"yAxis",a=this.options;new O(this,e(t,{index:this[s].length,isX:i})),a[s]=d(a[s]||{}),a[s].push(t),p(n,!0)&&this.redraw(r)},showLoading:function(e){var i=this.options,n=this.loadingDiv,r=i.loading;n||(this.loadingDiv=n=g(Ot,{className:"highcharts-loading"},t(r.style,{zIndex:10,display:Nt}),this.container),this.loadingSpan=g("span",null,r.labelStyle,n)),this.loadingSpan.innerHTML=e||i.lang.loading,this.loadingShown||(f(n,{opacity:0,display:"",left:this.plotLeft+"px",top:this.plotTop+"px",width:this.plotWidth+"px",height:this.plotHeight+"px"}),te(n,{opacity:r.style.opacity},{duration:r.showDuration||0}),this.loadingShown=!0)},hideLoading:function(){var t=this.options,e=this.loadingDiv;e&&te(e,{opacity:0},{duration:t.loading.hideDuration||100,complete:function(){f(e,{display:Nt})}}),this.loadingShown=!1}}),t(ge.prototype,{update:function(t,e,i){var n,s=this,a=s.series,o=s.graphic,l=a.data,h=a.chart,c=a.options,e=p(e,!0);s.firePointEvent("update",{options:t},function(){s.applyOptions(t),r(t)&&(a.getAttribs(),o&&(t&&t.marker&&t.marker.symbol?s.graphic=o.destroy():o.attr(s.pointAttr[s.state||""])),t&&t.dataLabels&&s.dataLabel&&(s.dataLabel=s.dataLabel.destroy())),n=Qt(s,l),a.updateParallelArrays(s,n),c.data[n]=s.options,a.isDirty=a.isDirtyData=!0,!a.fixedBox&&a.hasCartesianSeries&&(h.isDirtyBox=!0),"point"===c.legendType&&h.legend.destroyItem(s),e&&h.redraw(i)})},remove:function(t,e){var i,n=this,r=n.series,s=r.points,a=r.chart,o=r.data;P(e,a),t=p(t,!0),n.firePointEvent("remove",null,function(){i=Qt(n,o),o.length===s.length&&s.splice(i,1),o.splice(i,1),r.options.data.splice(i,1),r.updateParallelArrays(n,"splice",i,1),n.destroy(),r.isDirty=!0,r.isDirtyData=!0,t&&a.redraw()})}}),t(me.prototype,{addPoint:function(t,e,i,n){var r,s=this.options,a=this.data,o=this.graph,l=this.area,h=this.chart,c=this.xAxis&&this.xAxis.names,u=o&&o.shift||0,d=s.data,f=this.xData;if(P(n,h),i&&Xt([o,l,this.graphNeg,this.areaNeg],function(t){t&&(t.shift=u+1)}),l&&(l.isArea=!0),e=p(e,!0),n={series:this},this.pointClass.prototype.applyOptions.apply(n,[t]),o=n.x,l=f.length,this.requireSorting&&o<f[l-1])for(r=!0;l&&f[l-1]>o;)l--;this.updateParallelArrays(n,"splice",l,0,0),this.updateParallelArrays(n,l),c&&(c[o]=n.name),d.splice(l,0,t),r&&(this.data.splice(l,0,null),this.processData()),"point"===s.legendType&&this.generatePoints(),i&&(a[0]&&a[0].remove?a[0].remove(!1):(a.shift(),this.updateParallelArrays(n,"shift"),d.shift())),this.isDirtyData=this.isDirty=!0,e&&(this.getAttribs(),h.redraw())},remove:function(t,e){var i=this,n=i.chart,t=p(t,!0);i.isRemoving||(i.isRemoving=!0,Zt(i,"remove",null,function(){i.destroy(),n.isDirtyLegend=n.isDirtyBox=!0,n.linkSeries(),t&&n.redraw(e)})),i.isRemoving=!1},update:function(i,n){var r,s=this.chart,a=this.type,o=Yt[a].prototype,i=e(this.userOptions,{animation:!1,index:this.index,pointStart:this.xData[0]},{data:this.options.data},i);this.remove(!1);for(r in o)o.hasOwnProperty(r)&&(this[r]=R);t(this,Yt[i.type||a].prototype),this.init(s,i),p(n,!0)&&s.redraw(!1)}}),t(O.prototype,{update:function(i,n){var r=this.chart,i=r.options[this.coll][this.options.index]=e(this.userOptions,i);this.destroy(!0),
this._addedPlotLB=this.userMin=this.userMax=R,this.init(r,t(i,{events:R})),r.isDirtyBox=!0,p(n,!0)&&r.redraw()},remove:function(t){var e=this.chart,i=this.coll;Xt(this.series,function(t){t.remove(!1)}),h(e.axes,this),h(e[i],this),e.options[i].splice(this.options.index,1),Xt(e[i],function(t,e){t.options.index=e}),this.destroy(),e.isDirtyBox=!0,p(t,!0)&&e.redraw()},setTitle:function(t,e){this.update({title:t},e)},setCategories:function(t,e){this.update({categories:t},e)}});var ye=m(me);Yt.line=ye,ie.area=e(zt,{threshold:0});var ve=m(me,{type:"area",getSegments:function(){var t,e,i,n,r,s=[],a=[],o=[],l=this.xAxis,h=this.yAxis,c=h.stacks[this.stackKey],u={},d=this.points,p=this.options.connectNulls;if(this.options.stacking&&!this.cropped){for(n=0;n<d.length;n++)u[d[n].x]=d[n];for(r in c)null!==c[r].total&&o.push(+r);o.sort(function(t,e){return t-e}),Xt(o,function(n){(!p||u[n]&&null!==u[n].y)&&(u[n]?a.push(u[n]):(t=l.translate(n),i=c[n].percent?c[n].total?100*c[n].cum/c[n].total:0:c[n].cum,e=h.toPixels(i,!0),a.push({y:null,plotX:t,clientX:t,plotY:e,yBottom:e,onMouseOver:Lt})))}),a.length&&s.push(a)}else me.prototype.getSegments.call(this),s=this.segments;this.segments=s},getSegmentPath:function(t){var e,i=me.prototype.getSegmentPath.call(this,t),n=[].concat(i),r=this.options;e=i.length;var s,a=this.yAxis.getThreshold(r.threshold);if(3===e&&n.push("L",i[1],i[2]),r.stacking&&!this.closedStacks)for(e=t.length-1;e>=0;e--)s=p(t[e].yBottom,a),e<t.length-1&&r.step&&n.push(t[e+1].plotX,s),n.push(t[e].plotX,s);else this.closeSegment(n,t,a);return this.areaPath=this.areaPath.concat(n),i},closeSegment:function(t,e,i){t.push("L",e[e.length-1].plotX,i,"L",e[0].plotX,i)},drawGraph:function(){this.areaPath=[],me.prototype.drawGraph.apply(this);var t=this,e=this.areaPath,i=this.options,n=i.negativeColor,r=i.negativeFillColor,s=[["area",this.color,i.fillColor]];(n||r)&&s.push(["areaNeg",n,r]),Xt(s,function(n){var r=n[0],s=t[r];s?s.animate({d:e}):t[r]=t.chart.renderer.path(e).attr({fill:p(n[2],ae(n[1]).setOpacity(p(i.fillOpacity,.75)).get()),zIndex:0}).add(t.group)})},drawLegendSymbol:le.drawRectangle});Yt.area=ve,ie.spline=e(zt),ye=m(me,{type:"spline",getPointSpline:function(t,e,i){var n,r,s,a,o=e.plotX,l=e.plotY,h=t[i-1],c=t[i+1];if(h&&c){t=h.plotY,s=c.plotX;var u,c=c.plotY;n=(1.5*o+h.plotX)/2.5,r=(1.5*l+t)/2.5,s=(1.5*o+s)/2.5,a=(1.5*l+c)/2.5,u=(a-r)*(s-o)/(s-n)+l-a,r+=u,a+=u,r>t&&r>l?(r=dt(t,l),a=2*l-r):r<t&&r<l&&(r=pt(t,l),a=2*l-r),a>c&&a>l?(a=dt(c,l),r=2*l-a):a<c&&a<l&&(a=pt(c,l),r=2*l-a),e.rightContX=s,e.rightContY=a}return i?(e=["C",h.rightContX||h.plotX,h.rightContY||h.plotY,n||o,r||l,o,l],h.rightContX=h.rightContY=null):e=["M",o,l],e}}),Yt.spline=ye,ie.areaspline=e(ie.area),ve=ve.prototype,ye=m(ye,{type:"areaspline",closedStacks:!0,getSegmentPath:ve.getSegmentPath,closeSegment:ve.closeSegment,drawGraph:ve.drawGraph,drawLegendSymbol:le.drawRectangle}),Yt.areaspline=ye,ie.column=e(zt,{borderColor:"#FFFFFF",borderWidth:1,borderRadius:0,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{brightness:.1,shadow:!1},select:{color:"#C0C0C0",borderColor:"#000000",shadow:!1}},dataLabels:{align:null,verticalAlign:null,y:null},stickyTracking:!1,threshold:0}),ye=m(me,{type:"column",pointAttrToOptions:{stroke:"borderColor","stroke-width":"borderWidth",fill:"color",r:"borderRadius"},cropShoulder:0,trackerGroups:["group","dataLabelsGroup"],negStacks:!0,init:function(){me.prototype.init.apply(this,arguments);var t=this,e=t.chart;e.hasRendered&&Xt(e.series,function(e){e.type===t.type&&(e.isDirty=!0)})},getColumnMetrics:function(){var t,e,i=this,n=i.options,r=i.xAxis,s=i.yAxis,a=r.reversed,o={},l=0;n.grouping===!1?l=1:Xt(i.chart.series,function(n){var r=n.options,a=n.yAxis;n.type===i.type&&n.visible&&s.len===a.len&&s.pos===a.pos&&(r.stacking?(t=n.stackKey,o[t]===R&&(o[t]=l++),e=o[t]):r.grouping!==!1&&(e=l++),n.columnIndex=e)});var r=pt(ft(r.transA)*(r.ordinalSlope||n.pointRange||r.closestPointRange||1),r.len),h=r*n.groupPadding,u=(r-2*h)/l,d=n.pointWidth,n=c(d)?(u-d)/2:u*n.pointPadding,d=p(d,u-2*n);return i.columnMetrics={width:d,offset:n+(h+((a?l-(i.columnIndex||0):i.columnIndex)||0)*u-r/2)*(a?-1:1)}},translate:function(){var t=this.chart,e=this.options,i=e.borderWidth,n=this.yAxis,r=this.translatedThreshold=n.getThreshold(e.threshold),s=p(e.minPointLength,5),e=this.getColumnMetrics(),a=e.width,o=this.barW=ut(dt(a,1+2*i)),l=this.pointXOffset=e.offset,h=-(i%2?.5:0),c=i%2?.5:1;t.renderer.isVML&&t.inverted&&(c+=1),me.prototype.translate.apply(this),Xt(this.points,function(t){var e,i=p(t.yBottom,r),u=pt(dt(-999-i,t.plotY),n.len+999+i),d=t.plotX+l,f=o,g=pt(u,i),u=dt(u,i)-g;ft(u)<s&&s&&(u=s,g=ht(ft(g-r)>s?i-s:r-(n.translate(t.y,0,1,0,1)<=r?s:0))),t.barX=d,t.pointWidth=a,i=ft(d)<.5,f=ht(d+f)+h,d=ht(d)+h,f-=d,e=ft(g)<.5,u=ht(g+u)+c,g=ht(g)+c,u-=g,i&&(d+=1,f-=1),e&&(g-=1,u+=1),t.shapeType="rect",t.shapeArgs={x:d,y:g,width:f,height:u}})},getSymbol:Lt,drawLegendSymbol:le.drawRectangle,drawGraph:Lt,drawPoints:function(){var t,i=this,n=this.chart,r=i.options,s=n.renderer,a=n.options.animationLimit||250;Xt(i.points,function(o){var l=o.plotY,h=o.graphic;l===R||isNaN(l)||null===o.y?h&&(o.graphic=h.destroy()):(t=o.shapeArgs,h?(ee(h),h[n.pointCount<a?"animate":"attr"](e(t))):o.graphic=s[o.shapeType](t).attr(o.pointAttr[o.selected?"select":""]).add(i.group).shadow(r.shadow,null,r.stacking&&!r.borderRadius))})},drawTracker:Ht.drawTrackerPoint,animate:function(t){var e=this.yAxis,i=this.options,n=this.chart.inverted,r={};St&&(t?(r.scaleY=.001,t=pt(e.pos+e.len,dt(e.pos,e.toPixels(i.threshold))),n?r.translateX=t-e.len:r.translateY=t,this.group.attr(r)):(r.scaleY=1,r[n?"translateX":"translateY"]=e.pos,this.group.animate(r,this.options.animation),this.animate=null))},remove:function(){var t=this,e=t.chart;e.hasRendered&&Xt(e.series,function(e){e.type===t.type&&(e.isDirty=!0)}),me.prototype.remove.apply(t,arguments)}}),Yt.column=ye,ie.bar=e(ie.column),ye=m(ye,{type:"bar",inverted:!0}),Yt.bar=ye,ie.scatter=e(zt,{lineWidth:0,tooltip:{headerFormat:'<span style="font-size: 10px; color:{series.color}">{series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>",followPointer:!0},stickyTracking:!1}),ye=m(me,{type:"scatter",sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["markerGroup"],takeOrdinalPosition:!1,drawTracker:Ht.drawTrackerPoint,drawGraph:function(){this.options.lineWidth&&me.prototype.drawGraph.call(this)},setTooltipPoints:Lt}),Yt.scatter=ye,ie.pie=e(zt,{borderColor:"#FFFFFF",borderWidth:1,center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{distance:30,enabled:!0,formatter:function(){return this.point.name}},ignoreHiddenPoint:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,states:{hover:{brightness:.1,shadow:!1}},stickyTracking:!1,tooltip:{followPointer:!0}}),zt={type:"pie",isCartesian:!1,pointClass:m(ge,{init:function(){ge.prototype.init.apply(this,arguments);var e,i=this;return i.y<0&&(i.y=null),t(i,{visible:i.visible!==!1,name:p(i.name,"Slice")}),e=function(t){i.slice("select"===t.type)},Vt(i,"select",e),Vt(i,"unselect",e),i},setVisible:function(t){var e,i=this,n=i.series,r=n.chart;i.visible=i.options.visible=t=t===R?!i.visible:t,n.options.data[Qt(i,n.data)]=i.options,e=t?"show":"hide",Xt(["graphic","dataLabel","connector","shadowGroup"],function(t){i[t]&&i[t][e]()}),i.legendItem&&r.legend.colorizeItem(i,t),!n.isDirty&&n.options.ignoreHiddenPoint&&(n.isDirty=!0,r.redraw())},slice:function(t,e,i){var n=this.series;P(i,n.chart),p(e,!0),this.sliced=this.options.sliced=t=c(t)?t:!this.sliced,n.options.data[Qt(this,n.data)]=this.options,t=t?this.slicedTranslation:{translateX:0,translateY:0},this.graphic.animate(t),this.shadowGroup&&this.shadowGroup.animate(t)}}),requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","dataLabelsGroup"],axisTypes:[],pointAttrToOptions:{stroke:"borderColor","stroke-width":"borderWidth",fill:"color"},getColor:Lt,animate:function(t){var e=this,i=e.points,n=e.startAngleRad;t||(Xt(i,function(t){var i=t.graphic,t=t.shapeArgs;i&&(i.attr({r:e.center[3]/2,start:n,end:n}),i.animate({r:t.r,start:t.start,end:t.end},e.options.animation))}),e.animate=null)},setData:function(t,e){me.prototype.setData.call(this,t,!1),this.processData(),this.generatePoints(),p(e,!0)&&this.chart.redraw()},generatePoints:function(){var t,e,i,n,r=0,s=this.options.ignoreHiddenPoint;for(me.prototype.generatePoints.call(this),e=this.points,i=e.length,t=0;t<i;t++)n=e[t],r+=s&&!n.visible?0:n.y;for(this.total=r,t=0;t<i;t++)n=e[t],n.percentage=r>0?n.y/r*100:0,n.total=r},translate:function(t){this.generatePoints();var e,i,n,r,s,a=0,o=this.options,l=o.slicedOffset,h=l+o.borderWidth,c=o.startAngle||0,u=this.startAngleRad=yt/180*(c-90),c=(this.endAngleRad=yt/180*((o.endAngle||c+360)-90))-u,d=this.points,p=o.dataLabels.distance,o=o.ignoreHiddenPoint,f=d.length;for(t||(this.center=t=this.getCenter()),this.getX=function(e,i){return n=lt.asin((e-t[1])/(t[2]/2+p)),t[0]+(i?-1:1)*gt(n)*(t[2]/2+p)},r=0;r<f;r++)s=d[r],e=u+a*c,o&&!s.visible||(a+=s.percentage/100),i=u+a*c,s.shapeType="arc",s.shapeArgs={x:t[0],y:t[1],r:t[2]/2,innerR:t[3]/2,start:ht(1e3*e)/1e3,end:ht(1e3*i)/1e3},n=(i+e)/2,n>.75*c&&(n-=2*yt),s.slicedTranslation={translateX:ht(gt(n)*l),translateY:ht(mt(n)*l)},e=gt(n)*t[2]/2,i=mt(n)*t[2]/2,s.tooltipPos=[t[0]+.7*e,t[1]+.7*i],s.half=n<-yt/2||n>yt/2?1:0,s.angle=n,h=pt(h,p/2),s.labelPos=[t[0]+e+gt(n)*p,t[1]+i+mt(n)*p,t[0]+e+gt(n)*h,t[1]+i+mt(n)*h,t[0]+e,t[1]+i,p<0?"center":s.half?"right":"left",n]},setTooltipPoints:Lt,drawGraph:null,drawPoints:function(){var e,i,n,r,s=this,a=s.chart.renderer,o=s.options.shadow;o&&!s.shadowGroup&&(s.shadowGroup=a.g("shadow").add(s.group)),Xt(s.points,function(l){i=l.graphic,r=l.shapeArgs,n=l.shadowGroup,o&&!n&&(n=l.shadowGroup=a.g("shadow").add(s.shadowGroup)),e=l.sliced?l.slicedTranslation:{translateX:0,translateY:0},n&&n.attr(e),i?i.animate(t(r,e)):l.graphic=i=a.arc(r).setRadialReference(s.center).attr(l.pointAttr[l.selected?"select":""]).attr({"stroke-linejoin":"round"}).attr(e).add(s.group).shadow(o,n),void 0!==l.visible&&l.setVisible(l.visible)})},sortByAngle:function(t,e){t.sort(function(t,i){return void 0!==t.angle&&(i.angle-t.angle)*e})},drawTracker:Ht.drawTrackerPoint,drawLegendSymbol:le.drawRectangle,getCenter:he.getCenter,getSymbol:Lt},zt=m(me,zt),Yt.pie=zt,me.prototype.drawDataLabels=function(){var i,n,r,s,a=this,o=a.options,l=o.cursor,h=o.dataLabels,o=a.points;(h.enabled||a._hasPointLabels)&&(a.dlProcessOptions&&a.dlProcessOptions(h),s=a.plotGroup("dataLabelsGroup","data-labels",a.visible?"visible":"hidden",h.zIndex||6),n=h,Xt(o,function(o){var u,d,f,g=o.dataLabel,m=o.connector,y=!0;if(i=o.options&&o.options.dataLabels,u=p(i&&i.enabled,n.enabled),g&&!u)o.dataLabel=g.destroy();else if(u){if(h=e(n,i),u=h.rotation,d=o.getLabelConfig(),r=h.format?b(h.format,d):h.formatter.call(d,h),h.style.color=p(h.color,h.style.color,a.color,"black"),g)c(r)?(g.attr({text:r}),y=!1):(o.dataLabel=g=g.destroy(),m&&(o.connector=m.destroy()));else if(c(r)){g={fill:h.backgroundColor,stroke:h.borderColor,"stroke-width":h.borderWidth,r:h.borderRadius||0,rotation:u,padding:h.padding,zIndex:1};for(f in g)g[f]===R&&delete g[f];g=o.dataLabel=a.chart.renderer[u?"text":"label"](r,0,-999,null,null,null,h.useHTML).attr(g).css(t(h.style,l&&{cursor:l})).add(s).shadow(h.shadow)}g&&a.alignDataLabel(o,g,h,null,y)}}))},me.prototype.alignDataLabel=function(e,i,n,r,s){var a=this.chart,o=a.inverted,l=p(e.plotX,-999),h=p(e.plotY,-999),c=i.getBBox();(e=this.visible&&(e.series.forceDL||a.isInsidePlot(e.plotX,e.plotY,o)))&&(r=t({x:o?a.plotWidth-h:l,y:ht(o?a.plotHeight-l:h),width:0,height:0},r),t(n,{width:c.width,height:c.height}),n.rotation?(o={align:n.align,x:r.x+n.x+r.width/2,y:r.y+n.y+r.height/2},i[s?"attr":"animate"](o)):(i.align(n,null,r),o=i.alignAttr,"justify"===p(n.overflow,"justify")?this.justifyDataLabel(i,n,o,c,r,s):p(n.crop,!0)&&(e=a.isInsidePlot(o.x,o.y)&&a.isInsidePlot(o.x+c.width,o.y+c.height)))),e||(i.attr({y:-999}),i.placed=!1)},me.prototype.justifyDataLabel=function(t,e,i,n,r,s){var a,o,l=this.chart,h=e.align,c=e.verticalAlign;a=i.x,a<0&&("right"===h?e.align="left":e.x=-a,o=!0),a=i.x+n.width,a>l.plotWidth&&("left"===h?e.align="right":e.x=l.plotWidth-a,o=!0),a=i.y,a<0&&("bottom"===c?e.verticalAlign="top":e.y=-a,o=!0),a=i.y+n.height,a>l.plotHeight&&("top"===c?e.verticalAlign="bottom":e.y=l.plotHeight-a,o=!0),o&&(t.placed=!s,t.align(e,null,r))},Yt.pie&&(Yt.pie.prototype.drawDataLabels=function(){var t,e,i,n,r,s,a,o,l,h,c,u,d=this,f=d.data,g=d.chart,m=d.options.dataLabels,y=p(m.connectorPadding,10),v=p(m.connectorWidth,1),x=g.plotWidth,g=g.plotHeight,b=p(m.softConnector,!0),_=m.distance,k=d.center,w=k[2]/2,D=k[1],C=_>0,S=[[],[]],M=[0,0,0,0],A=function(t,e){return e.y-t.y};if(d.visible&&(m.enabled||d._hasPointLabels)){for(me.prototype.drawDataLabels.apply(d),Xt(f,function(t){t.dataLabel&&t.visible&&S[t.half].push(t)}),c=0;!a&&f[c];)a=f[c]&&f[c].dataLabel&&(f[c].dataLabel.getBBox().height||21),c++;for(c=2;c--;){var j,f=[],P=[],I=S[c],L=I.length;if(d.sortByAngle(I,c-.5),_>0){for(u=D-w-_;u<=D+w+_;u+=a)f.push(u);if(r=f.length,L>r){for(t=[].concat(I),t.sort(A),u=L;u--;)t[u].rank=u;for(u=L;u--;)I[u].rank>=r&&I.splice(u,1);L=I.length}for(u=0;u<L;u++){t=I[u],s=t.labelPos,t=9999;var $,O;for(O=0;O<r;O++)$=ft(f[O]-s[1]),$<t&&(t=$,j=O);if(j<u&&null!==f[u])j=u;else for(r<L-u+j&&null!==f[u]&&(j=r-L+u);null===f[j];)j++;P.push({i:j,y:f[j]}),f[j]=null}P.sort(A)}for(u=0;u<L;u++)t=I[u],s=t.labelPos,n=t.dataLabel,h=t.visible===!1?"hidden":"visible",t=s[1],_>0?(r=P.pop(),j=r.i,l=r.y,(t>l&&null!==f[j+1]||t<l&&null!==f[j-1])&&(l=t)):l=t,o=m.justify?k[0]+(c?-1:1)*(w+_):d.getX(0===j||j===f.length-1?t:l,c),n._attr={visibility:h,align:s[6]},n._pos={x:o+m.x+({left:y,right:-y}[s[6]]||0),y:l+m.y-10},n.connX=o,n.connY=l,null===this.options.size&&(r=n.width,o-r<y?M[3]=dt(ht(r-o+y),M[3]):o+r>x-y&&(M[1]=dt(ht(o+r-x+y),M[1])),l-a/2<0?M[0]=dt(ht(-l+a/2),M[0]):l+a/2>g&&(M[2]=dt(ht(l+a/2-g),M[2])))}(0===T(M)||this.verifyDataLabelOverflow(M))&&(this.placeDataLabels(),C&&v&&Xt(this.points,function(t){e=t.connector,s=t.labelPos,(n=t.dataLabel)&&n._pos?(h=n._attr.visibility,o=n.connX,l=n.connY,i=b?["M",o+("left"===s[6]?5:-5),l,"C",o,l,2*s[2]-s[4],2*s[3]-s[5],s[2],s[3],"L",s[4],s[5]]:["M",o+("left"===s[6]?5:-5),l,"L",s[2],s[3],"L",s[4],s[5]],e?(e.animate({d:i}),e.attr("visibility",h)):t.connector=e=d.chart.renderer.path(i).attr({"stroke-width":v,stroke:m.connectorColor||t.color||"#606060",visibility:h}).add(d.group)):e&&(t.connector=e.destroy())}))}},Yt.pie.prototype.placeDataLabels=function(){Xt(this.points,function(t){var e,t=t.dataLabel;t&&((e=t._pos)?(t.attr(t._attr),t[t.moved?"animate":"attr"](e),t.moved=!0):t&&t.attr({y:-999}))})},Yt.pie.prototype.alignDataLabel=Lt,Yt.pie.prototype.verifyDataLabelOverflow=function(t){var e,i=this.center,n=this.options,r=n.center,s=n=n.minSize||80;return null!==r[0]?s=dt(i[2]-dt(t[1],t[3]),n):(s=dt(i[2]-t[1]-t[3],n),i[0]+=(t[3]-t[1])/2),null!==r[1]?s=dt(pt(s,i[2]-dt(t[0],t[2])),n):(s=dt(pt(s,i[2]-t[0]-t[2]),n),i[1]+=(t[0]-t[2])/2),s<i[2]?(i[2]=s,this.translate(i),Xt(this.points,function(t){t.dataLabel&&(t.dataLabel._pos=null)}),this.drawDataLabels&&this.drawDataLabels()):e=!0,e}),Yt.column&&(Yt.column.prototype.alignDataLabel=function(t,i,n,r,s){var a=this.chart,o=a.inverted,l=t.dlBox||t.shapeArgs,h=t.below||t.plotY>p(this.translatedThreshold,a.plotSizeY),c=p(n.inside,!!this.options.stacking);l&&(r=e(l),o&&(r={x:a.plotWidth-r.y-r.height,y:a.plotHeight-r.x-r.width,width:r.height,height:r.width}),!c)&&(o?(r.x+=h?0:r.width,r.width=0):(r.y+=h?r.height:0,r.height=0)),n.align=p(n.align,!o||c?"center":h?"right":"left"),n.verticalAlign=p(n.verticalAlign,o||c?"middle":h?"top":"bottom"),me.prototype.alignDataLabel.call(this,t,i,n,r,s)}),t(Highcharts,{Axis:O,Chart:B,Color:ae,Point:ge,Tick:$,Tooltip:E,Renderer:Y,Series:me,SVGElement:L,SVGRenderer:oe,arrayMin:C,arrayMax:T,charts:$t,dateFormat:F,format:b,pathAnim:Q,getOptions:function(){return H},hasBidiBug:Mt,isTouchDevice:Ct,numberFormat:y,seriesTypes:Yt,setOptions:function(t){return H=e(!0,H,t),I(),H},addEvent:Vt,removeEvent:Kt,createElement:g,discardElement:M,css:f,each:Xt,extend:t,map:Ut,merge:e,pick:p,splat:d,extendClass:m,pInt:i,wrap:x,svg:St,canvas:At,vml:!St&&!At,product:"Highcharts",version:"3.0.9"})}(),$(function(){var t=$(".weatherPointer"),e=$(".weatherDateList");e.on("click","li",function(i){var n,r,s;s=$(this),s.hasClass("cur")||(s.addClass("cur").siblings().removeClass("cur"),n=s.offset().left-e.offset().left+s.width()/2-15,r=s.height()+33,t.stop().animate({display:"block",left:n+"px"},300))}),$("#maxMinData").datepicker({changeYear:!0,changeMonthType:!0,maxDate:new Date});var i=["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],n=window.location.href,r=n.match(/\/([a-z\-]+)\/weather/);$.getJSON("/weather.php?action=getYearWeather&cityname="+r[1],function(t){if(t.flag){var e={chart:{},title:{text:""},xAxis:{categories:i},yAxis:[{labels:{format:"{value}°C",style:{color:"#959595"}},title:{text:""}},{labels:{format:"{value} mm",style:{color:"#959595"}},title:{text:""},opposite:!0}],plotOptions:{series:{lineWidth:4}},tooltip:{shared:!0},credits:{enabled:!1},series:[{type:"column",name:"降水量",yAxis:1,data:t.rain,color:"#77d7ff",tooltip:{valueSuffix:" mm"}},{type:"line",name:"最高温度",data:t.hightemp,color:"#f5802d",marker:{lineWidth:2,lineColor:"#f5802d",fillColor:"#f5802d"},tooltip:{valueSuffix:"°C"}},{type:"line",name:"最低温度",data:t.lowtemp,color:"#1995dd",marker:{lineWidth:2,lineColor:"#1995dd",fillColor:"#1995dd"},tooltip:{valueSuffix:"°C"}}]};$(".curCityTrend").show(),$("#curCityTrendChart").highcharts(e)}else $(".curCityTrend").remove()})});